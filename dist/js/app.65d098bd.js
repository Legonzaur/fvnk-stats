(function(){"use strict";var e={9228:function(e,t,n){var a=n(9242),r=n(3396);function o(e,t){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}var s=n(89);const i={},l=(0,s.Z)(i,[["render",o]]);var c=l,u=n(2483);const d={class:"home"},f={ref:"downloader",style:{display:"none"}},p=(0,r._)("br",null,null,-1),m=(0,r._)("br",null,null,-1);function h(e,t,n,a,o,s){const i=(0,r.up)("FileLoader"),l=(0,r.up)("Generator"),c=(0,r.up)("CodeBlock"),u=(0,r.up)("QueryChart"),h=(0,r.up)("QueryTable");return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("a",f,null,512),(0,r.Wm)(i),(0,r._)("button",{onClick:t[0]||(t[0]=(...t)=>e.save&&e.save(...t))},"Save"),p,m,(0,r.Wm)(l,{modelValue:e.sqlQuery,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sqlQuery=t),onSubmit:e.process},null,8,["modelValue","onSubmit"]),(0,r.Wm)(c,{modelValue:e.sqlQuery,"onUpdate:modelValue":t[2]||(t[2]=t=>e.sqlQuery=t),onSubmit:e.process},null,8,["modelValue","onSubmit"]),(0,r.Wm)(u,{columns:e.columns,values:e.values},null,8,["columns","values"]),(0,r.Wm)(h,{columns:e.columns,values:e.values},null,8,["columns","values"])])}var v=n(2482),_=n(6520);const g={ref:"code"};function b(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",g,null,512),(0,r._)("button",{onClick:t[0]||(t[0]=(...t)=>e.submit&&e.submit(...t))},"Execute SQL")],64)}const w=new Worker("./worker.sql-wasm.js");w.onerror=e=>console.log("Worker error: ",e);const y=[];let T,$=0;function E(e,t){return new Promise(((n,a)=>{w.postMessage({id:++$,action:"exec",sql:e,params:t}),y[$]={resolve:n,reject:a}}))}function k(){return new Promise(((e,t)=>{w.postMessage({id:++$,action:"export"}),y[$]={resolve:e,reject:t}}))}function O(e){return new Promise(((t,n)=>{w.postMessage({id:++$,action:"open",buffer:e}),y[$]={resolve:t,reject:n}}))}w.onmessage=e=>{y[e.data.id]&&(e.data.error?y[e.data.id].reject(e):y[e.data.id].resolve(e),delete y[e.data.id])};const R=new Promise((e=>{T=e}));async function S(e,t){return await R,E(e,t)}var x=n(1901),C=n(3066),P=n(1414),D=n(5406),j=n(5266),A=function(e,t,n,a){var r,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let N=class extends _.w3{constructor(...e){super(...e),(0,v.Z)(this,"view",void 0),(0,v.Z)(this,"modelValue",void 0)}async mounted(){const e=(await S("SELECT * FROM data LIMIT 1")).data.results[0].columns;this.view=new x.tk({doc:this.modelValue,extensions:[D.vk,x.$f.of([j.oc]),C.Xy,(0,P.i6)({schema:{data:e},dialect:P.ey,defaultTable:"data",upperCaseKeywords:!0}),x.tk.updateListener.of((e=>{e.docChanged&&this.$emit("update:modelValue",e.state.doc.toString())}))],parent:this.$refs.code})}submit(){this.$emit("submit"),this.$router.push({query:{}})}};N=A([(0,_.Ei)({props:{modelValue:String},watch:{modelValue(e){e!==this.view.state.doc.toString()&&this.view.update([this.view.state.update({changes:{from:0,to:this.view.state.doc.length,insert:e}})])}},emits:["update:modelValue","submit"]})],N);var q=N;const L=(0,s.Z)(q,[["render",b]]);var I=L,U=n(7139);const V={class:"queryTable"},Z={ref:"headersArea",id:"headersArea"},X={ref:"contentArea",id:"contentArea",class:"clusterize-content"},G=(0,r._)("tr",{class:"clusterize-no-data"},[(0,r._)("td",null,"Loading dataâ€¦")],-1),B=[G];function M(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)("div",V,[(0,r._)("table",Z,[(0,r._)("thead",null,[(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.columns,(e=>((0,r.wg)(),(0,r.iD)("td",{key:e},(0,U.zw)(e),1)))),128))])])],512),(0,r._)("div",{id:"scrollArea",ref:"scrollArea",class:"clusterize-scroll",onScroll:t[0]||(t[0]=(...t)=>e.scroll&&e.scroll(...t))},[(0,r._)("table",null,[(0,r._)("tbody",X,B,512)])],544)])}var Q=n(2707),Y=n.n(Q),F=function(e,t,n,a){var r,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let K=class extends _.w3{constructor(...e){super(...e),(0,v.Z)(this,"columns",void 0),(0,v.Z)(this,"values",void 0),(0,v.Z)(this,"clusterize",void 0),(0,v.Z)(this,"headerOffset",0)}mounted(){this.clusterize=new(Y())({scrollId:"scrollArea",contentId:"contentArea",callbacks:{clusterChanged:()=>{this.fitHeaders()}}})}fitHeaders(){const e=this.$refs.contentArea;if(!e)return;const t=this.$refs.headersArea;let n=[];const a=e.querySelector("tr:not(.clusterize-extra-row)");if(!a)return;const r=[];if(Array.from(a.children).forEach((function(e){r.push(e.clientWidth)})),r.toString()===n.toString())return;const o=t.querySelector("tr");o&&(this.headerOffset=a.children[0].getBoundingClientRect().left-a.getBoundingClientRect().left-8,this.scroll(),Array.from(o.children).forEach((function(e,t){e.setAttribute("style",`width: ${r[t]-2}px;`)})),n=r)}scroll(){this.$refs.headersArea.setAttribute("style",`margin-left: ${this.$refs.scrollArea.children[0].getBoundingClientRect().left+this.headerOffset}px;`)}};K=F([(0,_.Ei)({props:{columns:Array,values:Array},watch:{values(e){this.clusterize?.update(e.map((e=>{const t=e.join("</td><td>");return t.slice(0,-5),"<tr><td>"+t+"</tr>"}))),(0,r.Y3)(this.fitHeaders)}}})],K);var H=K;const W=(0,s.Z)(H,[["render",M]]);var z=W;const J={class:"chart-container",style:{position:"relative",height:"5vw",width:"90vw"}},ee={ref:"chart"};function te(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)("div",J,[(0,r._)("canvas",ee,null,512)])}var ne=n(741),ae=function(e,t,n,a){var r,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};ne.kL.register(...ne.zX);let re=class extends _.w3{constructor(...e){super(...e),(0,v.Z)(this,"columns",void 0),(0,v.Z)(this,"values",void 0),(0,v.Z)(this,"chart",void 0)}mounted(){this.draw()}draw(){if(!this.values||this.values.length<1||!this.columns)return;this.chart?.destroy();let e=this.values;e.length>200&&(console.warn("too many values to display : trimmed to 200"),e=this.values.slice(0,200));const t={labels:e?.map((e=>e[1])),datasets:[{label:this.columns[0],backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:e?.map((e=>Number(e[0]))),maxBarThickness:20}]},n={type:"bar",data:t,options:{scales:{y:{beginAtZero:!0}},indexAxis:"y",maintainAspectRatio:!1}};this.chart=new ne.kL(this.$refs.chart,n);const a=this.chart.canvas.parentNode;a&&(a.style.height=60+20*e.length+"px")}};re=ae([(0,_.Ei)({props:{columns:Array,values:Array},watch:{values(){this.draw()}}})],re);var oe=re;const se=(0,s.Z)(oe,[["render",te]]);var ie=se;const le={class:"generator"},ce=["disabled"],ue={key:0,selected:"true",value:""},de=(0,r._)("option",{value:"AVG"},"average",-1),fe=(0,r._)("option",{value:"MIN"},"min",-1),pe=(0,r._)("option",{value:"MAX"},"max",-1),me=(0,r._)("option",{value:"SUM"},"sum of",-1),he=["value"],ve=(0,r.Uk)(" per "),_e={ref:"per",name:"per"},ge=["value"];function be(e,t,n,a,o,s){const i=(0,r.up)("Filter");return(0,r.wg)(),(0,r.iD)("div",le,[(0,r._)("select",{ref:"type",name:"type",disabled:"count"==e.getSelection},["count"==e.getSelection?((0,r.wg)(),(0,r.iD)("option",ue)):(0,r.kq)("",!0),de,fe,pe,me],8,ce),(0,r._)("select",{ref:"get",name:"get",onChange:t[0]||(t[0]=(...t)=>e.getChange&&e.getChange(...t))},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.dataGet,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{key:t,value:t},(0,U.zw)(e.label),9,he)))),128))],544),ve,(0,r._)("select",_e,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.columns,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e,value:e},(0,U.zw)(e),9,ge)))),128))],512),(0,r._)("button",{onClick:t[1]||(t[1]=(...t)=>e.addFilter&&e.addFilter(...t))},"Add Filter"),e.filters.length>0?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[2]||(t[2]=t=>e.filters.pop())},"Delete Filter")):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.filters,((t,n)=>((0,r.wg)(),(0,r.j4)(i,{key:n,index:n,modelValue:e.filters[n],"onUpdate:modelValue":t=>e.filters[n]=t},null,8,["index","modelValue","onUpdate:modelValue"])))),128)),(0,r._)("button",{onClick:t[3]||(t[3]=(...t)=>e.submit&&e.submit(...t))},"Generate and Execute SQL")])}const we={class:"filter"},ye=["disabled"],Te={key:0,selected:"true",value:""},$e=(0,r._)("option",{value:"AVG"},"average",-1),Ee=(0,r._)("option",{value:"MIN"},"min",-1),ke=(0,r._)("option",{value:"MAX"},"max",-1),Oe=(0,r._)("option",{value:"SUM"},"sum of",-1),Re=(0,r._)("option",{value:"COUNT(*)"},"number of entries",-1),Se=["value"],xe=(0,r._)("option",{value:"=="},"==",-1),Ce=(0,r._)("option",{value:">"},">",-1),Pe=(0,r._)("option",{value:"<"},"<",-1),De=[xe,Ce,Pe],je=["list"],Ae=["id"],Ne=["value"];function qe(e,t,n,o,s,i){return(0,r.wg)(),(0,r.iD)("div",we,[(0,r._)("select",{ref:"type",name:"type",disabled:"COUNT(*)"==e.getSelection||"TEXT"==e.getSelectionType,onChange:t[0]||(t[0]=(...t)=>e.generate&&e.generate(...t))},["COUNT(*)"==e.getSelection||"TEXT"==e.getSelectionType?((0,r.wg)(),(0,r.iD)("option",Te)):(0,r.kq)("",!0),$e,Ee,ke,Oe],40,ye),(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.getSelection=t),ref:"get",name:"get"},[Re,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.columns,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{key:t,value:t},(0,U.zw)(t),9,Se)))),128))],512),[[a.bM,e.getSelection]]),(0,r._)("select",{ref:"compare",name:"compare",onChange:t[2]||(t[2]=(...t)=>e.generate&&e.generate(...t))},De,544),(0,r._)("input",{ref:"compareTarget",type:"text",list:"compareTarget"+e.index,onChange:t[3]||(t[3]=(...t)=>e.generate&&e.generate(...t))},null,40,je),(0,r._)("datalist",{id:"compareTarget"+e.index},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.compareValues,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e,value:e},null,8,Ne)))),128))],8,Ae)])}var Le=function(e,t,n,a){var r,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Ie=class extends _.w3{constructor(...e){super(...e),(0,v.Z)(this,"index",void 0),(0,v.Z)(this,"columns",{}),(0,v.Z)(this,"numericColumns",[]),(0,v.Z)(this,"getSelection","COUNT(*)"),(0,v.Z)(this,"getSelectionType",""),(0,v.Z)(this,"queryManager",void 0),(0,v.Z)(this,"compareValues",[])}created(){S('SELECT * from pragma_table_info("data");').then((({data:e})=>{this.columns=e.results[0].values.reduce(((e,t)=>{const n=t;return e[n[1]]=n[2],e}),{})}))}generate(){const e=this.$refs.type.value,t=this.getSelection,n=this.$refs.compare.value;let a=this.$refs.compareTarget.value;if(!t||!a||!n)return;let r="data."+t;e&&(r=`${e}(${r})`),"TEXT"===this.getSelectionType&&(a="'"+a+"'"),this.$emit("update:modelValue",`${r} ${n} ${a}`)}};Ie=Le([(0,_.Ei)({props:{index:Number},emits:["update:modelValue","submit","delete"],watch:{getSelection(e){this.getSelectionType=this.columns[e],"TEXT"!==this.columns[e]?this.compareValues=[]:S(`SELECT ${e} FROM data GROUP BY ${e}`).then((({data:e})=>{this.compareValues=e.results[0].values.map((e=>e[0]))})),this.generate()}}})],Ie);var Ue=Ie;const Ve=(0,s.Z)(Ue,[["render",qe]]);var Ze,Xe=Ve,Ge=function(e,t,n,a){var r,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Be=Ze=class extends _.w3{constructor(...e){super(...e),(0,v.Z)(this,"dataGet",{count:{label:"number of entries",values:["player","weapon","map","game_mode","cause_of_death"],sql:"COUNT(*)"},kills:{label:"kills",values:["player","weapon"],sql:"kills",subquery:"killsPer$label as ( SELECT COUNT(*) as 'kills', attacker_$suffix from data GROUP BY attacker_$suffix ORDER BY `kills` DESC)",join:"LEFT JOIN killsPer$label ON killsPer$label.attacker_$suffix == data.attacker_$suffix"},deaths:{label:"deaths",values:["player","weapon"],sql:"deaths",subquery:"deathsPer$label as ( SELECT COUNT(*) as 'deaths', victim_$suffix from data GROUP BY victim_$suffix ORDER BY `deaths` DESC)",join:"LEFT JOIN deathsPer$label ON deathsPer$label.victim_$suffix == data.attacker_$suffix"},KD:{label:"K/D",values:["player","weapon"],sql:"KD",subquery:"killsPer$label as ( SELECT COUNT(*) as 'kills', attacker_$suffix from data GROUP BY attacker_$suffix ORDER BY `kills` DESC),\n  deathsPer$label as ( SELECT COUNT(*) as 'deaths', victim_$suffix from data GROUP BY victim_$suffix ORDER BY `deaths` DESC),\n  KDPer$label as (SELECT CAST(killsPer$label.kills AS REAL)/deathsPer$label.deaths as 'KD', killsPer$label.attacker_$suffix FROM killsPer$label INNER JOIN deathsPer$label ON killsPer$label.attacker_$suffix == deathsPer$label.victim_$suffix GROUP BY killsPer$label.attacker_$suffix ORDER BY `KD` DESC)",join:"LEFT JOIN KDPer$label ON KDPer$label.attacker_$suffix == data.attacker_$suffix"},distance:{label:"distance",values:["player","weapon","map","game_mode","cause_of_death"],sql:"distance"},player_count:{label:"player count",values:["player","weapon","map","game_mode","cause_of_death"],sql:"player_count"}}),(0,v.Z)(this,"dataPer",{player:{suffix:"name",label:"Player",sql:"attacker_name"},weapon:{suffix:"current_weapon",label:"Weapon",sql:"cause_of_death"},map:{sql:"map",label:"map"},game_mode:{sql:"game_mode",label:"gamemode"},cause_of_death:{sql:"cause_of_death",label:"cause of death"}}),(0,v.Z)(this,"getSelection","count"),(0,v.Z)(this,"columns",this.dataGet.count.values),(0,v.Z)(this,"modelValue",void 0),(0,v.Z)(this,"filters",[]),(0,v.Z)(this,"filterCounter",0)}render(){return(0,r.h)(Ze,{modelValue:this.modelValue,"onUpdate:modelValue":e=>this.$emit("update:modelValue",e)})}getChange(e){const t=e.target,n=this.dataGet[t.value];this.columns=n.values,this.getSelection=t.value}addFilter(){this.filters.push("")}submit(){this.generate()}generate(){const e=this.$refs.type.value,t=this.dataGet[this.getSelection].sql,n=this.dataPer[this.$refs.per.value].sql;if(!t||!n)return;let a=t;e&&(a=`${e}(${a})`);const{where:r,having:o}=this.generateFilters(),{prefix:s,joins:i}=this.generateSubQueries();this.$emit("update:modelValue",`${s}SELECT ${a} as '${this.getSelection}', data.${n}\n  FROM data ${i} ${r}\n  GROUP BY data.${n} ${o}\n  ORDER BY \`${this.getSelection}\` DESC\n  LIMIT 400;`),this.$emit("submit")}generateSubQueries(){let e="",t="";const n=this.dataGet[this.getSelection],a=this.dataPer[this.$refs.per.value];return n.join&&(t="\n"+n.join?.replaceAll("$label",a.label),a.suffix&&(t=t.replaceAll("$suffix",a.suffix))),n.subquery&&(e="WITH\n  "+n.subquery.replaceAll("$label",a.label)+"\n\n",a.suffix&&(e=e.replaceAll("$suffix",a.suffix))),{prefix:e,joins:t}}generateFilters(){const e=this.filters.filter((e=>e)),t=[];let n="",a="";if(e){let r=e.findIndex((e=>e.startsWith("COUNT")));while(r>-1)t.push(e.splice(r,1)),r=e.findIndex((e=>e.startsWith("COUNT")));if(e.length>0){n=`\n  WHERE ${e.shift()}`;for(const t in e)n+=" AND "+e[t]}if(t.length>0){a=`\n  HAVING ${t.shift()}`;for(const e in t)a+=" AND "+t[e]}}return{where:n,having:a}}};Be=Ze=Ge([(0,_.Ei)({components:{Filter:Xe},props:{modelValue:String},emits:["update:modelValue","submit"]})],Be);var Me=Be;const Qe=(0,s.Z)(Me,[["render",be]]);var Ye=Qe;const Fe={class:"loader"};function Ke(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)("div",Fe,[(0,r._)("input",{type:"file",ref:"file",accept:".db,.csv",style:{display:"none"},onChange:t[0]||(t[0]=(...t)=>e.load&&e.load(...t))},null,544),(0,r._)("button",{onClick:t[1]||(t[1]=t=>e.$refs.file.click())},"open file dialog")])}n(8675),n(3462),n(7380),n(1118);var He=n(6064);const We=[],ze=(0,He.Qc)({columns:!0});function Je(e){return new Promise(((t,n)=>{E('CREATE TABLE "data" (\n          servername TEXT,\n          region TEXT,\n          rebalanced TEXT,\n          killstat_version TEXT,\n          match_id TEXT,\n          game_mode TEXT,\n          map TEXT,\n          unix_time INTEGER,\n          game_time REAL,\n          player_count INTEGER,\n          attacker_name TEXT,\n          attacker_id TEXT,\n          attacker_current_weapon TEXT,\n          attacker_current_weapon_mods INTEGER,\n          attacker_weapon_1 TEXT,\n          attacker_weapon_1_mods INTEGER,\n          attacker_weapon_2 TEXT,\n          attacker_weapon_2_mods INTEGER,\n          attacker_weapon_3 TEXT,\n          attacker_weapon_3_mods INTEGER,\n          attacker_offhand_weapon_1 TEXT,\n          attacker_offhand_weapon_2 TEXT,\n          victim_name TEXT,\n          victim_id TEXT,\n          victim_current_weapon TEXT,\n          victim_current_weapon_mods INTEGER,\n          victim_weapon_1 TEXT,\n          victim_weapon_1_mods INTEGER,\n          victim_weapon_2 TEXT,\n          victim_weapon_2_mods INTEGER,\n          victim_weapon_3 TEXT,\n          victim_weapon_3_mods INTEGER,\n          victim_offhand_weapon_1 TEXT,\n          victim_offhand_weapon_2 TEXT,\n          cause_of_death TEXT,\n          distance INTEGER\n          );'),ze.on("readable",(()=>{let e;while(null!==(e=ze.read()))We.push(E("INSERT INTO data VALUES (\n              $servername,\n              $region,\n              $rebalanced,\n              $killstat_version,\n              $match_id,\n              $game_mode,\n              $map,\n              $unix_time,\n              $game_time,\n              $player_count,\n              $attacker_name,\n              $attacker_id,\n              $attacker_current_weapon,\n              $attacker_current_weapon_mods,\n              $attacker_weapon_1,\n              $attacker_weapon_1_mods,\n              $attacker_weapon_2,\n              $attacker_weapon_2_mods,\n              $attacker_weapon_3,\n              $attacker_weapon_3_mods,\n              $attacker_offhand_weapon_1,\n              $attacker_offhand_weapon_2,\n              $victim_name,\n              $victim_id,\n              $victim_current_weapon,\n              $victim_current_weapon_mods,\n              $victim_weapon_1,\n              $victim_weapon_1_mods,\n              $victim_weapon_2,\n              $victim_weapon_2_mods,\n              $victim_weapon_3,\n              $victim_weapon_3_mods,\n              $victim_offhand_weapon_1,\n              $victim_offhand_weapon_2,\n              $cause_of_death,\n              $distance)",Object.fromEntries(Object.entries(e).map((([e,t])=>[`$${e}`,t])))))})),ze.on("error",(function(e){console.error(e.message),n(e.message)})),ze.on("end",(async function(){t()})),ze.write(e),ze.end()}))}async function et(e){await O(e)}var tt=function(e,t,n,a){var r,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let nt=class extends _.w3{created(){0}load(e){const t=new FileReader,n=e.target;if(!n||!n.files)return;const a=n.files[0].name;t.onload=async function(){const e=this.result;if(!e||"string"===typeof e)return;const t=new Uint8Array(e);if(a.endsWith("csv")){const e=(new TextDecoder).decode(t);await Je(e)}else console.log(t),await et(t);T(!0)},t.readAsArrayBuffer(n.files[0])}};nt=tt([(0,_.Ei)({})],nt);var at=nt;const rt=(0,s.Z)(at,[["render",Ke]]);var ot=rt,st=function(e,t,n,a){var r,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};_.w3.registerHooks(["beforeRouteLeave"]);let it=class extends _.w3{constructor(...e){super(...e),(0,v.Z)(this,"sqlQuery",localStorage.getItem("sqlQuery")||"SELECT COUNT(*) as 'number of entries', attacker_name FROM data GROUP BY attacker_name ORDER BY `number of entries` DESC LIMIT 400;"),(0,v.Z)(this,"columns",new Array),(0,v.Z)(this,"values",new Array)}mounted(){this.sqlQuery=localStorage.getItem("sqlQuery")||this.sqlQuery,window.addEventListener("beforeunload",(()=>{localStorage.setItem("sqlQuery",this.sqlQuery)})),this.process()}beforeRouteLeave(){return localStorage.setItem("sqlQuery",this.sqlQuery),!0}process(){S(this.sqlQuery).then((({data:e})=>{const t=e.results[0];this.columns=t.columns,this.values=t.values})).catch((({data:e})=>{console.error(e.error)}))}save(){k().then((e=>{if(!e.data.buffer)return;const t=new Blob([e.data.buffer],{type:"octet/stream"}),n=window.URL.createObjectURL(t),a=this.$refs.downloader;a.href=n,a.download="data.db",a.click(),window.URL.revokeObjectURL(n)}))}};it=st([(0,_.Ei)({components:{CodeBlock:I,QueryTable:z,QueryChart:ie,Generator:Ye,FileLoader:ot}})],it);var lt=it;const ct=(0,s.Z)(lt,[["render",h]]);var ut=ct;const dt=[{path:"/",name:"home",component:ut},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,8369))}],ft=(0,u.p7)({history:(0,u.PO)("/fvnk-stats/"),routes:dt});var pt=ft,mt=n(65);const ht=(0,mt.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});var vt=ht;(0,a.ri)(c).use(vt).use(pt).mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.f4046cf5.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="stats:";n.l=function(a,r,o,s){if(e[a])e[a].push(r);else{var i,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=a),e[a]=[r];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var r=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/fvnk-stats/"}(),function(){var e={143:0};n.f.j=function(t,a){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=e[t]=[n,a]}));a.push(r[2]=o);var s=n.p+n.u(t),i=new Error,l=function(a){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,r[1](i)}};n.l(s,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,s=a[0],i=a[1],l=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var u=l(n)}for(t&&t(a);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self["webpackChunkstats"]=self["webpackChunkstats"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9228)}));a=n.O(a)})();
//# sourceMappingURL=app.65d098bd.js.map