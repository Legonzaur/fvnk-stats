(self["webpackChunkstats"]=self["webpackChunkstats"]||[]).push([[998],{9662:function(t,e,n){var i=n(614),r=n(6330),s=TypeError;t.exports=function(t){if(i(t))return t;throw s(r(t)+" is not a function")}},6077:function(t,e,n){var i=n(614),r=String,s=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw s("Can't set "+r(t)+" as a prototype")}},1223:function(t,e,n){var i=n(5112),r=n(30),s=n(3070).f,o=i("unscopables"),a=Array.prototype;void 0==a[o]&&s(a,o,{configurable:!0,value:r(null)}),t.exports=function(t){a[o][t]=!0}},9670:function(t,e,n){var i=n(111),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw s(r(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var i,r,s,o=n(4019),a=n(9781),l=n(7854),h=n(614),c=n(111),u=n(2597),f=n(648),d=n(6330),p=n(8880),g=n(8052),m=n(3070).f,v=n(7976),b=n(9518),y=n(7674),w=n(5112),x=n(9711),_=n(9909),k=_.enforce,S=_.get,M=l.Int8Array,O=M&&M.prototype,C=l.Uint8ClampedArray,A=C&&C.prototype,T=M&&b(M),E=O&&b(O),D=Object.prototype,P=l.TypeError,R=w("toStringTag"),I=x("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",N=o&&!!y&&"Opera"!==f(l.opera),B=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},z=function(t){if(!c(t))return!1;var e=f(t);return"DataView"===e||u(j,e)||u(F,e)},V=function(t){var e=b(t);if(c(e)){var n=S(e);return n&&u(n,L)?n[L]:V(e)}},W=function(t){if(!c(t))return!1;var e=f(t);return u(j,e)||u(F,e)},H=function(t){if(W(t))return t;throw P("Target is not a typed array")},$=function(t){if(h(t)&&(!y||v(T,t)))return t;throw P(d(t)+" is not a typed array constructor")},U=function(t,e,n,i){if(a){if(n)for(var r in j){var s=l[r];if(s&&u(s.prototype,t))try{delete s.prototype[t]}catch(o){try{s.prototype[t]=e}catch(h){}}}E[t]&&!n||g(E,t,n?e:N&&O[t]||e,i)}},q=function(t,e,n){var i,r;if(a){if(y){if(n)for(i in j)if(r=l[i],r&&u(r,t))try{delete r[t]}catch(s){}if(T[t]&&!n)return;try{return g(T,t,n?e:N&&T[t]||e)}catch(s){}}for(i in j)r=l[i],!r||r[t]&&!n||g(r,t,e)}};for(i in j)r=l[i],s=r&&r.prototype,s?k(s)[L]=r:N=!1;for(i in F)r=l[i],s=r&&r.prototype,s&&(k(s)[L]=r);if((!N||!h(T)||T===Function.prototype)&&(T=function(){throw P("Incorrect invocation")},N))for(i in j)l[i]&&y(l[i],T);if((!N||!E||E===D)&&(E=T.prototype,N))for(i in j)l[i]&&y(l[i].prototype,E);if(N&&b(A)!==E&&y(A,E),a&&!u(E,R))for(i in B=!0,m(E,R,{get:function(){return c(this)?this[I]:void 0}}),j)l[i]&&p(l[i],I,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:B&&I,aTypedArray:H,aTypedArrayConstructor:$,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:V,isView:z,isTypedArray:W,TypedArray:T,TypedArrayPrototype:E}},1318:function(t,e,n){var i=n(5656),r=n(1400),s=n(6244),o=function(t){return function(e,n,o){var a,l=i(e),h=s(l),c=r(o,h);if(t&&n!=n){while(h>c)if(a=l[c++],a!=a)return!0}else for(;h>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},9671:function(t,e,n){var i=n(9974),r=n(8361),s=n(7908),o=n(6244),a=function(t){var e=1==t;return function(n,a,l){var h,c,u=s(n),f=r(u),d=i(a,l),p=o(f);while(p-- >0)if(h=f[p],c=d(h,p,u),c)switch(t){case 0:return h;case 1:return p}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},206:function(t,e,n){var i=n(1702);t.exports=i([].slice)},4326:function(t,e,n){var i=n(1702),r=i({}.toString),s=i("".slice);t.exports=function(t){return s(r(t),8,-1)}},648:function(t,e,n){var i=n(1694),r=n(614),s=n(4326),o=n(5112),a=o("toStringTag"),l=Object,h="Arguments"==s(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=i?s:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=l(t),a))?n:h?s(e):"Object"==(i=s(e))&&r(e.callee)?"Arguments":i}},7741:function(t,e,n){var i=n(1702),r=Error,s=i("".replace),o=function(t){return String(r(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);t.exports=function(t,e){if(l&&"string"==typeof t&&!r.prepareStackTrace)while(e--)t=s(t,a,"");return t}},9920:function(t,e,n){var i=n(2597),r=n(3887),s=n(1236),o=n(3070);t.exports=function(t,e,n){for(var a=r(e),l=o.f,h=s.f,c=0;c<a.length;c++){var u=a[c];i(t,u)||n&&i(n,u)||l(t,u,h(e,u))}}},8544:function(t,e,n){var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var i=n(9781),r=n(3070),s=n(9114);t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7045:function(t,e,n){var i=n(6339),r=n(3070);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},8052:function(t,e,n){var i=n(614),r=n(3070),s=n(6339),o=n(3072);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,h=void 0!==a.name?a.name:e;if(i(n)&&s(n,h,a),a.global)l?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:function(t,e,n){var i=n(7854),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var i=n(7854),r=n(111),s=i.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},6833:function(t,e,n){var i=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:function(t,e,n){var i=n(4326),r=n(7854);t.exports="process"==i(r.process)},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,r,s=n(7854),o=n(8113),a=s.process,l=s.Deno,h=a&&a.versions||l&&l.version,c=h&&h.v8;c&&(i=c.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var i=n(7293),r=n(9114);t.exports=!i((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},2109:function(t,e,n){var i=n(7854),r=n(1236).f,s=n(8880),o=n(8052),a=n(3072),l=n(9920),h=n(4705);t.exports=function(t,e){var n,c,u,f,d,p,g=t.target,m=t.global,v=t.stat;if(c=m?i:v?i[g]||a(g,{}):(i[g]||{}).prototype,c)for(u in e){if(d=e[u],t.dontCallGetSet?(p=r(c,u),f=p&&p.value):f=c[u],n=h(m?u:g+(v?".":"#")+u,t.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;l(d,f)}(t.sham||f&&f.sham)&&s(d,"sham",!0),o(c,u,d,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var i=n(4374),r=Function.prototype,s=r.apply,o=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},9974:function(t,e,n){var i=n(1702),r=n(9662),s=n(4374),o=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var i=n(7293);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var i=n(4374),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(t,e,n){var i=n(9781),r=n(2597),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,h=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:h}},1702:function(t,e,n){var i=n(4374),r=Function.prototype,s=r.bind,o=r.call,a=i&&s.bind(o,o);t.exports=i?function(t){return t&&a(t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var i=n(7854),r=n(614),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(i[t]):i[t]&&i[t][e]}},8173:function(t,e,n){var i=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:i(n)}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var i=n(1702),r=n(7908),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var i=n(5005);t.exports=i("document","documentElement")},4664:function(t,e,n){var i=n(9781),r=n(7293),s=n(317);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var i=n(1702),r=n(7293),s=n(4326),o=Object,a=i("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?a(t,""):o(t)}:o},9587:function(t,e,n){var i=n(614),r=n(111),s=n(7674);t.exports=function(t,e,n){var o,a;return s&&i(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&s(t,a),t}},2788:function(t,e,n){var i=n(1702),r=n(614),s=n(5465),o=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},8340:function(t,e,n){var i=n(111),r=n(8880);t.exports=function(t,e){i(e)&&"cause"in e&&r(t,"cause",e.cause)}},9909:function(t,e,n){var i,r,s,o=n(8536),a=n(7854),l=n(1702),h=n(111),c=n(8880),u=n(2597),f=n(5465),d=n(6200),p=n(3501),g="Object already initialized",m=a.TypeError,v=a.WeakMap,b=function(t){return s(t)?r(t):i(t,{})},y=function(t){return function(e){var n;if(!h(e)||(n=r(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}};if(o||f.state){var w=f.state||(f.state=new v),x=l(w.get),_=l(w.has),k=l(w.set);i=function(t,e){if(_(w,t))throw new m(g);return e.facade=t,k(w,t,e),e},r=function(t){return x(w,t)||{}},s=function(t){return _(w,t)}}else{var S=d("state");p[S]=!0,i=function(t,e){if(u(t,S))throw new m(g);return e.facade=t,c(t,S,e),e},r=function(t){return u(t,S)?t[S]:{}},s=function(t){return u(t,S)}}t.exports={set:i,get:r,has:s,enforce:b,getterFor:y}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,n){var i=n(7293),r=n(614),s=/#|\.prototype\./,o=function(t,e){var n=l[a(t)];return n==c||n!=h&&(r(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=o.data={},h=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:function(t,e,n){var i=n(614);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var i=n(5005),r=n(614),s=n(7976),o=n(3307),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&s(e.prototype,a(t))}},6244:function(t,e,n){var i=n(7466);t.exports=function(t){return i(t.length)}},6339:function(t,e,n){var i=n(7293),r=n(614),s=n(2597),o=n(9781),a=n(6530).CONFIGURABLE,l=n(2788),h=n(9909),c=h.enforce,u=h.get,f=Object.defineProperty,d=o&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||a&&t.name!==e)&&(o?f(t,"name",{value:e,configurable:!0}):t.name=e),d&&n&&s(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=c(t);return s(i,"source")||(i.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=g((function(){return r(this)&&u(this).source||l(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},133:function(t,e,n){var i=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(t,e,n){var i=n(7854),r=n(614),s=n(2788),o=i.WeakMap;t.exports=r(o)&&/native code/.test(s(o))},6277:function(t,e,n){var i=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},30:function(t,e,n){var i,r=n(9670),s=n(6048),o=n(748),a=n(3501),l=n(490),h=n(317),c=n(6200),u=">",f="<",d="prototype",p="script",g=c("IE_PROTO"),m=function(){},v=function(t){return f+p+u+t+f+"/"+p+u},b=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){var t,e=h("iframe"),n="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},w=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&i?b(i):y():b(i);var t=o.length;while(t--)delete w[d][o[t]];return w()};a[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[d]=r(t),n=new m,m[d]=null,n[g]=t):n=w(),void 0===e?n:s.f(n,e)}},6048:function(t,e,n){var i=n(9781),r=n(3353),s=n(3070),o=n(9670),a=n(5656),l=n(1956);e.f=i&&!r?Object.defineProperties:function(t,e){o(t);var n,i=a(e),r=l(e),h=r.length,c=0;while(h>c)s.f(t,n=r[c++],i[n]);return t}},3070:function(t,e,n){var i=n(9781),r=n(4664),s=n(3353),o=n(9670),a=n(4948),l=TypeError,h=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u="enumerable",f="configurable",d="writable";e.f=i?s?function(t,e,n){if(o(t),e=a(e),o(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var i=c(t,e);i&&i[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:u in n?n[u]:i[u],writable:!1})}return h(t,e,n)}:h:function(t,e,n){if(o(t),e=a(e),o(n),r)try{return h(t,e,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),r=n(6916),s=n(5296),o=n(9114),a=n(5656),l=n(4948),h=n(2597),c=n(4664),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=l(e),c)try{return u(t,e)}catch(n){}if(h(t,e))return o(!r(s.f,t,e),t[e])}},8006:function(t,e,n){var i=n(6324),r=n(748),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(2597),r=n(614),s=n(7908),o=n(6200),a=n(8544),l=o("IE_PROTO"),h=Object,c=h.prototype;t.exports=a?h.getPrototypeOf:function(t){var e=s(t);if(i(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof h?c:null}},7976:function(t,e,n){var i=n(1702);t.exports=i({}.isPrototypeOf)},6324:function(t,e,n){var i=n(1702),r=n(2597),s=n(5656),o=n(1318).indexOf,a=n(3501),l=i([].push);t.exports=function(t,e){var n,i=s(t),h=0,c=[];for(n in i)!r(a,n)&&r(i,n)&&l(c,n);while(e.length>h)r(i,n=e[h++])&&(~o(c,n)||l(c,n));return c}},1956:function(t,e,n){var i=n(6324),r=n(748);t.exports=Object.keys||function(t){return i(t,r)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(1702),r=n(9670),s=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(o){}return function(n,i){return r(n),s(i),e?t(n,i):n.__proto__=i,n}}():void 0)},2140:function(t,e,n){var i=n(6916),r=n(614),s=n(111),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!s(a=i(n,t)))return a;if(r(n=t.valueOf)&&!s(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!s(a=i(n,t)))return a;throw o("Can't convert object to primitive value")}},3887:function(t,e,n){var i=n(5005),r=n(1702),s=n(8006),o=n(5181),a=n(9670),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?l(e,n(t)):e}},2626:function(t,e,n){var i=n(3070).f;t.exports=function(t,e,n){n in t||i(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},7066:function(t,e,n){"use strict";var i=n(9670);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4488:function(t){var e=TypeError;t.exports=function(t){if(void 0==t)throw e("Can't call method on "+t);return t}},6200:function(t,e,n){var i=n(2309),r=n(9711),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},5465:function(t,e,n){var i=n(7854),r=n(3072),s="__core-js_shared__",o=i[s]||r(s,{});t.exports=o},2309:function(t,e,n){var i=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.24.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},261:function(t,e,n){var i,r,s,o,a=n(7854),l=n(2104),h=n(9974),c=n(614),u=n(2597),f=n(7293),d=n(490),p=n(206),g=n(317),m=n(8053),v=n(6833),b=n(5268),y=a.setImmediate,w=a.clearImmediate,x=a.process,_=a.Dispatch,k=a.Function,S=a.MessageChannel,M=a.String,O=0,C={},A="onreadystatechange";try{i=a.location}catch(R){}var T=function(t){if(u(C,t)){var e=C[t];delete C[t],e()}},E=function(t){return function(){T(t)}},D=function(t){T(t.data)},P=function(t){a.postMessage(M(t),i.protocol+"//"+i.host)};y&&w||(y=function(t){m(arguments.length,1);var e=c(t)?t:k(t),n=p(arguments,1);return C[++O]=function(){l(e,void 0,n)},r(O),O},w=function(t){delete C[t]},b?r=function(t){x.nextTick(E(t))}:_&&_.now?r=function(t){_.now(E(t))}:S&&!v?(s=new S,o=s.port2,s.port1.onmessage=D,r=h(o.postMessage,o)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!f(P)?(r=P,a.addEventListener("message",D,!1)):r=A in g("script")?function(t){d.appendChild(g("script"))[A]=function(){d.removeChild(this),T(t)}}:function(t){setTimeout(E(t),0)}),t.exports={set:y,clear:w}},1400:function(t,e,n){var i=n(9303),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},5656:function(t,e,n){var i=n(8361),r=n(4488);t.exports=function(t){return i(r(t))}},9303:function(t,e,n){var i=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},7466:function(t,e,n){var i=n(9303),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(4488),r=Object;t.exports=function(t){return r(i(t))}},4590:function(t,e,n){var i=n(3002),r=RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw r("Wrong offset");return n}},3002:function(t,e,n){var i=n(9303),r=RangeError;t.exports=function(t){var e=i(t);if(e<0)throw r("The argument can't be less than 0");return e}},7593:function(t,e,n){var i=n(6916),r=n(111),s=n(2190),o=n(8173),a=n(2140),l=n(5112),h=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var n,l=o(t,c);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||s(n))return n;throw h("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:function(t,e,n){var i=n(7593),r=n(2190);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},1694:function(t,e,n){var i=n(5112),r=i("toStringTag"),s={};s[r]="z",t.exports="[object z]"===String(s)},1340:function(t,e,n){var i=n(648),r=String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9711:function(t,e,n){var i=n(1702),r=0,s=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var i=n(9781),r=n(7293);t.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},5112:function(t,e,n){var i=n(7854),r=n(2309),s=n(2597),o=n(9711),a=n(133),l=n(3307),h=r("wks"),c=i.Symbol,u=c&&c["for"],f=l?c:c&&c.withoutSetter||o;t.exports=function(t){if(!s(h,t)||!a&&"string"!=typeof h[t]){var e="Symbol."+t;a&&s(c,t)?h[t]=c[t]:h[t]=l&&u?u(e):f(e)}return h[t]}},9191:function(t,e,n){"use strict";var i=n(5005),r=n(2597),s=n(8880),o=n(7976),a=n(7674),l=n(9920),h=n(2626),c=n(9587),u=n(6277),f=n(8340),d=n(7741),p=n(2914),g=n(9781),m=n(1913);t.exports=function(t,e,n,v){var b="stackTraceLimit",y=v?2:1,w=t.split("."),x=w[w.length-1],_=i.apply(null,w);if(_){var k=_.prototype;if(!m&&r(k,"cause")&&delete k.cause,!n)return _;var S=i("Error"),M=e((function(t,e){var n=u(v?e:t,void 0),i=v?new _(t):new _;return void 0!==n&&s(i,"message",n),p&&s(i,"stack",d(i.stack,2)),this&&o(k,this)&&c(i,this,M),arguments.length>y&&f(i,arguments[y]),i}));if(M.prototype=k,"Error"!==x?a?a(M,S):l(M,S,{name:!0}):g&&b in _&&(h(M,_,b),h(M,_,"prepareStackTrace")),l(M,_),!m)try{k.name!==x&&s(k,"name",x),k.constructor=M}catch(O){}return M}}},2262:function(t,e,n){"use strict";var i=n(2109),r=n(7908),s=n(6244),o=n(9303),a=n(1223);i({target:"Array",proto:!0},{at:function(t){var e=r(this),n=s(e),i=o(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:e[a]}}),a("at")},1703:function(t,e,n){var i=n(2109),r=n(7854),s=n(2104),o=n(9191),a="WebAssembly",l=r[a],h=7!==Error("e",{cause:7}).cause,c=function(t,e){var n={};n[t]=o(t,e,h),i({global:!0,constructor:!0,arity:1,forced:h},n)},u=function(t,e){if(l&&l[t]){var n={};n[t]=o(a+"."+t,e,h),i({target:a,stat:!0,constructor:!0,arity:1,forced:h},n)}};c("Error",(function(t){return function(e){return s(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),c("URIError",(function(t){return function(e){return s(t,this,arguments)}})),u("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),u("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),u("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},2087:function(t,e,n){var i=n(7854),r=n(9781),s=n(7045),o=n(7066),a=n(7293),l=i.RegExp,h=l.prototype,c=r&&a((function(){var t=!0;try{l(".","d")}catch(c){t=!1}var e={},n="",i=t?"dgimsy":"gimsy",r=function(t,i){Object.defineProperty(e,t,{get:function(){return n+=i,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(s.hasIndices="d"),s)r(o,s[o]);var a=Object.getOwnPropertyDescriptor(h,"flags").get.call(e);return a!==i||n!==i}));c&&s(h,"flags",{configurable:!0,get:o})},4506:function(t,e,n){"use strict";var i=n(2109),r=n(1702),s=n(4488),o=n(9303),a=n(1340),l=n(7293),h=r("".charAt),c=l((function(){return"\ud842"!=="𠮷".at(-2)}));i({target:"String",proto:!0,forced:c},{at:function(t){var e=a(s(this)),n=e.length,i=o(t),r=i>=0?i:n+i;return r<0||r>=n?void 0:h(e,r)}})},8675:function(t,e,n){"use strict";var i=n(260),r=n(6244),s=n(9303),o=i.aTypedArray,a=i.exportTypedArrayMethod;a("at",(function(t){var e=o(this),n=r(e),i=s(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:e[a]}))},2958:function(t,e,n){"use strict";var i=n(260),r=n(9671).findLastIndex,s=i.aTypedArray,o=i.exportTypedArrayMethod;o("findLastIndex",(function(t){return r(s(this),t,arguments.length>1?arguments[1]:void 0)}))},3408:function(t,e,n){"use strict";var i=n(260),r=n(9671).findLast,s=i.aTypedArray,o=i.exportTypedArrayMethod;o("findLast",(function(t){return r(s(this),t,arguments.length>1?arguments[1]:void 0)}))},3462:function(t,e,n){"use strict";var i=n(7854),r=n(6916),s=n(260),o=n(6244),a=n(4590),l=n(7908),h=n(7293),c=i.RangeError,u=i.Int8Array,f=u&&u.prototype,d=f&&f.set,p=s.aTypedArray,g=s.exportTypedArrayMethod,m=!h((function(){var t=new Uint8ClampedArray(2);return r(d,t,{length:1,0:3},1),3!==t[1]})),v=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&h((function(){var t=new u(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=l(t);if(m)return r(d,this,n,e);var i=this.length,s=o(n),h=0;if(s+e>i)throw c("Wrong length");while(h<s)this[e+h]=n[h++]}),!m||v)},1118:function(t,e,n){n(2958)},7380:function(t,e,n){n(3408)},1091:function(t,e,n){var i=n(2109),r=n(7854),s=n(261).clear;i({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==s},{clearImmediate:s})},4633:function(t,e,n){n(1091),n(2986)},2986:function(t,e,n){var i=n(2109),r=n(7854),s=n(261).set;i({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==s},{setImmediate:s})},4870:function(t,e,n){"use strict";n.d(e,{Bj:function(){return s},Fl:function(){return Ht},IU:function(){return At},Jd:function(){return k},PG:function(){return St},SU:function(){return Ft},Um:function(){return xt},WL:function(){return Vt},X$:function(){return C},X3:function(){return Ct},XI:function(){return Nt},Xl:function(){return Tt},dq:function(){return It},iH:function(){return Lt},j:function(){return M},lk:function(){return S},qj:function(){return wt},qq:function(){return y},yT:function(){return Ot}});var i=n(7139);let r;class s{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(t){if(this.active){const e=r;try{return r=this,t()}finally{r=e}}else 0}on(){r=this}off(){r=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function o(t,e=r){e&&e.active&&e.effects.push(t)}const a=t=>{const e=new Set(t);return e.w=0,e.n=0,e},l=t=>(t.w&p)>0,h=t=>(t.n&p)>0,c=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=p},u=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];l(r)&&!h(r)?r.delete(t):e[n++]=r,r.w&=~p,r.n&=~p}e.length=n}},f=new WeakMap;let d=0,p=1;const g=30;let m;const v=Symbol(""),b=Symbol("");class y{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,o(this,n)}run(){if(!this.active)return this.fn();let t=m,e=x;while(t){if(t===this)return;t=t.parent}try{return this.parent=m,m=this,x=!0,p=1<<++d,d<=g?c(this):w(this),this.fn()}finally{d<=g&&u(this),p=1<<--d,m=this.parent,x=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){m===this?this.deferStop=!0:this.active&&(w(this),this.onStop&&this.onStop(),this.active=!1)}}function w(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let x=!0;const _=[];function k(){_.push(x),x=!1}function S(){const t=_.pop();x=void 0===t||t}function M(t,e,n){if(x&&m){let e=f.get(t);e||f.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=a());const r=void 0;O(i,r)}}function O(t,e){let n=!1;d<=g?h(t)||(t.n|=p,n=!l(t)):n=!t.has(m),n&&(t.add(m),m.deps.push(t))}function C(t,e,n,r,s,o){const l=f.get(t);if(!l)return;let h=[];if("clear"===e)h=[...l.values()];else if("length"===n&&(0,i.kJ)(t))l.forEach(((t,e)=>{("length"===e||e>=r)&&h.push(t)}));else switch(void 0!==n&&h.push(l.get(n)),e){case"add":(0,i.kJ)(t)?(0,i.S0)(n)&&h.push(l.get("length")):(h.push(l.get(v)),(0,i._N)(t)&&h.push(l.get(b)));break;case"delete":(0,i.kJ)(t)||(h.push(l.get(v)),(0,i._N)(t)&&h.push(l.get(b)));break;case"set":(0,i._N)(t)&&h.push(l.get(v));break}if(1===h.length)h[0]&&A(h[0]);else{const t=[];for(const e of h)e&&t.push(...e);A(a(t))}}function A(t,e){const n=(0,i.kJ)(t)?t:[...t];for(const i of n)i.computed&&T(i,e);for(const i of n)i.computed||T(i,e)}function T(t,e){(t!==m||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const E=(0,i.fY)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.yk)),P=B(),R=B(!1,!0),I=B(!0),L=N();function N(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=At(this);for(let e=0,r=this.length;e<r;e++)M(n,"get",e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(At)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){k();const n=At(this)[e].apply(this,t);return S(),n}})),t}function B(t=!1,e=!1){return function(n,r,s){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_isShallow"===r)return e;if("__v_raw"===r&&s===(t?e?vt:mt:e?gt:pt).get(n))return n;const o=(0,i.kJ)(n);if(!t&&o&&(0,i.RI)(L,r))return Reflect.get(L,r,s);const a=Reflect.get(n,r,s);return((0,i.yk)(r)?D.has(r):E(r))?a:(t||M(n,"get",r),e?a:It(a)?o&&(0,i.S0)(r)?a:a.value:(0,i.Kn)(a)?t?_t(a):wt(a):a)}}const j=z(),F=z(!0);function z(t=!1){return function(e,n,r,s){let o=e[n];if(Mt(o)&&It(o)&&!It(r))return!1;if(!t&&!Mt(r)&&(Ot(r)||(r=At(r),o=At(o)),!(0,i.kJ)(e)&&It(o)&&!It(r)))return o.value=r,!0;const a=(0,i.kJ)(e)&&(0,i.S0)(n)?Number(n)<e.length:(0,i.RI)(e,n),l=Reflect.set(e,n,r,s);return e===At(s)&&(a?(0,i.aU)(r,o)&&C(e,"set",n,r,o):C(e,"add",n,r)),l}}function V(t,e){const n=(0,i.RI)(t,e),r=t[e],s=Reflect.deleteProperty(t,e);return s&&n&&C(t,"delete",e,void 0,r),s}function W(t,e){const n=Reflect.has(t,e);return(0,i.yk)(e)&&D.has(e)||M(t,"has",e),n}function H(t){return M(t,"iterate",(0,i.kJ)(t)?"length":v),Reflect.ownKeys(t)}const $={get:P,set:j,deleteProperty:V,has:W,ownKeys:H},U={get:I,set(t,e){return!0},deleteProperty(t,e){return!0}},q=(0,i.l7)({},$,{get:R,set:F}),J=t=>t,Q=t=>Reflect.getPrototypeOf(t);function G(t,e,n=!1,i=!1){t=t["__v_raw"];const r=At(t),s=At(e);n||(e!==s&&M(r,"get",e),M(r,"get",s));const{has:o}=Q(r),a=i?J:n?Dt:Et;return o.call(r,e)?a(t.get(e)):o.call(r,s)?a(t.get(s)):void(t!==r&&t.get(e))}function Y(t,e=!1){const n=this["__v_raw"],i=At(n),r=At(t);return e||(t!==r&&M(i,"has",t),M(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function K(t,e=!1){return t=t["__v_raw"],!e&&M(At(t),"iterate",v),Reflect.get(t,"size",t)}function X(t){t=At(t);const e=At(this),n=Q(e),i=n.has.call(e,t);return i||(e.add(t),C(e,"add",t,t)),this}function Z(t,e){e=At(e);const n=At(this),{has:r,get:s}=Q(n);let o=r.call(n,t);o||(t=At(t),o=r.call(n,t));const a=s.call(n,t);return n.set(t,e),o?(0,i.aU)(e,a)&&C(n,"set",t,e,a):C(n,"add",t,e),this}function tt(t){const e=At(this),{has:n,get:i}=Q(e);let r=n.call(e,t);r||(t=At(t),r=n.call(e,t));const s=i?i.call(e,t):void 0,o=e.delete(t);return r&&C(e,"delete",t,void 0,s),o}function et(){const t=At(this),e=0!==t.size,n=void 0,i=t.clear();return e&&C(t,"clear",void 0,void 0,n),i}function nt(t,e){return function(n,i){const r=this,s=r["__v_raw"],o=At(s),a=e?J:t?Dt:Et;return!t&&M(o,"iterate",v),s.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function it(t,e,n){return function(...r){const s=this["__v_raw"],o=At(s),a=(0,i._N)(o),l="entries"===t||t===Symbol.iterator&&a,h="keys"===t&&a,c=s[t](...r),u=n?J:e?Dt:Et;return!e&&M(o,"iterate",h?b:v),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function rt(t){return function(...e){return"delete"!==t&&this}}function st(){const t={get(t){return G(this,t)},get size(){return K(this)},has:Y,add:X,set:Z,delete:tt,clear:et,forEach:nt(!1,!1)},e={get(t){return G(this,t,!1,!0)},get size(){return K(this)},has:Y,add:X,set:Z,delete:tt,clear:et,forEach:nt(!1,!0)},n={get(t){return G(this,t,!0)},get size(){return K(this,!0)},has(t){return Y.call(this,t,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:nt(!0,!1)},i={get(t){return G(this,t,!0,!0)},get size(){return K(this,!0)},has(t){return Y.call(this,t,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:nt(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{t[r]=it(r,!1,!1),n[r]=it(r,!0,!1),e[r]=it(r,!1,!0),i[r]=it(r,!0,!0)})),[t,n,e,i]}const[ot,at,lt,ht]=st();function ct(t,e){const n=e?t?ht:lt:t?at:ot;return(e,r,s)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,i.RI)(n,r)&&r in e?n:e,r,s)}const ut={get:ct(!1,!1)},ft={get:ct(!1,!0)},dt={get:ct(!0,!1)};const pt=new WeakMap,gt=new WeakMap,mt=new WeakMap,vt=new WeakMap;function bt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:bt((0,i.W7)(t))}function wt(t){return Mt(t)?t:kt(t,!1,$,ut,pt)}function xt(t){return kt(t,!1,q,ft,gt)}function _t(t){return kt(t,!0,U,dt,mt)}function kt(t,e,n,r,s){if(!(0,i.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=s.get(t);if(o)return o;const a=yt(t);if(0===a)return t;const l=new Proxy(t,2===a?r:n);return s.set(t,l),l}function St(t){return Mt(t)?St(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Mt(t){return!(!t||!t["__v_isReadonly"])}function Ot(t){return!(!t||!t["__v_isShallow"])}function Ct(t){return St(t)||Mt(t)}function At(t){const e=t&&t["__v_raw"];return e?At(e):t}function Tt(t){return(0,i.Nj)(t,"__v_skip",!0),t}const Et=t=>(0,i.Kn)(t)?wt(t):t,Dt=t=>(0,i.Kn)(t)?_t(t):t;function Pt(t){x&&m&&(t=At(t),O(t.dep||(t.dep=a())))}function Rt(t,e){t=At(t),t.dep&&A(t.dep)}function It(t){return!(!t||!0!==t.__v_isRef)}function Lt(t){return Bt(t,!1)}function Nt(t){return Bt(t,!0)}function Bt(t,e){return It(t)?t:new jt(t,e)}class jt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:At(t),this._value=e?t:Et(t)}get value(){return Pt(this),this._value}set value(t){t=this.__v_isShallow?t:At(t),(0,i.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Et(t),Rt(this,t))}}function Ft(t){return It(t)?t.value:t}const zt={get:(t,e,n)=>Ft(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return It(r)&&!It(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function Vt(t){return St(t)?t:new Proxy(t,zt)}class Wt{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new y(t,(()=>{this._dirty||(this._dirty=!0,Rt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const t=At(this);return Pt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ht(t,e,n=!1){let r,s;const o=(0,i.mf)(t);o?(r=t,s=i.dG):(r=t.get,s=t.set);const a=new Wt(r,s,o||!s,n);return a}},3396:function(t,e,n){"use strict";n.d(e,{$d:function(){return o},FN:function(){return gn},Fl:function(){return Dn},HY:function(){return Ie},JJ:function(){return G},Ko:function(){return Wt},P$:function(){return ot},Q6:function(){return ft},U2:function(){return lt},Uk:function(){return rn},Us:function(){return Ae},Wm:function(){return Ze},Y3:function(){return _},Y8:function(){return it},YP:function(){return X},_:function(){return Xe},aZ:function(){return dt},f3:function(){return Y},h:function(){return Pn},iD:function(){return Ue},ic:function(){return At},j4:function(){return qe},kq:function(){return sn},nK:function(){return ut},up:function(){return jt},wg:function(){return ze},wy:function(){return Lt}});n(1703);var i=n(4870),r=n(7139);function s(t,e,n,i){let r;try{r=i?t(...i):t()}catch(s){a(s,e,n)}return r}function o(t,e,n,i){if((0,r.mf)(t)){const o=s(t,e,n,i);return o&&(0,r.tI)(o)&&o.catch((t=>{a(t,e,n)})),o}const l=[];for(let r=0;r<t.length;r++)l.push(o(t[r],e,n,i));return l}function a(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const r=e.proxy,o=n;while(i){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,o))return;i=i.parent}const a=e.appContext.config.errorHandler;if(a)return void s(a,null,10,[t,r,o])}l(t,n,r,i)}function l(t,e,n,i=!0){console.error(t)}let h=!1,c=!1;const u=[];let f=0;const d=[];let p=null,g=0;const m=[];let v=null,b=0;const y=Promise.resolve();let w=null,x=null;function _(t){const e=w||y;return t?e.then(this?t.bind(this):t):e}function k(t){let e=f+1,n=u.length;while(e<n){const i=e+n>>>1,r=P(u[i]);r<t?e=i+1:n=i}return e}function S(t){u.length&&u.includes(t,h&&t.allowRecurse?f+1:f)||t===x||(null==t.id?u.push(t):u.splice(k(t.id),0,t),M())}function M(){h||c||(c=!0,w=y.then(R))}function O(t){const e=u.indexOf(t);e>f&&u.splice(e,1)}function C(t,e,n,i){(0,r.kJ)(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),M()}function A(t){C(t,p,d,g)}function T(t){C(t,v,m,b)}function E(t,e=null){if(d.length){for(x=e,p=[...new Set(d)],d.length=0,g=0;g<p.length;g++)p[g]();p=null,g=0,x=null,E(t,e)}}function D(t){if(E(),m.length){const t=[...new Set(m)];if(m.length=0,v)return void v.push(...t);for(v=t,v.sort(((t,e)=>P(t)-P(e))),b=0;b<v.length;b++)v[b]();v=null,b=0}}const P=t=>null==t.id?1/0:t.id;function R(t){c=!1,h=!0,E(t),u.sort(((t,e)=>P(t)-P(e)));r.dG;try{for(f=0;f<u.length;f++){const t=u[f];t&&!1!==t.active&&s(t,null,14)}}finally{f=0,u.length=0,D(t),h=!1,w=null,(u.length||d.length||m.length)&&R(t)}}new Set;new Map;function I(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||r.kT;let s=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in i){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:o}=i[t]||r.kT;o&&(s=n.map((t=>t.trim()))),e&&(s=n.map(r.He))}let h;let c=i[h=(0,r.hR)(e)]||i[h=(0,r.hR)((0,r._A)(e))];!c&&a&&(c=i[h=(0,r.hR)((0,r.rs)(e))]),c&&o(c,t,6,s);const u=i[h+"Once"];if(u){if(t.emitted){if(t.emitted[h])return}else t.emitted={};t.emitted[h]=!0,o(u,t,6,s)}}function L(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(void 0!==s)return s;const o=t.emits;let a={},l=!1;if(!(0,r.mf)(t)){const i=t=>{const n=L(t,e,!0);n&&(l=!0,(0,r.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||l?((0,r.kJ)(o)?o.forEach((t=>a[t]=null)):(0,r.l7)(a,o),i.set(t,a),a):(i.set(t,null),null)}function N(t,e){return!(!t||!(0,r.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,r.RI)(t,(0,r.rs)(e))||(0,r.RI)(t,e))}let B=null,j=null;function F(t){const e=B;return B=t,j=t&&t.type.__scopeId||null,e}function z(t,e=B,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&He(-1);const r=F(e),s=t(...n);return F(r),i._d&&He(1),s};return i._n=!0,i._c=!0,i._d=!0,i}function V(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:h,attrs:c,emit:u,render:f,renderCache:d,data:p,setupState:g,ctx:m,inheritAttrs:v}=t;let b,y;const w=F(t);try{if(4&n.shapeFlag){const t=s||i;b=on(f.call(t,t,d,o,g,p,m)),y=c}else{const t=e;0,b=on(t.length>1?t(o,{attrs:c,slots:h,emit:u}):t(o,null)),y=e.props?c:W(c)}}catch(_){je.length=0,a(_,t,1),b=Ze(Ne)}let x=b;if(y&&!1!==v){const t=Object.keys(y),{shapeFlag:e}=x;t.length&&7&e&&(l&&t.some(r.tR)&&(y=H(y,l)),x=nn(x,y))}return n.dirs&&(x=nn(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),b=x,F(w),b}const W=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,r.F7)(n))&&((e||(e={}))[n]=t[n]);return e},H=(t,e)=>{const n={};for(const i in t)(0,r.tR)(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function $(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==o&&(i?!o||U(i,o,h):!!o);if(1024&l)return!0;if(16&l)return i?U(i,o,h):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==i[n]&&!N(h,n))return!0}}return!1}function U(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!N(n,s))return!0}return!1}function q({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const J=t=>t.__isSuspense;function Q(t,e){e&&e.pendingBranch?(0,r.kJ)(t)?e.effects.push(...t):e.effects.push(t):T(t)}function G(t,e){if(pn){let n=pn.provides;const i=pn.parent&&pn.parent.provides;i===n&&(n=pn.provides=Object.create(i)),n[t]=e}else 0}function Y(t,e,n=!1){const i=pn||B;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&(0,r.mf)(e)?e.call(i.proxy):e}else 0}const K={};function X(t,e,n){return Z(t,e,n)}function Z(t,e,{immediate:n,deep:a,flush:l,onTrack:h,onTrigger:c}=r.kT){const u=pn;let f,d,p=!1,g=!1;if((0,i.dq)(t)?(f=()=>t.value,p=(0,i.yT)(t)):(0,i.PG)(t)?(f=()=>t,a=!0):(0,r.kJ)(t)?(g=!0,p=t.some((t=>(0,i.PG)(t)||(0,i.yT)(t))),f=()=>t.map((t=>(0,i.dq)(t)?t.value:(0,i.PG)(t)?nt(t):(0,r.mf)(t)?s(t,u,2):void 0))):f=(0,r.mf)(t)?e?()=>s(t,u,2):()=>{if(!u||!u.isUnmounted)return d&&d(),o(t,u,3,[m])}:r.dG,e&&a){const t=f;f=()=>nt(t())}let m=t=>{d=w.onStop=()=>{s(t,u,4)}};if(xn)return m=r.dG,e?n&&o(e,u,3,[f(),g?[]:void 0,m]):f(),r.dG;let v=g?[]:K;const b=()=>{if(w.active)if(e){const t=w.run();(a||p||(g?t.some(((t,e)=>(0,r.aU)(t,v[e]))):(0,r.aU)(t,v)))&&(d&&d(),o(e,u,3,[t,v===K?void 0:v,m]),v=t)}else w.run()};let y;b.allowRecurse=!!e,y="sync"===l?b:"post"===l?()=>Ce(b,u&&u.suspense):()=>A(b);const w=new i.qq(f,y);return e?n?b():v=w.run():"post"===l?Ce(w.run.bind(w),u&&u.suspense):w.run(),()=>{w.stop(),u&&u.scope&&(0,r.Od)(u.scope.effects,w)}}function tt(t,e,n){const i=this.proxy,s=(0,r.HD)(t)?t.includes(".")?et(i,t):()=>i[t]:t.bind(i,i);let o;(0,r.mf)(e)?o=e:(o=e.handler,n=e);const a=pn;mn(this);const l=Z(s,o.bind(i),n);return a?mn(a):vn(),l}function et(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function nt(t,e){if(!(0,r.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,i.dq)(t))nt(t.value,e);else if((0,r.kJ)(t))for(let n=0;n<t.length;n++)nt(t[n],e);else if((0,r.DM)(t)||(0,r._N)(t))t.forEach((t=>{nt(t,e)}));else if((0,r.PO)(t))for(const n in t)nt(t[n],e);return t}function it(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ot((()=>{t.isMounted=!0})),Tt((()=>{t.isUnmounting=!0})),t}const rt=[Function,Array],st={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rt,onEnter:rt,onAfterEnter:rt,onEnterCancelled:rt,onBeforeLeave:rt,onLeave:rt,onAfterLeave:rt,onLeaveCancelled:rt,onBeforeAppear:rt,onAppear:rt,onAfterAppear:rt,onAppearCancelled:rt},setup(t,{slots:e}){const n=gn(),r=it();let s;return()=>{const o=e.default&&ft(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==Ne){0,a=e,t=!0;break}}const l=(0,i.IU)(t),{mode:h}=l;if(r.isLeaving)return ht(a);const c=ct(a);if(!c)return ht(a);const u=lt(c,l,r,n);ut(c,u);const f=n.subTree,d=f&&ct(f);let p=!1;const{getTransitionKey:g}=c.type;if(g){const t=g();void 0===s?s=t:t!==s&&(s=t,p=!0)}if(d&&d.type!==Ne&&(!Qe(c,d)||p)){const t=lt(d,l,r,n);if(ut(d,t),"out-in"===h)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},ht(a);"in-out"===h&&c.type!==Ne&&(t.delayLeave=(t,e,n)=>{const i=at(r,d);i[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return a}}},ot=st;function at(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function lt(t,e,n,i){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:h,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:b,onAfterAppear:y,onAppearCancelled:w}=e,x=String(t.key),_=at(n,t),k=(t,e)=>{t&&o(t,i,9,e)},S=(t,e)=>{const n=e[1];k(t,e),(0,r.kJ)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},M={mode:a,persisted:l,beforeEnter(e){let i=h;if(!n.isMounted){if(!s)return;i=v||h}e._leaveCb&&e._leaveCb(!0);const r=_[x];r&&Qe(t,r)&&r.el._leaveCb&&r.el._leaveCb(),k(i,[e])},enter(t){let e=c,i=u,r=f;if(!n.isMounted){if(!s)return;e=b||c,i=y||u,r=w||f}let o=!1;const a=t._enterCb=e=>{o||(o=!0,k(e?r:i,[t]),M.delayedLeave&&M.delayedLeave(),t._enterCb=void 0)};e?S(e,[t,a]):a()},leave(e,i){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();k(d,[e]);let s=!1;const o=e._leaveCb=n=>{s||(s=!0,i(),k(n?m:g,[e]),e._leaveCb=void 0,_[r]===t&&delete _[r])};_[r]=t,p?S(p,[e,o]):o()},clone(t){return lt(t,e,n,i)}};return M}function ht(t){if(gt(t))return t=nn(t),t.children=null,t}function ct(t){return gt(t)?t.children?t.children[0]:void 0:t}function ut(t,e){6&t.shapeFlag&&t.component?ut(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ft(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===Ie?(128&o.patchFlag&&r++,i=i.concat(ft(o.children,e,a))):(e||o.type!==Ne)&&i.push(null!=a?nn(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function dt(t){return(0,r.mf)(t)?{setup:t,name:t.name}:t}const pt=t=>!!t.type.__asyncLoader;const gt=t=>t.type.__isKeepAlive;RegExp,RegExp;function mt(t,e){return(0,r.kJ)(t)?t.some((t=>mt(t,e))):(0,r.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function vt(t,e){yt(t,"a",e)}function bt(t,e){yt(t,"da",e)}function yt(t,e,n=pn){const i=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(kt(e,i,n),n){let t=n.parent;while(t&&t.parent)gt(t.parent.vnode)&&wt(i,e,n,t),t=t.parent}}function wt(t,e,n,i){const s=kt(e,t,i,!0);Et((()=>{(0,r.Od)(i[e],s)}),n)}function xt(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function _t(t){return 128&t.shapeFlag?t.ssContent:t}function kt(t,e,n=pn,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),mn(n);const s=o(e,n,t,r);return vn(),(0,i.lk)(),s});return r?s.unshift(a):s.push(a),a}}const St=t=>(e,n=pn)=>(!xn||"sp"===t)&&kt(t,e,n),Mt=St("bm"),Ot=St("m"),Ct=St("bu"),At=St("u"),Tt=St("bum"),Et=St("um"),Dt=St("sp"),Pt=St("rtg"),Rt=St("rtc");function It(t,e=pn){kt("ec",t,e)}function Lt(t,e){const n=B;if(null===n)return t;const i=An(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,n,a,l=r.kT]=e[o];(0,r.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&nt(n),s.push({dir:t,instance:i,value:n,oldValue:void 0,arg:a,modifiers:l})}return t}function Nt(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const h=s[l];a&&(h.oldValue=a[l].value);let c=h.dir[r];c&&((0,i.Jd)(),o(c,n,8,[t.el,h,t,e]),(0,i.lk)())}}const Bt="components";function jt(t,e){return zt(Bt,t,!0,e)||t}const Ft=Symbol();function zt(t,e,n=!0,i=!1){const s=B||pn;if(s){const n=s.type;if(t===Bt){const t=Tn(n,!1);if(t&&(t===e||t===(0,r._A)(e)||t===(0,r.kC)((0,r._A)(e))))return n}const o=Vt(s[t]||n[t],e)||Vt(s.appContext[t],e);return!o&&i?n:o}}function Vt(t,e){return t&&(t[e]||t[(0,r._A)(e)]||t[(0,r.kC)((0,r._A)(e))])}function Wt(t,e,n,i){let s;const o=n&&n[i];if((0,r.kJ)(t)||(0,r.HD)(t)){s=new Array(t.length);for(let n=0,i=t.length;n<i;n++)s[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,s=new Array(t);for(let n=0;n<t;n++)s[n]=e(n+1,n,void 0,o&&o[n])}else if((0,r.Kn)(t))if(t[Symbol.iterator])s=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);s=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];s[i]=e(t[r],r,i,o&&o[i])}}else s=[];return n&&(n[i]=s),s}const Ht=t=>t?bn(t)?An(t)||t.proxy:Ht(t.parent):null,$t=(0,r.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ht(t.parent),$root:t=>Ht(t.root),$emit:t=>t.emit,$options:t=>Kt(t),$forceUpdate:t=>t.f||(t.f=()=>S(t.update)),$nextTick:t=>t.n||(t.n=_.bind(t.proxy)),$watch:t=>tt.bind(t)}),Ut={get({_:t},e){const{ctx:n,setupState:s,data:o,props:a,accessCache:l,type:h,appContext:c}=t;let u;if("$"!==e[0]){const i=l[e];if(void 0!==i)switch(i){case 1:return s[e];case 2:return o[e];case 4:return n[e];case 3:return a[e]}else{if(s!==r.kT&&(0,r.RI)(s,e))return l[e]=1,s[e];if(o!==r.kT&&(0,r.RI)(o,e))return l[e]=2,o[e];if((u=t.propsOptions[0])&&(0,r.RI)(u,e))return l[e]=3,a[e];if(n!==r.kT&&(0,r.RI)(n,e))return l[e]=4,n[e];qt&&(l[e]=0)}}const f=$t[e];let d,p;return f?("$attrs"===e&&(0,i.j)(t,"get",e),f(t)):(d=h.__cssModules)&&(d=d[e])?d:n!==r.kT&&(0,r.RI)(n,e)?(l[e]=4,n[e]):(p=c.config.globalProperties,(0,r.RI)(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return s!==r.kT&&(0,r.RI)(s,e)?(s[e]=n,!0):i!==r.kT&&(0,r.RI)(i,e)?(i[e]=n,!0):!(0,r.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},a){let l;return!!n[a]||t!==r.kT&&(0,r.RI)(t,a)||e!==r.kT&&(0,r.RI)(e,a)||(l=o[0])&&(0,r.RI)(l,a)||(0,r.RI)(i,a)||(0,r.RI)($t,a)||(0,r.RI)(s.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,r.RI)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let qt=!0;function Jt(t){const e=Kt(t),n=t.proxy,s=t.ctx;qt=!1,e.beforeCreate&&Gt(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:h,provide:c,inject:u,created:f,beforeMount:d,mounted:p,beforeUpdate:g,updated:m,activated:v,deactivated:b,beforeDestroy:y,beforeUnmount:w,destroyed:x,unmounted:_,render:k,renderTracked:S,renderTriggered:M,errorCaptured:O,serverPrefetch:C,expose:A,inheritAttrs:T,components:E,directives:D,filters:P}=e,R=null;if(u&&Qt(u,s,R,t.appContext.config.unwrapInjectedRef),l)for(const i in l){const t=l[i];(0,r.mf)(t)&&(s[i]=t.bind(n))}if(o){0;const e=o.call(n,n);0,(0,r.Kn)(e)&&(t.data=(0,i.qj)(e))}if(qt=!0,a)for(const i in a){const t=a[i],e=(0,r.mf)(t)?t.bind(n,n):(0,r.mf)(t.get)?t.get.bind(n,n):r.dG;0;const o=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(n):r.dG,l=Dn({get:e,set:o});Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(h)for(const i in h)Yt(h[i],s,n,i);if(c){const t=(0,r.mf)(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{G(e,t[e])}))}function I(t,e){(0,r.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(f&&Gt(f,t,"c"),I(Mt,d),I(Ot,p),I(Ct,g),I(At,m),I(vt,v),I(bt,b),I(It,O),I(Rt,S),I(Pt,M),I(Tt,w),I(Et,_),I(Dt,C),(0,r.kJ)(A))if(A.length){const e=t.exposed||(t.exposed={});A.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});k&&t.render===r.dG&&(t.render=k),null!=T&&(t.inheritAttrs=T),E&&(t.components=E),D&&(t.directives=D)}function Qt(t,e,n=r.dG,s=!1){(0,r.kJ)(t)&&(t=ne(t));for(const o in t){const n=t[o];let a;a=(0,r.Kn)(n)?"default"in n?Y(n.from||o,n.default,!0):Y(n.from||o):Y(n),(0,i.dq)(a)&&s?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[o]=a}}function Gt(t,e,n){o((0,r.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Yt(t,e,n,i){const s=i.includes(".")?et(n,i):()=>n[i];if((0,r.HD)(t)){const n=e[t];(0,r.mf)(n)&&X(s,n)}else if((0,r.mf)(t))X(s,t.bind(n));else if((0,r.Kn)(t))if((0,r.kJ)(t))t.forEach((t=>Yt(t,e,n,i)));else{const i=(0,r.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,r.mf)(i)&&X(s,i,t)}else 0}function Kt(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((t=>Xt(l,t,o,!0))),Xt(l,e,o)):l=e,s.set(e,l),l}function Xt(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Xt(t,s,n,!0),r&&r.forEach((e=>Xt(t,e,n,!0)));for(const o in e)if(i&&"expose"===o);else{const i=Zt[o]||n&&n[o];t[o]=i?i(t[o],e[o]):e[o]}return t}const Zt={data:te,props:re,emits:re,methods:re,computed:re,beforeCreate:ie,created:ie,beforeMount:ie,mounted:ie,beforeUpdate:ie,updated:ie,beforeDestroy:ie,beforeUnmount:ie,destroyed:ie,unmounted:ie,activated:ie,deactivated:ie,errorCaptured:ie,serverPrefetch:ie,components:re,directives:re,watch:se,provide:te,inject:ee};function te(t,e){return e?t?function(){return(0,r.l7)((0,r.mf)(t)?t.call(this,this):t,(0,r.mf)(e)?e.call(this,this):e)}:e:t}function ee(t,e){return re(ne(t),ne(e))}function ne(t){if((0,r.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ie(t,e){return t?[...new Set([].concat(t,e))]:e}function re(t,e){return t?(0,r.l7)((0,r.l7)(Object.create(null),t),e):e}function se(t,e){if(!t)return e;if(!e)return t;const n=(0,r.l7)(Object.create(null),t);for(const i in e)n[i]=ie(t[i],e[i]);return n}function oe(t,e,n,s=!1){const o={},a={};(0,r.Nj)(a,Ge,1),t.propsDefaults=Object.create(null),le(t,e,o,a);for(const i in t.propsOptions[0])i in o||(o[i]=void 0);n?t.props=s?o:(0,i.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function ae(t,e,n,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,h=(0,i.IU)(o),[c]=t.propsOptions;let u=!1;if(!(s||l>0)||16&l){let i;le(t,e,o,a)&&(u=!0);for(const s in h)e&&((0,r.RI)(e,s)||(i=(0,r.rs)(s))!==s&&(0,r.RI)(e,i))||(c?!n||void 0===n[s]&&void 0===n[i]||(o[s]=he(c,h,s,void 0,t,!0)):delete o[s]);if(a!==h)for(const t in a)e&&(0,r.RI)(e,t)||(delete a[t],u=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(N(t.emitsOptions,s))continue;const l=e[s];if(c)if((0,r.RI)(a,s))l!==a[s]&&(a[s]=l,u=!0);else{const e=(0,r._A)(s);o[e]=he(c,h,e,l,t,!1)}else l!==a[s]&&(a[s]=l,u=!0)}}u&&(0,i.X$)(t,"set","$attrs")}function le(t,e,n,s){const[o,a]=t.propsOptions;let l,h=!1;if(e)for(let i in e){if((0,r.Gg)(i))continue;const c=e[i];let u;o&&(0,r.RI)(o,u=(0,r._A)(i))?a&&a.includes(u)?(l||(l={}))[u]=c:n[u]=c:N(t.emitsOptions,i)||i in s&&c===s[i]||(s[i]=c,h=!0)}if(a){const e=(0,i.IU)(n),s=l||r.kT;for(let i=0;i<a.length;i++){const l=a[i];n[l]=he(o,e,l,s[l],t,!(0,r.RI)(s,l))}}return h}function he(t,e,n,i,s,o){const a=t[n];if(null!=a){const t=(0,r.RI)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&(0,r.mf)(t)){const{propsDefaults:r}=s;n in r?i=r[n]:(mn(s),i=r[n]=t.call(null,e),vn())}else i=t}a[0]&&(o&&!t?i=!1:!a[1]||""!==i&&i!==(0,r.rs)(n)||(i=!0))}return i}function ce(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,a={},l=[];let h=!1;if(!(0,r.mf)(t)){const i=t=>{h=!0;const[n,i]=ce(t,e,!0);(0,r.l7)(a,n),i&&l.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!h)return i.set(t,r.Z6),r.Z6;if((0,r.kJ)(o))for(let u=0;u<o.length;u++){0;const t=(0,r._A)(o[u]);ue(t)&&(a[t]=r.kT)}else if(o){0;for(const t in o){const e=(0,r._A)(t);if(ue(e)){const n=o[t],i=a[e]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:n;if(i){const t=pe(Boolean,i.type),n=pe(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||(0,r.RI)(i,"default"))&&l.push(e)}}}}const c=[a,l];return i.set(t,c),c}function ue(t){return"$"!==t[0]}function fe(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function de(t,e){return fe(t)===fe(e)}function pe(t,e){return(0,r.kJ)(e)?e.findIndex((e=>de(e,t))):(0,r.mf)(e)&&de(e,t)?0:-1}const ge=t=>"_"===t[0]||"$stable"===t,me=t=>(0,r.kJ)(t)?t.map(on):[on(t)],ve=(t,e,n)=>{if(e._n)return e;const i=z(((...t)=>me(e(...t))),n);return i._c=!1,i},be=(t,e,n)=>{const i=t._ctx;for(const s in t){if(ge(s))continue;const n=t[s];if((0,r.mf)(n))e[s]=ve(s,n,i);else if(null!=n){0;const t=me(n);e[s]=()=>t}}},ye=(t,e)=>{const n=me(e);t.slots.default=()=>n},we=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,i.IU)(e),(0,r.Nj)(e,"_",n)):be(e,t.slots={})}else t.slots={},e&&ye(t,e);(0,r.Nj)(t.slots,Ge,1)},xe=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,a=r.kT;if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:((0,r.l7)(s,e),n||1!==t||delete s._):(o=!e.$stable,be(e,s)),a=e}else e&&(ye(t,e),a={default:1});if(o)for(const r in s)ge(r)||r in a||delete s[r]};function _e(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ke=0;function Se(t,e){return function(n,i=null){(0,r.mf)(n)||(n=Object.assign({},n)),null==i||(0,r.Kn)(i)||(i=null);const s=_e(),o=new Set;let a=!1;const l=s.app={_uid:ke++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Rn,get config(){return s.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,r.mf)(t.install)?(o.add(t),t.install(l,...e)):(0,r.mf)(t)&&(o.add(t),t(l,...e))),l},mixin(t){return s.mixins.includes(t)||s.mixins.push(t),l},component(t,e){return e?(s.components[t]=e,l):s.components[t]},directive(t,e){return e?(s.directives[t]=e,l):s.directives[t]},mount(r,o,h){if(!a){0;const c=Ze(n,i);return c.appContext=s,o&&e?e(c,r):t(c,r,h),a=!0,l._container=r,r.__vue_app__=l,An(c.component)||c.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return s.provides[t]=e,l}};return l}}function Me(t,e,n,o,a=!1){if((0,r.kJ)(t))return void t.forEach(((t,i)=>Me(t,e&&((0,r.kJ)(e)?e[i]:e),n,o,a)));if(pt(o)&&!a)return;const l=4&o.shapeFlag?An(o.component)||o.component.proxy:o.el,h=a?null:l,{i:c,r:u}=t;const f=e&&e.r,d=c.refs===r.kT?c.refs={}:c.refs,p=c.setupState;if(null!=f&&f!==u&&((0,r.HD)(f)?(d[f]=null,(0,r.RI)(p,f)&&(p[f]=null)):(0,i.dq)(f)&&(f.value=null)),(0,r.mf)(u))s(u,c,12,[h,d]);else{const e=(0,r.HD)(u),s=(0,i.dq)(u);if(e||s){const i=()=>{if(t.f){const n=e?d[u]:u.value;a?(0,r.kJ)(n)&&(0,r.Od)(n,l):(0,r.kJ)(n)?n.includes(l)||n.push(l):e?(d[u]=[l],(0,r.RI)(p,u)&&(p[u]=d[u])):(u.value=[l],t.k&&(d[t.k]=u.value))}else e?(d[u]=h,(0,r.RI)(p,u)&&(p[u]=h)):s&&(u.value=h,t.k&&(d[t.k]=h))};h?(i.id=-1,Ce(i,n)):i()}else 0}}function Oe(){}const Ce=Q;function Ae(t){return Te(t)}function Te(t,e){Oe();const n=(0,r.E9)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:h,createComment:c,setText:u,setElementText:f,parentNode:d,nextSibling:p,setScopeId:g=r.dG,cloneNode:m,insertStaticContent:v}=t,b=(t,e,n,i=null,r=null,s=null,o=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Qe(t,e)&&(i=Z(t),Q(t,r,s,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:h,ref:c,shapeFlag:u}=e;switch(h){case Le:y(t,e,n,i);break;case Ne:w(t,e,n,i);break;case Be:null==t&&x(e,n,i,o);break;case Ie:L(t,e,n,i,r,s,o,a,l);break;default:1&u?M(t,e,n,i,r,s,o,a,l):6&u?N(t,e,n,i,r,s,o,a,l):(64&u||128&u)&&h.process(t,e,n,i,r,s,o,a,l,et)}null!=c&&r&&Me(c,t&&t.ref,s,e||t,!e)},y=(t,e,n,i)=>{if(null==t)s(e.el=h(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&u(n,e.children)}},w=(t,e,n,i)=>{null==t?s(e.el=c(e.children||""),n,i):e.el=t.el},x=(t,e,n,i)=>{[t.el,t.anchor]=v(t.children,e,n,i,t.el,t.anchor)},_=({el:t,anchor:e},n,i)=>{let r;while(t&&t!==e)r=p(t),s(t,n,i),t=r;s(e,n,i)},k=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=p(t),o(t),t=n;o(e)},M=(t,e,n,i,r,s,o,a,l)=>{o=o||"svg"===e.type,null==t?C(e,n,i,r,s,o,a,l):P(t,e,r,s,o,a,l)},C=(t,e,n,i,o,h,c,u)=>{let d,p;const{type:g,props:v,shapeFlag:b,transition:y,patchFlag:w,dirs:x}=t;if(t.el&&void 0!==m&&-1===w)d=t.el=m(t.el);else{if(d=t.el=l(t.type,h,v&&v.is,v),8&b?f(d,t.children):16&b&&T(t.children,d,null,i,o,h&&"foreignObject"!==g,c,u),x&&Nt(t,null,i,"created"),v){for(const e in v)"value"===e||(0,r.Gg)(e)||a(d,e,null,v[e],h,t.children,i,o,X);"value"in v&&a(d,"value",null,v.value),(p=v.onVnodeBeforeMount)&&cn(p,i,t)}A(d,t,t.scopeId,c,i)}x&&Nt(t,null,i,"beforeMount");const _=(!o||o&&!o.pendingBranch)&&y&&!y.persisted;_&&y.beforeEnter(d),s(d,e,n),((p=v&&v.onVnodeMounted)||_||x)&&Ce((()=>{p&&cn(p,i,t),_&&y.enter(d),x&&Nt(t,null,i,"mounted")}),o)},A=(t,e,n,i,r)=>{if(n&&g(t,n),i)for(let s=0;s<i.length;s++)g(t,i[s]);if(r){let n=r.subTree;if(e===n){const e=r.vnode;A(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},T=(t,e,n,i,r,s,o,a,l=0)=>{for(let h=l;h<t.length;h++){const l=t[h]=a?an(t[h]):on(t[h]);b(null,l,e,n,i,r,s,o,a)}},P=(t,e,n,i,s,o,l)=>{const h=e.el=t.el;let{patchFlag:c,dynamicChildren:u,dirs:d}=e;c|=16&t.patchFlag;const p=t.props||r.kT,g=e.props||r.kT;let m;n&&Ee(n,!1),(m=g.onVnodeBeforeUpdate)&&cn(m,n,e,t),d&&Nt(e,t,n,"beforeUpdate"),n&&Ee(n,!0);const v=s&&"foreignObject"!==e.type;if(u?R(t.dynamicChildren,u,h,n,i,v,o):l||W(t,e,h,null,n,i,v,o,!1),c>0){if(16&c)I(h,e,p,g,n,i,s);else if(2&c&&p.class!==g.class&&a(h,"class",null,g.class,s),4&c&&a(h,"style",p.style,g.style,s),8&c){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const o=r[e],l=p[o],c=g[o];c===l&&"value"!==o||a(h,o,l,c,s,t.children,n,i,X)}}1&c&&t.children!==e.children&&f(h,e.children)}else l||null!=u||I(h,e,p,g,n,i,s);((m=g.onVnodeUpdated)||d)&&Ce((()=>{m&&cn(m,n,e,t),d&&Nt(e,t,n,"updated")}),i)},R=(t,e,n,i,r,s,o)=>{for(let a=0;a<e.length;a++){const l=t[a],h=e[a],c=l.el&&(l.type===Ie||!Qe(l,h)||70&l.shapeFlag)?d(l.el):n;b(l,h,c,null,i,r,s,o,!0)}},I=(t,e,n,i,s,o,l)=>{if(n!==i){for(const h in i){if((0,r.Gg)(h))continue;const c=i[h],u=n[h];c!==u&&"value"!==h&&a(t,h,u,c,l,e.children,s,o,X)}if(n!==r.kT)for(const h in n)(0,r.Gg)(h)||h in i||a(t,h,n[h],null,l,e.children,s,o,X);"value"in i&&a(t,"value",n.value,i.value)}},L=(t,e,n,i,r,o,a,l,c)=>{const u=e.el=t?t.el:h(""),f=e.anchor=t?t.anchor:h("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:g}=e;g&&(l=l?l.concat(g):g),null==t?(s(u,n,i),s(f,n,i),T(e.children,n,f,r,o,a,l,c)):d>0&&64&d&&p&&t.dynamicChildren?(R(t.dynamicChildren,p,n,r,o,a,l),(null!=e.key||r&&e===r.subTree)&&De(t,e,!0)):W(t,e,n,f,r,o,a,l,c)},N=(t,e,n,i,r,s,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,o,l):B(e,n,i,r,s,o,l):j(t,e,l)},B=(t,e,n,i,r,s,o)=>{const a=t.component=dn(t,i,r);if(gt(t)&&(a.ctx.renderer=et),_n(a),a.asyncDep){if(r&&r.registerDep(a,F),!t.el){const t=a.subTree=Ze(Ne);w(null,t,e,n)}}else F(a,t,e,n,r,s,o)},j=(t,e,n)=>{const i=e.component=t.component;if($(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void z(i,e,n);i.next=e,O(i.update),i.update()}else e.el=t.el,i.vnode=e},F=(t,e,n,s,o,a,l)=>{const h=()=>{if(t.isMounted){let e,{next:n,bu:i,u:s,parent:h,vnode:c}=t,u=n;0,Ee(t,!1),n?(n.el=c.el,z(t,n,l)):n=c,i&&(0,r.ir)(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&cn(e,h,n,c),Ee(t,!0);const f=V(t);0;const p=t.subTree;t.subTree=f,b(p,f,d(p.el),Z(p),t,o,a),n.el=f.el,null===u&&q(t,f.el),s&&Ce(s,o),(e=n.props&&n.props.onVnodeUpdated)&&Ce((()=>cn(e,h,n,c)),o)}else{let i;const{el:l,props:h}=e,{bm:c,m:u,parent:f}=t,d=pt(e);if(Ee(t,!1),c&&(0,r.ir)(c),!d&&(i=h&&h.onVnodeBeforeMount)&&cn(i,f,e),Ee(t,!0),l&&it){const n=()=>{t.subTree=V(t),it(l,t.subTree,t,o,null)};d?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const i=t.subTree=V(t);0,b(null,i,n,s,t,o,a),e.el=i.el}if(u&&Ce(u,o),!d&&(i=h&&h.onVnodeMounted)){const t=e;Ce((()=>cn(i,f,t)),o)}(256&e.shapeFlag||f&&pt(f.vnode)&&256&f.vnode.shapeFlag)&&t.a&&Ce(t.a,o),t.isMounted=!0,e=n=s=null}},c=t.effect=new i.qq(h,(()=>S(u)),t.scope),u=t.update=()=>c.run();u.id=t.uid,Ee(t,!0),u()},z=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,ae(t,e.props,r,n),xe(t,e.children,n),(0,i.Jd)(),E(void 0,t.update),(0,i.lk)()},W=(t,e,n,i,r,s,o,a,l=!1)=>{const h=t&&t.children,c=t?t.shapeFlag:0,u=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void U(h,u,n,i,r,s,o,a,l);if(256&d)return void H(h,u,n,i,r,s,o,a,l)}8&p?(16&c&&X(h,r,s),u!==h&&f(n,u)):16&c?16&p?U(h,u,n,i,r,s,o,a,l):X(h,r,s,!0):(8&c&&f(n,""),16&p&&T(u,n,i,r,s,o,a,l))},H=(t,e,n,i,s,o,a,l,h)=>{t=t||r.Z6,e=e||r.Z6;const c=t.length,u=e.length,f=Math.min(c,u);let d;for(d=0;d<f;d++){const i=e[d]=h?an(e[d]):on(e[d]);b(t[d],i,n,null,s,o,a,l,h)}c>u?X(t,s,o,!0,!1,f):T(e,n,i,s,o,a,l,h,f)},U=(t,e,n,i,s,o,a,l,h)=>{let c=0;const u=e.length;let f=t.length-1,d=u-1;while(c<=f&&c<=d){const i=t[c],r=e[c]=h?an(e[c]):on(e[c]);if(!Qe(i,r))break;b(i,r,n,null,s,o,a,l,h),c++}while(c<=f&&c<=d){const i=t[f],r=e[d]=h?an(e[d]):on(e[d]);if(!Qe(i,r))break;b(i,r,n,null,s,o,a,l,h),f--,d--}if(c>f){if(c<=d){const t=d+1,r=t<u?e[t].el:i;while(c<=d)b(null,e[c]=h?an(e[c]):on(e[c]),n,r,s,o,a,l,h),c++}}else if(c>d)while(c<=f)Q(t[c],s,o,!0),c++;else{const p=c,g=c,m=new Map;for(c=g;c<=d;c++){const t=e[c]=h?an(e[c]):on(e[c]);null!=t.key&&m.set(t.key,c)}let v,y=0;const w=d-g+1;let x=!1,_=0;const k=new Array(w);for(c=0;c<w;c++)k[c]=0;for(c=p;c<=f;c++){const i=t[c];if(y>=w){Q(i,s,o,!0);continue}let r;if(null!=i.key)r=m.get(i.key);else for(v=g;v<=d;v++)if(0===k[v-g]&&Qe(i,e[v])){r=v;break}void 0===r?Q(i,s,o,!0):(k[r-g]=c+1,r>=_?_=r:x=!0,b(i,e[r],n,null,s,o,a,l,h),y++)}const S=x?Pe(k):r.Z6;for(v=S.length-1,c=w-1;c>=0;c--){const t=g+c,r=e[t],f=t+1<u?e[t+1].el:i;0===k[c]?b(null,r,n,f,s,o,a,l,h):x&&(v<0||c!==S[v]?J(r,n,f,2):v--)}}},J=(t,e,n,i,r=null)=>{const{el:o,type:a,transition:l,children:h,shapeFlag:c}=t;if(6&c)return void J(t.component.subTree,e,n,i);if(128&c)return void t.suspense.move(e,n,i);if(64&c)return void a.move(t,e,n,et);if(a===Ie){s(o,e,n);for(let t=0;t<h.length;t++)J(h[t],e,n,i);return void s(t.anchor,e,n)}if(a===Be)return void _(t,e,n);const u=2!==i&&1&c&&l;if(u)if(0===i)l.beforeEnter(o),s(o,e,n),Ce((()=>l.enter(o)),r);else{const{leave:t,delayLeave:i,afterLeave:r}=l,a=()=>s(o,e,n),h=()=>{t(o,(()=>{a(),r&&r()}))};i?i(o,a,h):h()}else s(o,e,n)},Q=(t,e,n,i=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:h,shapeFlag:c,patchFlag:u,dirs:f}=t;if(null!=a&&Me(a,null,n,t,!0),256&c)return void e.ctx.deactivate(t);const d=1&c&&f,p=!pt(t);let g;if(p&&(g=o&&o.onVnodeBeforeUnmount)&&cn(g,e,t),6&c)K(t.component,n,i);else{if(128&c)return void t.suspense.unmount(n,i);d&&Nt(t,null,e,"beforeUnmount"),64&c?t.type.remove(t,e,n,r,et,i):h&&(s!==Ie||u>0&&64&u)?X(h,e,n,!1,!0):(s===Ie&&384&u||!r&&16&c)&&X(l,e,n),i&&G(t)}(p&&(g=o&&o.onVnodeUnmounted)||d)&&Ce((()=>{g&&cn(g,e,t),d&&Nt(t,null,e,"unmounted")}),n)},G=t=>{const{type:e,el:n,anchor:i,transition:r}=t;if(e===Ie)return void Y(n,i);if(e===Be)return void k(t);const s=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,o=()=>e(n,s);i?i(t.el,s,o):o()}else s()},Y=(t,e)=>{let n;while(t!==e)n=p(t),o(t),t=n;o(e)},K=(t,e,n)=>{const{bum:i,scope:s,update:o,subTree:a,um:l}=t;i&&(0,r.ir)(i),s.stop(),o&&(o.active=!1,Q(a,t,e,n)),l&&Ce(l,e),Ce((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},X=(t,e,n,i=!1,r=!1,s=0)=>{for(let o=s;o<t.length;o++)Q(t[o],e,n,i,r)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),tt=(t,e,n)=>{null==t?e._vnode&&Q(e._vnode,null,null,!0):b(e._vnode||null,t,e,null,null,null,n),D(),e._vnode=t},et={p:b,um:Q,m:J,r:G,mt:B,mc:T,pc:W,pbc:R,n:Z,o:t};let nt,it;return e&&([nt,it]=e(et)),{render:tt,hydrate:nt,createApp:Se(tt,nt)}}function Ee({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function De(t,e,n=!1){const i=t.children,s=e.children;if((0,r.kJ)(i)&&(0,r.kJ)(s))for(let r=0;r<i.length;r++){const t=i[r];let e=s[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[r]=an(s[r]),e.el=t.el),n||De(t,e))}}function Pe(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(r=n[n.length-1],t[r]<l){e[i]=r,n.push(i);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,t[n[a]]<l?s=a+1:o=a;l<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=e[o];return n}const Re=t=>t.__isTeleport;const Ie=Symbol(void 0),Le=Symbol(void 0),Ne=Symbol(void 0),Be=Symbol(void 0),je=[];let Fe=null;function ze(t=!1){je.push(Fe=t?null:[])}function Ve(){je.pop(),Fe=je[je.length-1]||null}let We=1;function He(t){We+=t}function $e(t){return t.dynamicChildren=We>0?Fe||r.Z6:null,Ve(),We>0&&Fe&&Fe.push(t),t}function Ue(t,e,n,i,r,s){return $e(Xe(t,e,n,i,r,s,!0))}function qe(t,e,n,i,r){return $e(Ze(t,e,n,i,r,!0))}function Je(t){return!!t&&!0===t.__v_isVNode}function Qe(t,e){return t.type===e.type&&t.key===e.key}const Ge="__vInternal",Ye=({key:t})=>null!=t?t:null,Ke=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,r.HD)(t)||(0,i.dq)(t)||(0,r.mf)(t)?{i:B,r:t,k:e,f:!!n}:t:null;function Xe(t,e=null,n=null,i=0,s=null,o=(t===Ie?0:1),a=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ye(e),ref:e&&Ke(e),scopeId:j,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(ln(h,n),128&o&&t.normalize(h)):n&&(h.shapeFlag|=(0,r.HD)(n)?8:16),We>0&&!a&&Fe&&(h.patchFlag>0||6&o)&&32!==h.patchFlag&&Fe.push(h),h}const Ze=tn;function tn(t,e=null,n=null,s=0,o=null,a=!1){if(t&&t!==Ft||(t=Ne),Je(t)){const i=nn(t,e,!0);return n&&ln(i,n),We>0&&!a&&Fe&&(6&i.shapeFlag?Fe[Fe.indexOf(t)]=i:Fe.push(i)),i.patchFlag|=-2,i}if(En(t)&&(t=t.__vccOpts),e){e=en(e);let{class:t,style:n}=e;t&&!(0,r.HD)(t)&&(e.class=(0,r.C_)(t)),(0,r.Kn)(n)&&((0,i.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),e.style=(0,r.j5)(n))}const l=(0,r.HD)(t)?1:J(t)?128:Re(t)?64:(0,r.Kn)(t)?4:(0,r.mf)(t)?2:0;return Xe(t,e,n,s,o,l,a,!0)}function en(t){return t?(0,i.X3)(t)||Ge in t?(0,r.l7)({},t):t:null}function nn(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:a}=t,l=e?hn(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Ye(l),ref:e&&e.ref?n&&s?(0,r.kJ)(s)?s.concat(Ke(e)):[s,Ke(e)]:Ke(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&nn(t.ssContent),ssFallback:t.ssFallback&&nn(t.ssFallback),el:t.el,anchor:t.anchor};return h}function rn(t=" ",e=0){return Ze(Le,null,t,e)}function sn(t="",e=!1){return e?(ze(),qe(Ne,null,t)):Ze(Ne,null,t)}function on(t){return null==t||"boolean"===typeof t?Ze(Ne):(0,r.kJ)(t)?Ze(Ie,null,t.slice()):"object"===typeof t?an(t):Ze(Le,null,String(t))}function an(t){return null===t.el||t.memo?t:nn(t)}function ln(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,r.kJ)(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),ln(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||Ge in e?3===i&&B&&(1===B.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=B}}else(0,r.mf)(e)?(e={default:e,_ctx:B},n=32):(e=String(e),64&i?(n=16,e=[rn(e)]):n=8);t.children=e,t.shapeFlag|=n}function hn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,r.C_)([e.class,i.class]));else if("style"===t)e.style=(0,r.j5)([e.style,i.style]);else if((0,r.F7)(t)){const n=e[t],s=i[t];!s||n===s||(0,r.kJ)(n)&&n.includes(s)||(e[t]=n?[].concat(n,s):s)}else""!==t&&(e[t]=i[t])}return e}function cn(t,e,n,i=null){o(t,e,7,[n,i])}const un=_e();let fn=0;function dn(t,e,n){const s=t.type,o=(e?e.appContext:t.appContext)||un,a={uid:fn++,vnode:t,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ce(s,o),emitsOptions:L(s,o),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:s.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=I.bind(null,a),t.ce&&t.ce(a),a}let pn=null;const gn=()=>pn||B,mn=t=>{pn=t,t.scope.on()},vn=()=>{pn&&pn.scope.off(),pn=null};function bn(t){return 4&t.vnode.shapeFlag}let yn,wn,xn=!1;function _n(t,e=!1){xn=e;const{props:n,children:i}=t.vnode,r=bn(t);oe(t,n,r,e),we(t,i);const s=r?kn(t,e):void 0;return xn=!1,s}function kn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,i.Xl)(new Proxy(t.ctx,Ut));const{setup:o}=n;if(o){const n=t.setupContext=o.length>1?Cn(t):null;mn(t),(0,i.Jd)();const l=s(o,t,0,[t.props,n]);if((0,i.lk)(),vn(),(0,r.tI)(l)){if(l.then(vn,vn),e)return l.then((n=>{Sn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=l}else Sn(t,l,e)}else Mn(t,e)}function Sn(t,e,n){(0,r.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.Kn)(e)&&(t.setupState=(0,i.WL)(e)),Mn(t,n)}function Mn(t,e,n){const s=t.type;if(!t.render){if(!e&&yn&&!s.render){const e=s.template;if(e){0;const{isCustomElement:n,compilerOptions:i}=t.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,r.l7)((0,r.l7)({isCustomElement:n,delimiters:o},i),a);s.render=yn(e,l)}}t.render=s.render||r.dG,wn&&wn(t)}mn(t),(0,i.Jd)(),Jt(t),(0,i.lk)(),vn()}function On(t){return new Proxy(t.attrs,{get(e,n){return(0,i.j)(t,"get","$attrs"),e[n]}})}function Cn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=On(t))},slots:t.slots,emit:t.emit,expose:e}}function An(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in $t?$t[n](t):void 0}}))}function Tn(t,e=!0){return(0,r.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function En(t){return(0,r.mf)(t)&&"__vccOpts"in t}const Dn=(t,e)=>(0,i.Fl)(t,e,xn);function Pn(t,e,n){const i=arguments.length;return 2===i?(0,r.Kn)(e)&&!(0,r.kJ)(e)?Je(e)?Ze(t,null,[e]):Ze(t,e):Ze(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Je(n)&&(n=[n]),Ze(t,e,n))}Symbol("");const Rn="3.2.37"},9242:function(t,e,n){"use strict";n.d(e,{bM:function(){return tt},ri:function(){return ot}});var i=n(7139),r=n(3396);n(4870);const s="http://www.w3.org/2000/svg",o="undefined"!==typeof document?document:null,a=o&&o.createElement("template"),l={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?o.createElementNS(s,t):o.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:t=>o.createTextNode(t),createComment:t=>o.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>o.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),n),r===s||!(r=r.nextSibling))break}else{a.innerHTML=i?`<svg>${t}</svg>`:t;const r=a.content;if(i){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function h(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function c(t,e,n){const r=t.style,s=(0,i.HD)(n);if(n&&!s){for(const t in n)f(r,t,n[t]);if(e&&!(0,i.HD)(e))for(const t in e)null==n[t]&&f(r,t,"")}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const u=/\s*!important$/;function f(t,e,n){if((0,i.kJ)(n))n.forEach((n=>f(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=g(t,e);u.test(n)?t.setProperty((0,i.rs)(r),n.replace(u,""),"important"):t[r]=n}}const d=["Webkit","Moz","ms"],p={};function g(t,e){const n=p[e];if(n)return n;let r=(0,i._A)(e);if("filter"!==r&&r in t)return p[e]=r;r=(0,i.kC)(r);for(let i=0;i<d.length;i++){const n=d[i]+r;if(n in t)return p[e]=n}return e}const m="http://www.w3.org/1999/xlink";function v(t,e,n,r,s){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(m,e.slice(6,e.length)):t.setAttributeNS(m,e,n);else{const r=(0,i.Pq)(e);null==n||r&&!(0,i.yA)(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function b(t,e,n,r,s,o,a){if("innerHTML"===e||"textContent"===e)return r&&a(r,s,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}let l=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=(0,i.yA)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{t[e]=n}catch(h){0}l&&t.removeAttribute(e)}const[y,w]=(()=>{let t=Date.now,e=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let x=0;const _=Promise.resolve(),k=()=>{x=0},S=()=>x||(_.then(k),x=y());function M(t,e,n,i){t.addEventListener(e,n,i)}function O(t,e,n,i){t.removeEventListener(e,n,i)}function C(t,e,n,i,r=null){const s=t._vei||(t._vei={}),o=s[e];if(i&&o)o.value=i;else{const[n,a]=T(e);if(i){const o=s[e]=E(i,r);M(t,n,o,a)}else o&&(O(t,n,o,a),s[e]=void 0)}}const A=/(?:Once|Passive|Capture)$/;function T(t){let e;if(A.test(t)){let n;e={};while(n=t.match(A))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[(0,i.rs)(t.slice(2)),e]}function E(t,e){const n=t=>{const i=t.timeStamp||y();(w||i>=n.attached-1)&&(0,r.$d)(D(t,n.value),e,5,[t])};return n.value=t,n.attached=S(),n}function D(t,e){if((0,i.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const P=/^on[a-z]/,R=(t,e,n,r,s=!1,o,a,l,u)=>{"class"===e?h(t,r,s):"style"===e?c(t,n,r):(0,i.F7)(e)?(0,i.tR)(e)||C(t,e,n,r,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):I(t,e,r,s))?b(t,e,r,o,a,l,u):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),v(t,e,r,s))};function I(t,e,n,r){return r?"innerHTML"===e||"textContent"===e||!!(e in t&&P.test(e)&&(0,i.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!P.test(e)||!(0,i.HD)(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const L="transition",N="animation",B=(t,{slots:e})=>(0,r.h)(r.P$,V(t),e);B.displayName="Transition";const j={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F=(B.props=(0,i.l7)({},r.P$.props,j),(t,e=[])=>{(0,i.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)}),z=t=>!!t&&((0,i.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function V(t){const e={};for(const i in t)i in j||(e[i]=t[i]);if(!1===t.css)return e;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:c=a,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=W(s),m=g&&g[0],v=g&&g[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:w,onLeave:x,onLeaveCancelled:_,onBeforeAppear:k=b,onAppear:S=y,onAppearCancelled:M=w}=e,O=(t,e,n)=>{U(t,e?u:l),U(t,e?c:a),n&&n()},C=(t,e)=>{t._isLeaving=!1,U(t,f),U(t,p),U(t,d),e&&e()},A=t=>(e,n)=>{const i=t?S:y,s=()=>O(e,t,n);F(i,[e,s]),q((()=>{U(e,t?h:o),$(e,t?u:l),z(i)||Q(e,r,m,s)}))};return(0,i.l7)(e,{onBeforeEnter(t){F(b,[t]),$(t,o),$(t,a)},onBeforeAppear(t){F(k,[t]),$(t,h),$(t,c)},onEnter:A(!1),onAppear:A(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>C(t,e);$(t,f),X(),$(t,d),q((()=>{t._isLeaving&&(U(t,f),$(t,p),z(x)||Q(t,r,v,n))})),F(x,[t,n])},onEnterCancelled(t){O(t,!1),F(w,[t])},onAppearCancelled(t){O(t,!0),F(M,[t])},onLeaveCancelled(t){C(t),F(_,[t])}})}function W(t){if(null==t)return null;if((0,i.Kn)(t))return[H(t.enter),H(t.leave)];{const e=H(t);return[e,e]}}function H(t){const e=(0,i.He)(t);return e}function $(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function U(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function q(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let J=0;function Q(t,e,n,i){const r=t._endId=++J,s=()=>{r===t._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=G(t,e);if(!o)return i();const h=o+"end";let c=0;const u=()=>{t.removeEventListener(h,f),s()},f=e=>{e.target===t&&++c>=l&&u()};setTimeout((()=>{c<l&&u()}),a+1),t.addEventListener(h,f)}function G(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i(L+"Delay"),s=i(L+"Duration"),o=Y(r,s),a=i(N+"Delay"),l=i(N+"Duration"),h=Y(a,l);let c=null,u=0,f=0;e===L?o>0&&(c=L,u=o,f=s.length):e===N?h>0&&(c=N,u=h,f=l.length):(u=Math.max(o,h),c=u>0?o>h?L:N:null,f=c?c===L?s.length:l.length:0);const d=c===L&&/\b(transform|all)(,|$)/.test(n[L+"Property"]);return{type:c,timeout:u,propCount:f,hasTransform:d}}function Y(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>K(e)+K(t[n]))))}function K(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function X(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Z=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,i.kJ)(e)?t=>(0,i.ir)(e,t):e};const tt={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=(0,i.DM)(e);M(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,i.He)(nt(t)):nt(t)));t._assign(t.multiple?s?new Set(e):e:e[0])})),t._assign=Z(r)},mounted(t,{value:e}){et(t,e)},beforeUpdate(t,e,n){t._assign=Z(n)},updated(t,{value:e}){et(t,e)}};function et(t,e){const n=t.multiple;if(!n||(0,i.kJ)(e)||(0,i.DM)(e)){for(let r=0,s=t.options.length;r<s;r++){const s=t.options[r],o=nt(s);if(n)(0,i.kJ)(e)?s.selected=(0,i.hq)(e,o)>-1:s.selected=e.has(o);else if((0,i.WV)(nt(s),e))return void(t.selectedIndex!==r&&(t.selectedIndex=r))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function nt(t){return"_value"in t?t._value:t.value}const it=(0,i.l7)({patchProp:R},l);let rt;function st(){return rt||(rt=(0,r.Us)(it))}const ot=(...t)=>{const e=st().createApp(...t);const{mount:n}=e;return e.mount=t=>{const r=at(t);if(!r)return;const s=e._component;(0,i.mf)(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function at(t){if((0,i.HD)(t)){const e=document.querySelector(t);return e}return t}},7139:function(t,e,n){"use strict";function i(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:function(){return d},DM:function(){return P},E9:function(){return it},F7:function(){return S},Gg:function(){return $},HD:function(){return L},He:function(){return et},Kn:function(){return B},NO:function(){return _},Nj:function(){return tt},Od:function(){return C},PO:function(){return W},Pq:function(){return a},RI:function(){return T},S0:function(){return H},W7:function(){return V},WV:function(){return g},Z6:function(){return w},_A:function(){return J},_N:function(){return D},aU:function(){return X},dG:function(){return x},e1:function(){return s},fY:function(){return i},hR:function(){return K},hq:function(){return m},ir:function(){return Z},j5:function(){return h},kC:function(){return Y},kJ:function(){return E},kT:function(){return y},l7:function(){return O},mf:function(){return I},rs:function(){return G},tI:function(){return j},tR:function(){return M},yA:function(){return l},yk:function(){return N},zw:function(){return v}});const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=i(r);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=i(o);function l(t){return!!t||""===t}function h(t){if(E(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=L(i)?f(i):h(i);if(r)for(const t in r)e[t]=r[t]}return e}return L(t)||B(t)?t:void 0}const c=/;(?![^(]*\))/g,u=/:(.+)/;function f(t){const e={};return t.split(c).forEach((t=>{if(t){const n=t.split(u);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function d(t){let e="";if(L(t))e=t;else if(E(t))for(let n=0;n<t.length;n++){const i=d(t[n]);i&&(e+=i+" ")}else if(B(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function p(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=g(t[i],e[i]);return n}function g(t,e){if(t===e)return!0;let n=R(t),i=R(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=N(t),i=N(e),n||i)return t===e;if(n=E(t),i=E(e),n||i)return!(!n||!i)&&p(t,e);if(n=B(t),i=B(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const n in t){const i=t.hasOwnProperty(n),r=e.hasOwnProperty(n);if(i&&!r||!i&&r||!g(t[n],e[n]))return!1}}return String(t)===String(e)}function m(t,e){return t.findIndex((t=>g(t,e)))}const v=t=>L(t)?t:null==t?"":E(t)||B(t)&&(t.toString===F||!I(t.toString))?JSON.stringify(t,b,2):String(t),b=(t,e)=>e&&e.__v_isRef?b(t,e.value):D(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:P(e)?{[`Set(${e.size})`]:[...e.values()]}:!B(e)||E(e)||W(e)?e:String(e),y={},w=[],x=()=>{},_=()=>!1,k=/^on[^a-z]/,S=t=>k.test(t),M=t=>t.startsWith("onUpdate:"),O=Object.assign,C=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},A=Object.prototype.hasOwnProperty,T=(t,e)=>A.call(t,e),E=Array.isArray,D=t=>"[object Map]"===z(t),P=t=>"[object Set]"===z(t),R=t=>"[object Date]"===z(t),I=t=>"function"===typeof t,L=t=>"string"===typeof t,N=t=>"symbol"===typeof t,B=t=>null!==t&&"object"===typeof t,j=t=>B(t)&&I(t.then)&&I(t.catch),F=Object.prototype.toString,z=t=>F.call(t),V=t=>z(t).slice(8,-1),W=t=>"[object Object]"===z(t),H=t=>L(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,$=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),U=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},q=/-(\w)/g,J=U((t=>t.replace(q,((t,e)=>e?e.toUpperCase():"")))),Q=/\B([A-Z])/g,G=U((t=>t.replace(Q,"-$1").toLowerCase())),Y=U((t=>t.charAt(0).toUpperCase()+t.slice(1))),K=U((t=>t?`on${Y(t)}`:"")),X=(t,e)=>!Object.is(t,e),Z=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},tt=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},et=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let nt;const it=()=>nt||(nt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},2707:function(t,e,n){n(1703),function(e,n){t.exports=n()}(0,(function(){"use strict";var t=function(){for(var t=3,e=document.createElement("b"),n=e.all||[];e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i><![endif]--\x3e",n[0];);return t>4?t:document.documentMode}(),e=navigator.platform.toLowerCase().indexOf("mac")+1,n=function(t){if(!(this instanceof n))return new n(t);var o=this,a={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};o.options={};for(var l,h=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],c=0;l=h[c];c++)o.options[l]="undefined"!=typeof t[l]&&null!=t[l]?t[l]:a[l];var u,f=["scroll","content"];for(c=0;u=f[c];c++)if(o[u+"_elem"]=t[u+"Id"]?document.getElementById(t[u+"Id"]):t[u+"Elem"],!o[u+"_elem"])throw new Error("Error! Could not find "+u+" element");o.content_elem.hasAttribute("tabindex")||o.content_elem.setAttribute("tabindex",0);var d=s(t.rows)?t.rows:o.fetchMarkup(),p={},g=o.scroll_elem.scrollTop;o.insertToDOM(d,p),o.scroll_elem.scrollTop=g;var m=!1,v=0,b=!1,y=function(){e&&(b||(o.content_elem.style.pointerEvents="none"),b=!0,clearTimeout(v),v=setTimeout((function(){o.content_elem.style.pointerEvents="auto",b=!1}),50)),m!=(m=o.getClusterNum(d))&&o.insertToDOM(d,p),o.options.callbacks.scrollingProgress&&o.options.callbacks.scrollingProgress(o.getScrollProgress())},w=0,x=function(){clearTimeout(w),w=setTimeout(o.refresh,100)};i("scroll",o.scroll_elem,y),i("resize",window,x),o.destroy=function(t){r("scroll",o.scroll_elem,y),r("resize",window,x),o.html((t?o.generateEmptyRow():d).join(""))},o.refresh=function(t){(o.getRowsHeight(d)||t)&&o.update(d)},o.update=function(t){d=s(t)?t:[];var e=o.scroll_elem.scrollTop;d.length*o.options.item_height<e&&(o.scroll_elem.scrollTop=0,m=0),o.insertToDOM(d,p),o.scroll_elem.scrollTop=e},o.clear=function(){o.update([])},o.getRowsAmount=function(){return d.length},o.getScrollProgress=function(){return this.options.scroll_top/(d.length*this.options.item_height)*100||0};var _=function(t,e){var n=s(e)?e:[];n.length&&(d="append"==t?d.concat(n):n.concat(d),o.insertToDOM(d,p))};o.append=function(t){_("append",t)},o.prepend=function(t){_("prepend",t)}};function i(t,e,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function r(t,e,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t,e){return window.getComputedStyle?window.getComputedStyle(e)[t]:e.currentStyle[t]}return n.prototype={constructor:n,fetchMarkup:function(){var t=[],e=this.getChildNodes(this.content_elem);while(e.length)t.push(e.shift().outerHTML);return t},exploreEnvironment:function(e,n){var i=this.options;i.content_tag=this.content_elem.tagName.toLowerCase(),e.length&&(t&&t<=9&&!i.tag&&(i.tag=e[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(n.data=this.html(e[0]+e[0]+e[0])),i.tag||(i.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(e))},getRowsHeight:function(t){var e=this.options,n=e.item_height;if(e.cluster_height=0,t.length){var i=this.content_elem.children;if(i.length){var r=i[Math.floor(i.length/2)];if(e.item_height=r.offsetHeight,"tr"==e.tag&&"collapse"!=o("borderCollapse",this.content_elem)&&(e.item_height+=parseInt(o("borderSpacing",this.content_elem),10)||0),"tr"!=e.tag){var s=parseInt(o("marginTop",r),10)||0,a=parseInt(o("marginBottom",r),10)||0;e.item_height+=Math.max(s,a)}return e.block_height=e.item_height*e.rows_in_block,e.rows_in_cluster=e.blocks_in_cluster*e.rows_in_block,e.cluster_height=e.blocks_in_cluster*e.block_height,n!=e.item_height}}},getClusterNum:function(t){var e=this.options;e.scroll_top=this.scroll_elem.scrollTop;var n=e.cluster_height-e.block_height,i=Math.floor(e.scroll_top/n),r=Math.floor(t.length*e.item_height/n);return Math.min(i,r)},generateEmptyRow:function(){var t=this.options;if(!t.tag||!t.show_no_data_row)return[];var e,n=document.createElement(t.tag),i=document.createTextNode(t.no_data_text);return n.className=t.no_data_class,"tr"==t.tag&&(e=document.createElement("td"),e.colSpan=100,e.appendChild(i)),n.appendChild(e||i),[n.outerHTML]},generate:function(t){var e=this.options,n=t.length;if(n<e.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:n?t:this.generateEmptyRow()};var i=Math.max((e.rows_in_cluster-e.rows_in_block)*this.getClusterNum(t),0),r=i+e.rows_in_cluster,s=Math.max(i*e.item_height,0),o=Math.max((n-r)*e.item_height,0),a=[],l=i;s<1&&l++;for(var h=i;h<r;h++)t[h]&&a.push(t[h]);return{top_offset:s,bottom_offset:o,rows_above:l,rows:a}},renderExtraTag:function(t,e){var n=document.createElement(this.options.tag),i="clusterize-";return n.className=[i+"extra-row",i+t].join(" "),e&&(n.style.height=e+"px"),n.outerHTML},insertToDOM:function(t,e){this.options.cluster_height||this.exploreEnvironment(t,e);var n=this.generate(t),i=n.rows.join(""),r=this.checkChanges("data",i,e),s=this.checkChanges("top",n.top_offset,e),o=this.checkChanges("bottom",n.bottom_offset,e),a=this.options.callbacks,l=[];r||s?(n.top_offset&&(this.options.keep_parity&&l.push(this.renderExtraTag("keep-parity")),l.push(this.renderExtraTag("top-space",n.top_offset))),l.push(i),n.bottom_offset&&l.push(this.renderExtraTag("bottom-space",n.bottom_offset)),a.clusterWillChange&&a.clusterWillChange(),this.html(l.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",n.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(n.rows_above-1),a.clusterChanged&&a.clusterChanged()):o&&(this.content_elem.lastChild.style.height=n.bottom_offset+"px")},html:function(e){var n=this.content_elem;if(t&&t<=9&&"tr"==this.options.tag){var i,r=document.createElement("div");r.innerHTML="<table><tbody>"+e+"</tbody></table>";while(i=n.lastChild)n.removeChild(i);var s=this.getChildNodes(r.firstChild.firstChild);while(s.length)n.appendChild(s.shift())}else n.innerHTML=e},getChildNodes:function(t){for(var e=t.children,n=[],i=0,r=e.length;i<r;i++)n.push(e[i]);return n},checkChanges:function(t,e,n){var i=e!=n[t];return n[t]=e,i}},n}))},6520:function(t,e,n){"use strict";n.d(e,{Ei:function(){return T},w3:function(){return A}});n(1703);var i=n(4870);
/**
  * vue-class-component v8.0.0-rc.1
  * (c) 2015-present Evan You
  * @license MIT
  */
function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?p(t):e}function m(t){var e=d();return function(){var n,i=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}function v(t){return b(t)||y(t)||w(t)||_()}function b(t){if(Array.isArray(t))return x(t)}function y(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function w(t,e){if(t){if("string"===typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(t,e,n){Object.defineProperty(t,e,{get:n,enumerable:!1,configurable:!0})}function S(t,e,n){Object.defineProperty(t,e,{get:function(){return n[e].value},set:function(t){n[e].value=t},enumerable:!0,configurable:!0})}function M(t){var e=Object.getPrototypeOf(t.prototype);if(e)return e.constructor}function O(t,e){return t.hasOwnProperty(e)?t[e]:void 0}var C=function(){function t(e,n){var i=this;r(this,t),k(this,"$props",(function(){return e})),k(this,"$attrs",(function(){return n.attrs})),k(this,"$slots",(function(){return n.slots})),k(this,"$emit",(function(){return n.emit})),Object.keys(e).forEach((function(t){Object.defineProperty(i,t,{enumerable:!1,configurable:!0,writable:!0,value:e[t]})}))}return o(t,null,[{key:"registerHooks",value:function(t){var e;(e=this.__h).push.apply(e,v(t))}},{key:"with",value:function(t){var e=new t,n={};Object.keys(e).forEach((function(t){var i=e[t];n[t]=null!==i&&void 0!==i?i:null}));var i=function(t){c(n,t);var e=m(n);function n(){return r(this,n),e.apply(this,arguments)}return n}(this);return i.__b={props:n},i}},{key:"__vccOpts",get:function(){if(this===A)return{};var t=this,e=O(t,"__c");if(e)return e;var n=h({},O(t,"__o"));t.__c=n;var r=M(t);r&&(n["extends"]=r.__vccOpts);var s=O(t,"__b");s&&(n.mixins=n.mixins||[],n.mixins.unshift(s)),n.methods=h({},n.methods),n.computed=h({},n.computed);var o=t.prototype;Object.getOwnPropertyNames(o).forEach((function(e){if("constructor"!==e)if(t.__h.indexOf(e)>-1)n[e]=o[e];else{var i=Object.getOwnPropertyDescriptor(o,e);"function"!==typeof i.value?(i.get||i.set)&&(n.computed[e]={get:i.get,set:i.set}):n.methods[e]=i.value}})),n.setup=function(e,n){var r,s=new t(e,n),o=Object.keys(s),a={},l=null;return o.forEach((function(t){void 0===s[t]||s[t]&&s[t].__s||(a[t]=(0,i.iH)(s[t]),S(s,t,a))})),o.forEach((function(t){if(s[t]&&s[t].__s){var e=s[t].__s();e instanceof Promise?(l||(l=Promise.resolve(a)),l=l.then((function(){return e.then((function(e){return a[t]=(0,i.WL)(e),a}))}))):a[t]=(0,i.WL)(e)}})),null!==(r=l)&&void 0!==r?r:a};var a=O(t,"__d");a&&a.forEach((function(t){return t(n)}));var l=["render","ssrRender","__file","__cssModules","__scopeId","__hmrId"];return l.forEach((function(e){t[e]&&(n[e]=t[e])})),n}}]),t}();C.__h=["data","beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];var A=C;function T(t){return function(e){return e.__o=t,e}}},89:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n}},65:function(t,e,n){"use strict";n.d(e,{MT:function(){return tt}});n(1703);var i=n(3396),r=n(4870);function s(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const a="function"===typeof Proxy,l="devtools-plugin:setup",h="plugin:settings:set";let c,u;function f(){var t;return void 0!==c||("undefined"!==typeof window&&window.performance?(c=!0,u=window.performance):"undefined"!==typeof n.g&&(null===(t=n.g.perf_hooks)||void 0===t?void 0:t.performance)?(c=!0,u=n.g.perf_hooks.performance):c=!1),c}function d(){return f()?u.now():Date.now()}class p{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const o in t.settings){const e=t.settings[o];n[o]=e.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},n);try{const t=localStorage.getItem(i),e=JSON.parse(t);Object.assign(r,e)}catch(s){}this.fallbacks={getSettings(){return r},setSettings(t){try{localStorage.setItem(i,JSON.stringify(t))}catch(s){}r=t},now(){return d()}},e&&e.on(h,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function g(t,e){const n=t,i=o(),r=s(),h=a&&n.enableEarlyProxy;if(!r||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&h){const t=h?new p(n,r):null,s=i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else r.emit(l,t,e)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var m="store";function v(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function b(t){return null!==t&&"object"===typeof t}function y(t){return t&&"function"===typeof t.then}function w(t,e){return function(){return t(e)}}function x(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function _(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;S(t,n,[],t._modules.root,!0),k(t,n,e)}function k(t,e,n){var i=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,o={};v(s,(function(e,n){o[n]=w(e,t),Object.defineProperty(t.getters,n,{get:function(){return o[n]()},enumerable:!0})})),t._state=(0,r.qj)({data:e}),t.strict&&E(t),i&&n&&t._withCommit((function(){i.data=null}))}function S(t,e,n,i,r){var s=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=i),!s&&!r){var a=D(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){a[l]=i.state}))}var h=i.context=M(t,o,n);i.forEachMutation((function(e,n){var i=o+n;C(t,i,e,h)})),i.forEachAction((function(e,n){var i=e.root?n:o+n,r=e.handler||e;A(t,i,r,h)})),i.forEachGetter((function(e,n){var i=o+n;T(t,i,e,h)})),i.forEachChild((function(i,s){S(t,e,n.concat(s),i,r)}))}function M(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var s=P(n,i,r),o=s.payload,a=s.options,l=s.type;return a&&a.root||(l=e+l),t.dispatch(l,o)},commit:i?t.commit:function(n,i,r){var s=P(n,i,r),o=s.payload,a=s.options,l=s.type;a&&a.root||(l=e+l),t.commit(l,o,a)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return O(t,e)}},state:{get:function(){return D(t.state,n)}}}),r}function O(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,i)===e){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function C(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){n.call(t,i.state,e)}))}function A(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return y(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function T(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}function E(t){(0,i.YP)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function D(t,e){return e.reduce((function(t,e){return t[e]}),t)}function P(t,e,n){return b(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var R="vuex bindings",I="vuex:mutations",L="vuex:actions",N="vuex",B=0;function j(t,e){g({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[R]},(function(n){n.addTimelineLayer({id:I,label:"Vuex Mutations",color:F}),n.addTimelineLayer({id:L,label:"Vuex Actions",color:F}),n.addInspector({id:N,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===N)if(n.filter){var i=[];U(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[$(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===N){var i=n.nodeId;O(e,i),n.state=q(Q(e._modules,i),"root"===i?e.getters:e._makeLocalGettersCache,i)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===N){var i=n.nodeId,r=n.path;"root"!==i&&(r=i.split("/").filter(Boolean).concat(r)),e._withCommit((function(){n.set(e._state.data,r,n.state.value)}))}})),e.subscribe((function(t,e){var i={};t.payload&&(i.payload=t.payload),i.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(N),n.sendInspectorState(N),n.addTimelineEvent({layerId:I,event:{time:Date.now(),title:t.type,data:i}})})),e.subscribeAction({before:function(t,e){var i={};t.payload&&(i.payload=t.payload),t._id=B++,t._time=Date.now(),i.state=e,n.addTimelineEvent({layerId:L,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:i}})},after:function(t,e){var i={},r=Date.now()-t._time;i.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},t.payload&&(i.payload=t.payload),i.state=e,n.addTimelineEvent({layerId:L,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:i}})}})}))}var F=8702998,z=6710886,V=16777215,W={label:"namespaced",textColor:V,backgroundColor:z};function H(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function $(t,e){return{id:e||"root",label:H(e),tags:t.namespaced?[W]:[],children:Object.keys(t._children).map((function(n){return $(t._children[n],e+n+"/")}))}}function U(t,e,n,i){i.includes(n)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[W]:[]}),Object.keys(e._children).forEach((function(r){U(t,e._children[r],n,i+r+"/")}))}function q(t,e,n){e="root"===n?e:e[n];var i=Object.keys(e),r={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(i.length){var s=J(e);r.getters=Object.keys(s).map((function(t){return{key:t.endsWith("/")?H(t):t,editable:!1,value:G((function(){return s[t]}))}}))}return r}function J(t){var e={};return Object.keys(t).forEach((function(n){var i=n.split("/");if(i.length>1){var r=e,s=i.pop();i.forEach((function(t){r[t]||(r[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),r=r[t]._custom.value})),r[s]=G((function(){return t[n]}))}else e[n]=G((function(){return t[n]}))})),e}function Q(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,i,r){var s=t[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return r===n.length-1?s:s._children}),"root"===e?t:t.root._children)}function G(t){try{return t()}catch(e){return e}}var Y=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},K={namespaced:{configurable:!0}};K.namespaced.get=function(){return!!this._rawModule.namespaced},Y.prototype.addChild=function(t,e){this._children[t]=e},Y.prototype.removeChild=function(t){delete this._children[t]},Y.prototype.getChild=function(t){return this._children[t]},Y.prototype.hasChild=function(t){return t in this._children},Y.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Y.prototype.forEachChild=function(t){v(this._children,t)},Y.prototype.forEachGetter=function(t){this._rawModule.getters&&v(this._rawModule.getters,t)},Y.prototype.forEachAction=function(t){this._rawModule.actions&&v(this._rawModule.actions,t)},Y.prototype.forEachMutation=function(t){this._rawModule.mutations&&v(this._rawModule.mutations,t)},Object.defineProperties(Y.prototype,K);var X=function(t){this.register([],t,!1)};function Z(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;Z(t.concat(i),e.getChild(i),n.modules[i])}}X.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},X.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},X.prototype.update=function(t){Z([],this.root,t)},X.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new Y(e,n);if(0===t.length)this.root=r;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],r)}e.modules&&v(e.modules,(function(e,r){i.register(t.concat(r),e,n)}))},X.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},X.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};function tt(t){return new et(t)}var et=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new X(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=r;var s=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(t,e){return a.call(s,t,e)},this.commit=function(t,e,n){return l.call(s,t,e,n)},this.strict=i;var h=this._modules.root.state;S(this,h,[],this._modules.root),k(this,h),n.forEach((function(t){return t(e)}))},nt={state:{configurable:!0}};et.prototype.install=function(t,e){t.provide(e||m,this),t.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&j(t,this)},nt.state.get=function(){return this._state.data},nt.state.set=function(t){0},et.prototype.commit=function(t,e,n){var i=this,r=P(t,e,n),s=r.type,o=r.payload,a=(r.options,{type:s,payload:o}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,i.state)})))},et.prototype.dispatch=function(t,e){var n=this,i=P(t,e),r=i.type,s=i.payload,o={type:r,payload:s},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,n.state)}))}catch(h){0}var l=a.length>1?Promise.all(a.map((function(t){return t(s)}))):a[0](s);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,n.state)}))}catch(h){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,n.state,t)}))}catch(h){0}e(t)}))}))}},et.prototype.subscribe=function(t,e){return x(t,this._subscribers,e)},et.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return x(n,this._actionSubscribers,e)},et.prototype.watch=function(t,e,n){var r=this;return(0,i.YP)((function(){return t(r.state,r.getters)}),e,Object.assign({},n))},et.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},et.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),S(this,this.state,t,this._modules.get(t),n.preserveState),k(this,this.state)},et.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=D(e.state,t.slice(0,-1));delete n[t[t.length-1]]})),_(this)},et.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},et.prototype.hotUpdate=function(t){this._modules.update(t),_(this,!0)},et.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(et.prototype,nt);st((function(t,e){var n={};return it(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=ot(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"===typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0})),n})),st((function(t,e){var n={};return it(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.commit;if(t){var s=ot(this.$store,"mapMutations",t);if(!s)return;i=s.context.commit}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n})),st((function(t,e){var n={};return it(e).forEach((function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||ot(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0})),n})),st((function(t,e){var n={};return it(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var s=ot(this.$store,"mapActions",t);if(!s)return;i=s.context.dispatch}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n}));function it(t){return rt(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function rt(t){return Array.isArray(t)||b(t)}function st(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function ot(t,e,n){var i=t._modulesNamespaceMap[n];return i}},2482:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return i}})},3152:function(t,e,n){"use strict";n.d(e,{B1:function(){return kt},GA:function(){return ft},Mb:function(){return h},eC:function(){return c},vQ:function(){return st},ys:function(){return _t}});n(2087);var i=n(8045),r=n(1901),s=n(2235);class o{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=(0,s.qz)(this.state).resolveInner(this.pos,-1);while(e&&t.indexOf(e.name)<0)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),i=e.text.slice(n-e.from,this.pos-e.from),r=i.search(d(t,!1));return r<0?null:{from:n+r,to:this.pos,text:i.slice(r)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function a(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function l(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let i=a(e)+a(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function h(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,i]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:l(e);return t=>{let r=t.matchBefore(i);return r||t.explicit?{from:r?r.from:t.pos,options:e,validFor:n}:null}}function c(t,e){return n=>{for(let e=(0,s.qz)(n.state).resolveInner(n.pos,-1);e;e=e.parent)if(t.indexOf(e.name)>-1)return null;return e(n)}}class u{constructor(t,e,n){this.completion=t,this.source=e,this.match=n}}function f(t){return t.selection.main.head}function d(t,e){var n;let{source:i}=t,r=e&&"^"!=i[0],s="$"!=i[i.length-1];return r||s?new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}function p(t,e,n,r){return Object.assign(Object.assign({},t.changeByRange((s=>{if(s==t.selection.main)return{changes:{from:n,to:r,insert:e},range:i.jT.cursor(n+e.length)};let o=r-n;return!s.empty||o&&t.sliceDoc(s.from-o,s.from)!=t.sliceDoc(n,r)?{range:s}:{changes:{from:s.from-o,to:s.from,insert:e},range:i.jT.cursor(s.from-o+e.length)}}))),{userEvent:"input.complete"})}function g(t,e){const n=e.completion.apply||e.completion.label;let i=e.source;"string"==typeof n?t.dispatch(p(t.state,n,i.from,i.to)):n(t,e.completion,i.from,i.to)}const m=new WeakMap;function v(t){if(!Array.isArray(t))return t;let e=m.get(t);return e||m.set(t,e=h(t)),e}class b{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let n=(0,i.gm)(t,e),r=(0,i.nZ)(n);this.chars.push(n);let s=t.slice(e,e+r),o=s.toUpperCase();this.folded.push((0,i.gm)(o==s?s.toLowerCase():o,0)),e+=r}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:s,byWord:o}=this;if(1==e.length){let r=(0,i.gm)(t,0);return r==e[0]?[0,0,(0,i.nZ)(r)]:r==n[0]?[-200,0,(0,i.nZ)(r)]:null}let a=t.indexOf(this.pattern);if(0==a)return[0,0,this.pattern.length];let l=e.length,h=0;if(a<0){for(let s=0,o=Math.min(t.length,200);s<o&&h<l;){let o=(0,i.gm)(t,s);o!=e[h]&&o!=n[h]||(r[h++]=s),s+=(0,i.nZ)(o)}if(h<l)return null}let c=0,u=0,f=!1,d=0,p=-1,g=-1,m=/[a-z]/.test(t),v=!0;for(let b=0,y=Math.min(t.length,200),w=0;b<y&&u<l;){let r=(0,i.gm)(t,b);a<0&&(c<l&&r==e[c]&&(s[c++]=b),d<l&&(r==e[d]||r==n[d]?(0==d&&(p=b),g=b+1,d++):d=0));let h,y=r<255?r>=48&&r<=57||r>=97&&r<=122?2:r>=65&&r<=90?1:0:(h=(0,i.bg)(r))!=h.toLowerCase()?1:h!=h.toUpperCase()?2:0;(!b||1==y&&m||0==w&&0!=y)&&(e[u]==r||n[u]==r&&(f=!0)?o[u++]=b:o.length&&(v=!1)),w=y,b+=(0,i.nZ)(r)}return u==l&&0==o[0]&&v?this.result((f?-200:0)-100,o,t):d==l&&0==p?[-200-t.length,0,g]:a>-1?[-700-t.length,a,a+this.pattern.length]:d==l?[-900-t.length,p,g]:u==l?this.result((f?-200:0)-100-700+(v?0:-1100),o,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[t-n.length],s=1;for(let o of e){let t=o+(this.astral?(0,i.nZ)((0,i.gm)(n,o)):1);s>1&&r[s-1]==o?r[s-1]=t:(r[s++]=o,r[s++]=t)}return r}}const y=i.r$.define({combine(t){return(0,i.BO)(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(t,e)=>t.label.localeCompare(e.label)},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,optionClass:(t,e)=>n=>w(t(n),e(n)),addToOptions:(t,e)=>t.concat(e)})}});function w(t,e){return t?e?t+" "+e:t:e}function x(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n){let i=document.createElement("span");i.className="cm-completionLabel";let{label:r}=t,s=0;for(let o=1;o<n.length;){let t=n[o++],e=n[o++];t>s&&i.appendChild(document.createTextNode(r.slice(s,t)));let a=i.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(r.slice(t,e))),a.className="cm-completionMatchedText",s=e}return s<r.length&&i.appendChild(document.createTextNode(r.slice(s))),i},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}function _(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class k{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let n=t.state.field(e),{options:i,selected:r}=n.open,s=t.state.facet(y);this.optionContent=x(s),this.optionClass=s.optionClass,this.range=_(i.length,r,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(e=>{for(let n,r=e.target;r&&r!=this.dom;r=r.parentNode)if("LI"==r.nodeName&&(n=/-(\d+)$/.exec(r.id))&&+n[1]<i.length)return g(t,i[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(i,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=_(e.options.length,e.selected,this.view.state.facet(y).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e.options,t.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:n}=e.options[e.selected],{info:i}=n;if(!i)return;let s="string"===typeof i?document.createTextNode(i):i(n);if(!s)return;"then"in s?s.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e)})).catch((t=>(0,r.OO)(this.view.state,t,"completion info"))):this.addInfoPane(s)}}addInfoPane(t){let e=this.info=document.createElement("div");e.className="cm-tooltip cm-completionInfo",e.appendChild(t),this.dom.appendChild(e),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)i==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return e&&M(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=t.getBoundingClientRect();if(i.top>Math.min(innerHeight,e.bottom)-10||i.bottom<Math.max(0,e.top)+10)return null;let s=Math.max(0,Math.min(i.top,innerHeight-n.height))-e.top,o=this.view.textDirection==r.Nm.RTL,a=e.left,l=innerWidth-e.right;return o&&a<Math.min(n.width,l)?o=!1:!o&&l<Math.min(n.width,a)&&(o=!0),{top:s,left:o}}positionInfo(t){this.info&&(this.info.style.top=(t?t.top:-1e6)+"px",t&&(this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left)))}createListBox(t,e,n){const i=document.createElement("ul");i.id=e,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let r=n.from;r<n.to;r++){let{completion:n,match:s}=t[r];const o=i.appendChild(document.createElement("li"));o.id=e+"-"+r,o.setAttribute("role","option");let a=this.optionClass(n);a&&(o.className=a);for(let t of this.optionContent){let e=t(n,this.view.state,s);e&&o.appendChild(e)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function S(t){return e=>new k(e,t)}function M(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<n.top?t.scrollTop-=n.top-i.top:i.bottom>n.bottom&&(t.scrollTop+=i.bottom-n.bottom)}function O(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function C(t,e){let n=[],i=0;for(let a of t)if(a.hasResult())if(!1===a.result.filter){let t=a.result.getMatch;for(let e of a.result.options){let r=[1e9-i++];if(t)for(let n of t(e))r.push(n);n.push(new u(e,a,r))}}else{let t,i=new b(e.sliceDoc(a.from,a.to));for(let e of a.result.options)(t=i.match(e.label))&&(null!=e.boost&&(t[0]+=e.boost),n.push(new u(e,a,t)))}let r=[],s=null,o=e.facet(y).compareCompletions;for(let a of n.sort(((t,e)=>e.match[0]-t.match[0]||o(t.completion,e.completion))))!s||s.label!=a.completion.label||s.detail!=a.completion.detail||null!=s.type&&null!=a.completion.type&&s.type!=a.completion.type||s.apply!=a.completion.apply?r.push(a):O(a.completion)>O(s)&&(r[r.length-1]=a),s=a.completion;return r}class A{constructor(t,e,n,i,r){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=i,this.selected=r}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new A(this.options,P(e,t),this.tooltip,this.timestamp,t)}static build(t,e,n,i,r){let s=C(t,e);if(!s.length)return null;let o=e.facet(y).selectOnOpen?0:-1;if(i&&i.selected!=o&&-1!=i.selected){let t=i.options[i.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){o=e;break}}return new A(s,P(n,o),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:S(W),above:r.aboveCursor},i?i.timestamp:Date.now(),o)}map(t){return new A(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class T{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new T(R,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(y),i=n.override||e.languageDataAt("autocomplete",f(e)).map(v),r=i.map((e=>{let i=this.active.find((t=>t.source==e))||new L(e,this.active.some((t=>0!=t.state))?1:0);return i.update(t,n)}));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let s=t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!E(r,this.active)?A.build(r,e,this.id,this.open,n):this.open&&t.docChanged?this.open.map(t.changes):this.open;!s&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new L(t.source,0):t)));for(let o of t.effects)o.is(V)&&(s=s&&s.setSelected(o.value,this.id));return r==this.active&&s==this.open?this:new T(r,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:D}}function E(t,e){if(t==e)return!0;for(let n=0,i=0;;){while(n<t.length&&!t[n].hasResult)n++;while(i<e.length&&!e[i].hasResult)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}const D={"aria-autocomplete":"list"};function P(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const R=[];function I(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class L{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=I(t),i=this;n?i=i.handleUserEvent(t,n,e):t.docChanged?i=i.handleChange(t):t.selection&&0!=i.state&&(i=new L(i.source,0));for(let r of t.effects)if(r.is(j))i=new L(i.source,1,r.value?f(t.state):-1);else if(r.is(F))i=new L(i.source,0);else if(r.is(z))for(let t of r.value)t.source==i.source&&(i=t);return i}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new L(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(f(t.startState))?new L(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new L(this.source,this.state,t.mapPos(this.explicitPos))}}class N extends L{constructor(t,e,n,i,r){super(t,2,e),this.result=n,this.from=i,this.to=r}hasResult(){return!0}handleUserEvent(t,e,n){var i;let r=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),a=f(t.state);if((this.explicitPos<0?a<=r:a<this.from)||a>s||"delete"==e&&f(t.startState)==this.from)return new L(this.source,"input"==e&&n.activateOnTyping?1:0);let l,h=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return B(this.result.validFor,t.state,r,s)?new N(this.source,h,this.result,r,s):this.result.update&&(l=this.result.update(this.result,r,s,new o(t.state,a,h>=0)))?new N(this.source,h,l,l.from,null!==(i=l.to)&&void 0!==i?i:f(t.state)):new L(this.source,1,h)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new L(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new N(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}function B(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return"function"==typeof t?t(r,n,i,e):d(t,!0).test(r)}const j=i.Py.define(),F=i.Py.define(),z=i.Py.define({map(t,e){return t.map((t=>t.map(e)))}}),V=i.Py.define(),W=i.QQ.define({create(){return T.start()},update(t,e){return t.update(e)},provide:t=>[r.hJ.from(t,(t=>t.tooltip)),r.tk.contentAttributes.from(t,(t=>t.attrs))]}),H=75;function $(t,e="option"){return n=>{let i=n.state.field(W,!1);if(!i||!i.open||Date.now()-i.open.timestamp<H)return!1;let s,o=1;"page"==e&&(s=(0,r.gB)(n,i.open.tooltip))&&(o=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=i.open.options,l=i.open.selected>-1?i.open.selected+o*(t?1:-1):t?0:a-1;return l<0?l="page"==e?0:a-1:l>=a&&(l="page"==e?a-1:0),n.dispatch({effects:V.of(l)}),!0}}const U=t=>{let e=t.state.field(W,!1);return!(t.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<H||e.open.selected<0)&&(g(t,e.open.options[e.open.selected]),!0)},q=t=>{let e=t.state.field(W,!1);return!!e&&(t.dispatch({effects:j.of(!0)}),!0)},J=t=>{let e=t.state.field(W,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:F.of(null)}),!0)};class Q{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const G=50,Y=50,K=1e3,X=r.lg.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(W).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(W);if(!t.selectionSet&&!t.docChanged&&t.startState.field(W)==e)return;let n=t.transactions.some((t=>(t.selection||t.docChanged)&&!I(t)));for(let s=0;s<this.running.length;s++){let e=this.running[s];if(n||e.updates.length+t.transactions.length>Y&&Date.now()-e.time>K){for(let t of e.context.abortListeners)try{t()}catch(i){(0,r.OO)(this.view.state,i)}e.context.abortListeners=null,this.running.splice(s--,1)}else e.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),G):-1,0!=this.composing)for(let r of t.transactions)"input"==I(r)?this.composing=2:2==this.composing&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(W);for(let n of e.active)1!=n.state||this.running.some((t=>t.active.source==n.source))||this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=f(e),i=new o(e,n,t.explicitPos==n),s=new Q(t,i);this.running.push(s),Promise.resolve(t.source(i)).then((t=>{s.context.aborted||(s.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:F.of(null)}),(0,r.OO)(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),G))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(y);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(void 0===r.done)continue;if(this.running.splice(i--,1),r.done){let i=new N(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(t=r.done.to)&&void 0!==t?t:f(r.updates.length?r.updates[0].startState:this.view.state));for(let t of r.updates)i=i.update(t,n);if(i.hasResult()){e.push(i);continue}}let s=this.view.state.field(W).active.find((t=>t.source==r.active.source));if(s&&1==s.state)if(null==r.done){let t=new L(r.active.source,0);for(let e of r.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:z.of(e)})}},{eventHandlers:{blur(){let t=this.view.state.field(W,!1);t&&t.tooltip&&this.view.state.facet(y).closeOnBlur&&this.view.dispatch({effects:F.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:j.of(!1)})),20),this.composing=0}}}),Z=r.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const tt={brackets:["(","[","{","'",'"'],before:")]}:;>"},et=i.Py.define({map(t,e){let n=e.mapPos(t,-1,i.gc.TrackAfter);return null==n?void 0:n}}),nt=i.Py.define({map(t,e){return e.mapPos(t)}}),it=new class extends i.uU{};it.startSide=1,it.endSide=-1;const rt=i.QQ.define({create(){return i.Xs.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=i.Xs.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(et)?t=t.update({add:[it.range(n.value,n.value+1)]}):n.is(nt)&&(t=t.update({filter:t=>t!=n.value}));return t}});function st(){return[ct,rt]}const ot="()[]{}<>";function at(t){for(let e=0;e<ot.length;e+=2)if(ot.charCodeAt(e)==t)return ot.charAt(e+1);return(0,i.bg)(t<128?t:t+1)}function lt(t,e){return t.languageDataAt("closeBrackets",e)[0]||tt}const ht="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),ct=r.tk.inputHandler.of(((t,e,n,r)=>{if((ht?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let s=t.state.selection.main;if(r.length>2||2==r.length&&1==(0,i.nZ)((0,i.gm)(r,0))||e!=s.from||n!=s.to)return!1;let o=dt(t.state,r);return!!o&&(t.dispatch(o),!0)})),ut=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=lt(t,t.selection.main.head),r=n.brackets||tt.brackets,s=null,o=t.changeByRange((e=>{if(e.empty){let n=mt(t.doc,e.head);for(let s of r)if(s==n&&gt(t.doc,e.head)==at((0,i.gm)(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:i.jT.cursor(e.head-s.length),userEvent:"delete.backward"}}return{range:s=e}}));return s||e(t.update(o,{scrollIntoView:!0})),!s},ft=[{key:"Backspace",run:ut}];function dt(t,e){let n=lt(t,t.selection.main.head),r=n.brackets||tt.brackets;for(let s of r){let o=at((0,i.gm)(s,0));if(e==s)return o==s?yt(t,s,r.indexOf(s+s+s)>-1):vt(t,s,o,n.before||tt.before);if(e==o&&pt(t,t.selection.main.from))return bt(t,s,o)}return null}function pt(t,e){let n=!1;return t.field(rt).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function gt(t,e){let n=t.sliceString(e,e+2);return n.slice(0,(0,i.nZ)((0,i.gm)(n,0)))}function mt(t,e){let n=t.sliceString(e-2,e);return(0,i.nZ)((0,i.gm)(n,0))==n.length?n:n.slice(1)}function vt(t,e,n,r){let s=null,o=t.changeByRange((o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:et.of(o.to+e.length),range:i.jT.range(o.anchor+e.length,o.head+e.length)};let a=gt(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:et.of(o.head+e.length),range:i.jT.cursor(o.head+e.length)}:{range:s=o}}));return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function bt(t,e,n){let r=null,s=t.selection.ranges.map((e=>e.empty&&gt(t.doc,e.head)==n?i.jT.cursor(e.head+n.length):r=e));return r?null:t.update({selection:i.jT.create(s,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map((({from:t})=>nt.of(t)))})}function yt(t,e,n){let r=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:et.of(s.to+e.length),range:i.jT.range(s.anchor+e.length,s.head+e.length)};let o=s.head,a=gt(t.doc,o);if(a==e){if(wt(t,o))return{changes:{insert:e+e,from:o},effects:et.of(o+e.length),range:i.jT.cursor(o+e.length)};if(pt(t,o)){let r=n&&t.sliceDoc(o,o+3*e.length)==e+e+e;return{range:i.jT.cursor(o+e.length*(r?3:1)),effects:nt.of(o)}}}else{if(n&&t.sliceDoc(o-2*e.length,o)==e+e&&wt(t,o-2*e.length))return{changes:{insert:e+e+e+e,from:o},effects:et.of(o+e.length),range:i.jT.cursor(o+e.length)};if(t.charCategorizer(o)(a)!=i.D0.Word){let n=t.sliceDoc(o-1,o);if(n!=e&&t.charCategorizer(o)(n)!=i.D0.Word&&!xt(t,o,e))return{changes:{insert:e+e,from:o},effects:et.of(o+e.length),range:i.jT.cursor(o+e.length)}}}return{range:r=s}}));return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function wt(t,e){let n=(0,s.qz)(t).resolveInner(e+1);return n.parent&&n.from==e}function xt(t,e,n){let i=(0,s.qz)(t).resolveInner(e,-1);for(let r=0;r<5;r++){if(t.sliceDoc(i.from,i.from+n.length)==n){let e=i.firstChild;while(e&&e.from==i.from&&e.to-e.from>n.length){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let r=i.to==e&&i.parent;if(!r)break;i=r}return!1}function _t(t={}){return[W,y.of(t),X,St,Z]}const kt=[{key:"Ctrl-Space",run:q},{key:"Escape",run:J},{key:"ArrowDown",run:$(!0)},{key:"ArrowUp",run:$(!1)},{key:"PageDown",run:$(!0,"page")},{key:"PageUp",run:$(!1,"page")},{key:"Enter",run:U}],St=i.Wl.highest(r.$f.computeN([y],(t=>t.facet(y).defaultKeymap?[kt]:[])))},5266:function(t,e,n){"use strict";n.d(e,{f$:function(){return H},m8:function(){return S},oc:function(){return ke},wQ:function(){return _e}});var i=n(8045),r=n(1901),s=n(2235),o=n(8783);const a=t=>{let e=f(t.state);return e.line?h(t):!!e.block&&u(t)};function l(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return!!r&&(i(n.update(r)),!0)}}const h=l(v,0),c=l(m,0),u=l(((t,e)=>m(t,e,g(e))),0);function f(t,e=t.selection.main.head){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const d=50;function p(t,{open:e,close:n},i,r){let s,o,a=t.sliceDoc(i-d,i),l=t.sliceDoc(r,r+d),h=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(l)[0].length,u=a.length-h;if(a.slice(u-e.length,u)==e&&l.slice(c,c+n.length)==n)return{open:{pos:i-h,margin:h&&1},close:{pos:r+c,margin:c&&1}};r-i<=2*d?s=o=t.sliceDoc(i,r):(s=t.sliceDoc(i,i+d),o=t.sliceDoc(r-d,r));let f=/^\s*/.exec(s)[0].length,p=/\s*$/.exec(o)[0].length,g=o.length-p-n.length;return s.slice(f,f+e.length)==e&&o.slice(g,g+n.length)==n?{open:{pos:i+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:r-p-n.length,margin:/\s/.test(o.charAt(g-1))?1:0}}:null}function g(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from,to:r.to})}return e}function m(t,e,n=e.selection.ranges){let i=n.map((t=>f(e,t.from).block));if(!i.every((t=>t)))return null;let r=n.map(((t,n)=>p(e,i[n],t.from,t.to)));if(2!=t&&!r.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>r[e]?[]:[{from:t.from,insert:i[e].open+" "},{from:t.to,insert:" "+i[e].close}])))};if(1!=t&&r.some((t=>t))){let t=[];for(let e,n=0;n<r.length;n++)if(e=r[n]){let r=i[n],{open:s,close:o}=e;t.push({from:s.pos-r.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+r.close.length})}return{changes:t}}return null}function v(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of n){let t=i.length,n=1e9;for(let a=s;a<=o;){let t=e.doc.lineAt(a);if(t.from>r&&(s==o||o>t.from)){r=t.from;let s=f(e,a).line;if(!s)continue;let o=/^\s*/.exec(t.text)[0].length,l=o==t.length,h=t.text.slice(o,o+s.length)==s?o:-1;o<t.text.length&&o<n&&(n=o),i.push({line:t,comment:h,token:s,indent:o,empty:l,single:!1})}a=t.to+1}if(n<1e9)for(let e=t;e<i.length;e++)i[e].indent<i[e].line.text.length&&(i[e].indent=n);i.length==t+1&&(i[t].single=!0)}if(2!=t&&i.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:r,indent:s,empty:o,single:a}of i)!a&&o||t.push({from:e.from+s,insert:r+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&i.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:r}of i)if(n>=0){let i=e.from+n,s=i+r.length;" "==e.text[s-e.from]&&s++,t.push({from:i,to:s})}return{changes:t}}return null}const b=i.q6.define(),y=i.q6.define(),w=i.r$.define(),x=i.r$.define({combine(t){return(0,i.BO)(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function _(t){let e=0;return t.iterChangedRanges(((t,n)=>e=n)),e}const k=i.QQ.define({create(){return W.empty},update(t,e){let n=e.state.facet(x),r=e.annotation(b);if(r){let s=e.docChanged?i.jT.single(_(e.changes)):void 0,o=E.fromTransaction(e,s),a=r.side,l=0==a?t.undone:t.done;return l=o?D(l,l.length,n.minDepth,o):B(l,e.startState.selection),new W(0==a?r.rest:l,0==a?l:r.rest)}let s=e.annotation(y);if("full"!=s&&"before"!=s||(t=t.isolate()),!1===e.annotation(i.YW.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let o=E.fromTransaction(e),a=e.annotation(i.YW.time),l=e.annotation(i.YW.userEvent);return o?t=t.addChanges(o,a,l,n.newGroupDelay,n.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,a,l,n.newGroupDelay)),"full"!=s&&"after"!=s||(t=t.isolate()),t},toJSON(t){return{done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}},fromJSON(t){return new W(t.done.map(E.fromJSON),t.undone.map(E.fromJSON))}});function S(t={}){return[k,x.of(t),r.tk.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?O:"historyRedo"==t.inputType?C:null;return!!n&&(t.preventDefault(),n(e))}})]}function M(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(k,!1);if(!r)return!1;let s=r.pop(t,n,e);return!!s&&(i(s),!0)}}const O=M(0,!1),C=M(1,!1),A=M(0,!0),T=M(1,!0);class E{constructor(t,e,n,i,r){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(t){return new E(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new E(t.changes&&i.as.fromJSON(t.changes),[],t.mapped&&i.n0.fromJSON(t.mapped),t.startSelection&&i.jT.fromJSON(t.startSelection),t.selectionsAfter.map(i.jT.fromJSON))}static fromTransaction(t,e){let n=L;for(let i of t.startState.facet(w)){let e=i(t);e.length&&(n=n.concat(e))}return!n.length&&t.changes.empty?null:new E(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,L)}static selection(t){return new E(void 0,L,void 0,void 0,t)}}function D(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function P(t,e){let n=[],i=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,r,s)=>{for(let o=0;o<n.length;){let t=n[o++],e=n[o++];s>=t&&r<=e&&(i=!0)}})),i}function R(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}function I(t,e){return t.length?e.length?t.concat(e):t:e}const L=[],N=200;function B(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-N));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),D(t,t.length-1,1e9,n.setSelAfter(i)))}return[E.selection([e])]}function j(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function F(t,e){if(!t.length)return t;let n=t.length,i=L;while(n){let r=z(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let e=t.slice(0,n);return e[n-1]=r,e}e=r.mapped,n--,i=r.selectionsAfter}return i.length?[E.selection(i)]:L}function z(t,e,n){let r=I(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):L,n);if(!t.changes)return E.selection(r);let s=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new E(s,i.Py.mapEffects(t.effects,e),a,t.startSelection.map(o),r)}const V=/^(input\.type|delete)($|\.)/;class W{constructor(t,e,n=0,i){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new W(this.done,this.undone):this}addChanges(t,e,n,i,r){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||V.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<i&&P(o.changes,t.changes)||"input.type.compose"==n)?D(s,s.length-1,r,new E(t.changes.compose(o.changes),I(t.effects,o.effects),o.mapped,o.startSelection,L)):D(s,s.length,r,t),new W(s,L,e,n)}addSelection(t,e,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:L;return r.length>0&&e-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&R(r[r.length-1],t)?this:new W(B(this.done,t),this.undone,e,n)}addMapping(t){return new W(F(this.done,t),F(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let i=0==t?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1];if(n&&r.selectionsAfter.length)return e.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:b.of({side:t,rest:j(i)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let n=1==i.length?L:i.slice(0,i.length-1);return r.mapped&&(n=F(n,r.mapped)),e.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:b.of({side:t,rest:n}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}W.empty=new W(L,L);const H=[{key:"Mod-z",run:O,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:C,preventDefault:!0},{linux:"Ctrl-Shift-z",run:C,preventDefault:!0},{key:"Mod-u",run:A,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:T,preventDefault:!0}];function $(t,e){return i.jT.create(t.ranges.map(e),t.mainIndex)}function U(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function q({state:t,dispatch:e},n){let i=$(t.selection,n);return!i.eq(t.selection)&&(e(U(t,i)),!0)}function J(t,e){return i.jT.cursor(e?t.to:t.from)}function Q(t,e){return q(t,(n=>n.empty?t.moveByChar(n,e):J(n,e)))}function G(t){return t.textDirectionAt(t.state.selection.main.head)==r.Nm.LTR}const Y=t=>Q(t,!G(t)),K=t=>Q(t,G(t));function X(t,e){return q(t,(n=>n.empty?t.moveByGroup(n,e):J(n,e)))}const Z=t=>X(t,!G(t)),tt=t=>X(t,G(t));function et(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function nt(t,e,n){let r=(0,s.qz)(t).resolveInner(e.head),a=n?o.md.closedBy:o.md.openedBy;for(let i=e.head;;){let e=n?r.childAfter(i):r.childBefore(i);if(!e)break;et(t,e,a)?r=e:i=n?e.to:e.from}let l,h,c=r.type.prop(a);return h=c&&(l=n?(0,s.Um)(t,r.from,1):(0,s.Um)(t,r.to,-1))&&l.matched?n?l.end.to:l.end.from:n?r.to:r.from,i.jT.cursor(h,n?-1:1)}const it=t=>q(t,(e=>nt(t.state,e,!G(t)))),rt=t=>q(t,(e=>nt(t.state,e,G(t))));function st(t,e){return q(t,(n=>{if(!n.empty)return J(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)}))}const ot=t=>st(t,!1),at=t=>st(t,!0);function lt(t){return Math.max(t.defaultLineHeight,Math.min(t.dom.clientHeight,innerHeight)-5)}function ht(t,e){let{state:n}=t,i=$(n.selection,(n=>n.empty?t.moveVertically(n,e,lt(t)):J(n,e)));if(i.eq(n.selection))return!1;let s,o=t.coordsAtPos(n.selection.main.head),a=t.scrollDOM.getBoundingClientRect();return o&&o.top>a.top&&o.bottom<a.bottom&&o.top-a.top<=t.scrollDOM.scrollHeight-t.scrollDOM.scrollTop-t.scrollDOM.clientHeight&&(s=r.tk.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-a.top})),t.dispatch(U(n,i),{effects:s}),!0}const ct=t=>ht(t,!1),ut=t=>ht(t,!0);function ft(t,e,n){let r=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,n);if(s.head==e.head&&s.head!=(n?r.to:r.from)&&(s=t.moveToLineBoundary(e,n,!1)),!n&&s.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(s=i.jT.cursor(r.from+n))}return s}const dt=t=>q(t,(e=>ft(t,e,!0))),pt=t=>q(t,(e=>ft(t,e,!1))),gt=t=>q(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).from,1))),mt=t=>q(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).to,-1)));function vt(t,e,n){let r=!1,o=$(t.selection,(e=>{let o=(0,s.Um)(t,e.head,-1)||(0,s.Um)(t,e.head,1)||e.head>0&&(0,s.Um)(t,e.head-1,1)||e.head<t.doc.length&&(0,s.Um)(t,e.head+1,-1);if(!o||!o.end)return e;r=!0;let a=o.start.from==e.head?o.end.to:o.end.from;return n?i.jT.range(e.anchor,a):i.jT.cursor(a)}));return!!r&&(e(U(t,o)),!0)}const bt=({state:t,dispatch:e})=>vt(t,e,!1);function yt(t,e){let n=$(t.state.selection,(t=>{let n=e(t);return i.jT.range(t.anchor,n.head,n.goalColumn)}));return!n.eq(t.state.selection)&&(t.dispatch(U(t.state,n)),!0)}function wt(t,e){return yt(t,(n=>t.moveByChar(n,e)))}const xt=t=>wt(t,!G(t)),_t=t=>wt(t,G(t));function kt(t,e){return yt(t,(n=>t.moveByGroup(n,e)))}const St=t=>kt(t,!G(t)),Mt=t=>kt(t,G(t));const Ot=t=>yt(t,(e=>nt(t.state,e,!G(t)))),Ct=t=>yt(t,(e=>nt(t.state,e,G(t))));function At(t,e){return yt(t,(n=>t.moveVertically(n,e)))}const Tt=t=>At(t,!1),Et=t=>At(t,!0);function Dt(t,e){return yt(t,(n=>t.moveVertically(n,e,lt(t))))}const Pt=t=>Dt(t,!1),Rt=t=>Dt(t,!0),It=t=>yt(t,(e=>ft(t,e,!0))),Lt=t=>yt(t,(e=>ft(t,e,!1))),Nt=t=>yt(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).from))),Bt=t=>yt(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).to))),jt=({state:t,dispatch:e})=>(e(U(t,{anchor:0})),!0),Ft=({state:t,dispatch:e})=>(e(U(t,{anchor:t.doc.length})),!0),zt=({state:t,dispatch:e})=>(e(U(t,{anchor:t.selection.main.anchor,head:0})),!0),Vt=({state:t,dispatch:e})=>(e(U(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Wt=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Ht=({state:t,dispatch:e})=>{let n=re(t).map((({from:e,to:n})=>i.jT.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:i.jT.create(n),userEvent:"select"})),!0},$t=({state:t,dispatch:e})=>{let n=$(t.selection,(e=>{var n;let r=(0,s.qz)(t).resolveInner(e.head,1);while(!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent))r=r.parent;return i.jT.range(r.to,r.from)}));return e(U(t,n)),!0},Ut=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=i.jT.create([n.main]):n.main.empty||(r=i.jT.create([i.jT.cursor(n.main.head)])),!!r&&(e(U(t,r)),!0)};function qt({state:t,dispatch:e},n){if(t.readOnly)return!1;let s="delete.selection",o=t.changeByRange((t=>{let{from:e,to:r}=t;if(e==r){let t=n(e);t<e?s="delete.backward":t>e&&(s="delete.forward"),e=Math.min(e,t),r=Math.max(r,t)}return e==r?{range:t}:{changes:{from:e,to:r},range:i.jT.cursor(e)}}));return!o.changes.empty&&(e(t.update(o,{scrollIntoView:!0,userEvent:s,effects:"delete.selection"==s?r.tk.announce.of(t.phrase("Selection deleted")):void 0})),!0)}function Jt(t,e,n){if(t instanceof r.tk)for(let i of t.state.facet(r.tk.atomicRanges).map((e=>e(t))))i.between(e,e,((t,i)=>{t<e&&i>e&&(e=n?i:t)}));return e}const Qt=(t,e)=>qt(t,(n=>{let r,o,{state:a}=t,l=a.doc.lineAt(n);if(!e&&n>l.from&&n<l.from+200&&!/[^ \t]/.test(r=l.text.slice(0,n-l.from))){if("\t"==r[r.length-1])return n-1;let t=(0,i.IS)(r,a.tabSize),e=t%(0,s.y1)(a)||(0,s.y1)(a);for(let i=0;i<e&&" "==r[r.length-1-i];i++)n--;o=n}else o=(0,i.cp)(l.text,n-l.from,e,e)+l.from,o==n&&l.number!=(e?a.doc.lines:1)&&(o+=e?1:-1);return Jt(t,o,e)})),Gt=t=>Qt(t,!1),Yt=t=>Qt(t,!0),Kt=(t,e)=>qt(t,(n=>{let r=n,{state:s}=t,o=s.doc.lineAt(r),a=s.charCategorizer(r);for(let t=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let l=(0,i.cp)(o.text,r-o.from,e)+o.from,h=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),c=a(h);if(null!=t&&c!=t)break;" "==h&&r==n||(t=c),r=l}return Jt(t,r,e)})),Xt=t=>Kt(t,!1),Zt=t=>Kt(t,!0),te=t=>qt(t,(e=>{let n=t.lineBlockAt(e).to;return Jt(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)})),ee=t=>qt(t,(e=>{let n=t.lineBlockAt(e).from;return Jt(t,e>n?n:Math.max(0,e-1),!1)})),ne=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:i.xv.of(["",""])},range:i.jT.cursor(t.from)})));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},ie=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),s=n==r.from?n-1:(0,i.cp)(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:(0,i.cp)(r.text,n-r.from,!0)+r.from;return{changes:{from:s,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(s,n))},range:i.jT.cursor(o)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function re(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(i.empty||i.to!=s.from||(s=t.doc.lineAt(i.to-1)),n>=r.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function se(t,e,n){if(t.readOnly)return!1;let r=[],s=[];for(let o of re(t)){if(n?o.to==t.doc.length:0==o.from)continue;let e=t.doc.lineAt(n?o.to+1:o.from-1),a=e.length+1;if(n){r.push({from:o.to,to:e.to},{from:o.from,insert:e.text+t.lineBreak});for(let e of o.ranges)s.push(i.jT.range(Math.min(t.doc.length,e.anchor+a),Math.min(t.doc.length,e.head+a)))}else{r.push({from:e.from,to:o.from},{from:o.to,insert:t.lineBreak+e.text});for(let t of o.ranges)s.push(i.jT.range(t.anchor-a,t.head-a))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:i.jT.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0)}const oe=({state:t,dispatch:e})=>se(t,e,!1),ae=({state:t,dispatch:e})=>se(t,e,!0);function le(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of re(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const he=({state:t,dispatch:e})=>le(t,e,!1),ce=({state:t,dispatch:e})=>le(t,e,!0),ue=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(re(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),i=$(e.selection,(e=>t.moveVertically(e,!0))).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function fe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,i=(0,s.qz)(t).resolveInner(e),r=i.childBefore(e),a=i.childAfter(e);return r&&a&&r.to<=e&&a.from>=e&&(n=r.type.prop(o.md.closedBy))&&n.indexOf(a.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(a.from).from?{from:r.to,to:a.from}:null}const de=ge(!1),pe=ge(!0);function ge(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange((n=>{let{from:r,to:o}=n,a=e.doc.lineAt(r),l=!t&&r==o&&fe(e,r);t&&(r=o=(o<=a.to?a:e.doc.lineAt(o)).to);let h=new s.Gn(e,{simulateBreak:r,simulateDoubleBreak:!!l}),c=(0,s.K0)(h,r);null==c&&(c=/^\s*/.exec(e.doc.lineAt(r).text)[0].length);while(o<a.to&&/\s/.test(a.text[o-a.from]))o++;l?({from:r,to:o}=l):r>a.from&&r<a.from+100&&!/\S/.test(a.text.slice(0,r))&&(r=a.from);let u=["",(0,s.SS)(e,c)];return l&&u.push((0,s.SS)(e,h.lineIndent(a.from,-1))),{changes:{from:r,to:o,insert:i.xv.of(u)},range:i.jT.cursor(r+1+u[1].length)}}));return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function me(t,e){let n=-1;return t.changeByRange((r=>{let s=[];for(let i=r.from;i<=r.to;){let o=t.doc.lineAt(i);o.number>n&&(r.empty||r.to>o.from)&&(e(o,s,r),n=o.number),i=o.to+1}let o=t.changes(s);return{changes:s,range:i.jT.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const ve=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new s.Gn(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),r=me(t,((e,r,o)=>{let a=(0,s.K0)(i,e.from);if(null==a)return;/\S/.test(e.text)||(a=0);let l=/^\s*/.exec(e.text)[0],h=(0,s.SS)(t,a);(l!=h||o.from<e.from+l.length)&&(n[e.from]=a,r.push({from:e.from,to:e.from+l.length,insert:h}))}));return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},be=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(me(t,((e,n)=>{n.push({from:e.from,insert:t.facet(s.c)})})),{userEvent:"input.indent"})),!0),ye=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(me(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let o=(0,i.IS)(r,t.tabSize),a=0,l=(0,s.SS)(t,Math.max(0,o-(0,s.y1)(t)));while(a<r.length&&a<l.length&&r.charCodeAt(a)==l.charCodeAt(a))a++;n.push({from:e.from+a,to:e.from+r.length,insert:l.slice(a)})})),{userEvent:"delete.dedent"})),!0),we=[{key:"Ctrl-b",run:Y,shift:xt,preventDefault:!0},{key:"Ctrl-f",run:K,shift:_t},{key:"Ctrl-p",run:ot,shift:Tt},{key:"Ctrl-n",run:at,shift:Et},{key:"Ctrl-a",run:gt,shift:Nt},{key:"Ctrl-e",run:mt,shift:Bt},{key:"Ctrl-d",run:Yt},{key:"Ctrl-h",run:Gt},{key:"Ctrl-k",run:te},{key:"Ctrl-Alt-h",run:Xt},{key:"Ctrl-o",run:ne},{key:"Ctrl-t",run:ie},{key:"Ctrl-v",run:ut}],xe=[{key:"ArrowLeft",run:Y,shift:xt,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Z,shift:St},{mac:"Cmd-ArrowLeft",run:pt,shift:Lt},{key:"ArrowRight",run:K,shift:_t,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:tt,shift:Mt},{mac:"Cmd-ArrowRight",run:dt,shift:It},{key:"ArrowUp",run:ot,shift:Tt,preventDefault:!0},{mac:"Cmd-ArrowUp",run:jt,shift:zt},{mac:"Ctrl-ArrowUp",run:ct,shift:Pt},{key:"ArrowDown",run:at,shift:Et,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ft,shift:Vt},{mac:"Ctrl-ArrowDown",run:ut,shift:Rt},{key:"PageUp",run:ct,shift:Pt},{key:"PageDown",run:ut,shift:Rt},{key:"Home",run:pt,shift:Lt,preventDefault:!0},{key:"Mod-Home",run:jt,shift:zt},{key:"End",run:dt,shift:It,preventDefault:!0},{key:"Mod-End",run:Ft,shift:Vt},{key:"Enter",run:de},{key:"Mod-a",run:Wt},{key:"Backspace",run:Gt,shift:Gt},{key:"Delete",run:Yt},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Xt},{key:"Mod-Delete",mac:"Alt-Delete",run:Zt},{mac:"Mod-Backspace",run:ee},{mac:"Mod-Delete",run:te}].concat(we.map((t=>({mac:t.key,run:t.run,shift:t.shift})))),_e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:it,shift:Ot},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:rt,shift:Ct},{key:"Alt-ArrowUp",run:oe},{key:"Shift-Alt-ArrowUp",run:he},{key:"Alt-ArrowDown",run:ae},{key:"Shift-Alt-ArrowDown",run:ce},{key:"Escape",run:Ut},{key:"Mod-Enter",run:pe},{key:"Alt-l",mac:"Ctrl-l",run:Ht},{key:"Mod-i",run:$t,preventDefault:!0},{key:"Mod-[",run:ye},{key:"Mod-]",run:be},{key:"Mod-Alt-\\",run:ve},{key:"Shift-Mod-k",run:ue},{key:"Shift-Mod-\\",run:bt},{key:"Mod-/",run:a},{key:"Alt-A",run:c}].concat(xe),ke={key:"Tab",run:be,shift:ye}},1414:function(t,e,n){"use strict";n.d(e,{ey:function(){return zt},i6:function(){return jt}});var i,r=n(2235),s=n(1048),o=(n(2087),n(1703),n(8675),n(3462),n(7380),n(1118),n(8783));class a{constructor(t,e,n,i,r,s,o,a,l,h=0,c){this.p=t,this.stack=e,this.state=n,this.reducePos=i,this.pos=r,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let i=t.parser.context;return new a(t,[],e,n,n,0,[],0,i?new l(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){let e=t>>19,n=65535&t,{parser:i}=this.p,r=i.dynamicPrecedence(n);if(r&&(this.score+=r),0==e)return this.pushState(i.getGoto(this.state,n,!0),this.reducePos),n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),void this.reduceContext(n,this.reducePos);let s=this.stack.length-3*(e-1)-(262144&t?6:0),o=this.stack[s-2],a=this.stack[s-1],l=this.bufferBase+this.buffer.length-a;if(n<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,o,t,l+4,!0)}if(262144&t)this.state=this.stack[s];else{let t=this.stack[s-3];this.state=i.getGoto(t,n,!0)}while(this.stack.length>s)this.stack.pop();this.reduceContext(n,o)}storeNode(t,e,n,i=4,r=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,i=this.buffer.length;if(0==i&&t.parent&&(i=t.bufferBase-t.parent.bufferBase,t=t.parent),i>0&&0==t.buffer[i-4]&&t.buffer[i-1]>-1){if(e==n)return;if(t.buffer[i-2]>=e)return void(t.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4])while(r>0&&this.buffer[r-2]>n)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4);this.buffer[r]=t,this.buffer[r+1]=e,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(t,e,n,i)}shift(t,e,n){let i=this.pos;if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let r=t,{parser:s}=this.p;(n>this.pos||e<=s.maxNode)&&(this.pos=n,s.stateFlag(r,1)||(this.reducePos=n)),this.pushState(r,i),this.shiftContext(e,i),e<=s.maxNode&&this.buffer.push(e,i,n,4)}else this.pos=n,this.shiftContext(e,i),e<=this.p.parser.maxNode&&this.buffer.push(e,i,n,4)}apply(t,e,n){65536&t?this.reduce(t):this.shift(t,e,n)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(e,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;while(e>0&&t.buffer[e-2]>t.reducePos)e-=4;let n=t.buffer.slice(e),i=t.bufferBase+e;while(t&&i==t.bufferBase)t=t.parent;return new a(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new h(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==(65536&n))return!0;if(0==n)return!1;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<e.length;r+=2)(i=e[r+1])!=this.state&&this.p.parser.hasAction(i,t)&&n.push(e[r],i);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let i=e[t+1];n.some(((t,e)=>1&e&&t==i))||n.push(e[t],i)}e=n}let n=[];for(let i=0;i<e.length&&n.length<4;i+=2){let t=e[i+1];if(t==this.state)continue;let r=this.split();r.pushState(t,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(e[i],this.pos),r.score-=200,n.push(r)}return n}forceReduce(){let t=this.p.parser.stateSlot(this.state,5);if(0==(65536&t))return!1;let{parser:e}=this.p;if(!e.validAction(this.state,t)){let n=t>>19,i=65535&t,r=this.stack.length-3*n;if(r<0||e.getGoto(this.stack[r],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new l(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class l{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}(function(t){t[t["Insert"]=200]="Insert",t[t["Delete"]=190]="Delete",t[t["Reduce"]=100]="Reduce",t[t["MaxNext"]=4]="MaxNext",t[t["MaxInsertStackDepth"]=300]="MaxInsertStackDepth",t[t["DampenInsertStackDepth"]=120]="DampenInsertStackDepth"})(i||(i={}));class h{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=i}}class c{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new c(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new c(this.stack,this.pos,this.index)}}class u{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const f=new u;class d{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=f,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,i=this.rangeIndex,r=this.pos+t;while(r<n.from){if(!i)return null;let t=this.ranges[--i];r-=n.from-t.to,n=t}while(e<0?r>n.to:r>=n.to){if(i==this.ranges.length-1)return null;let t=this.ranges[++i];r+=t.from-n.to,n=t}return r}peek(t){let e,n,i=this.chunkOff+t;if(i>=0&&i<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(t,1);if(null==i)return-1;if(e=i,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,i=this.range;while(i.to<=e)i=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){this.chunkOff+=t;while(this.pos+t>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=f,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;while(t<this.range.from)this.range=this.ranges[--this.rangeIndex];while(t>=this.range.to)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let i of this.ranges){if(i.from>=e)break;i.to>t&&(n+=this.input.read(Math.max(i.from,t),Math.min(i.to,e)))}return n}}class p{constructor(t,e){this.data=t,this.id=e}token(t,e){m(this.data,t,e,this.id)}}p.prototype.contextual=p.prototype.fallback=p.prototype.extend=!1;class g{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function m(t,e,n,i){let r=0,s=1<<i,{parser:o}=n.p,{dialect:a}=o;t:for(;;){if(0==(s&t[r]))break;let n=t[r+1];for(let c=r+3;c<n;c+=2)if((t[c+1]&s)>0){let n=t[c];if(a.allows(n)&&(-1==e.token.value||e.token.value==n||o.overrides(n,e.token.value))){e.acceptToken(n);break}}let i=e.next,l=0,h=t[r+2];if(!(e.next<0&&h>l&&65535==t[n+3*h-3])){for(;l<h;){let s=l+h>>1,o=n+s+(s<<1),a=t[o],c=t[o+1];if(i<a)h=s;else{if(!(i>=c)){r=t[o+2],e.advance();continue t}l=s+1}}break}r=t[n+3*h-1]}}function v(t,e=Uint16Array){if("string"!=typeof t)return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let e=t.charCodeAt(i++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let r=e-32;if(r>=46&&(r-=46,n=!0),s+=r,n)break;s*=46}n?n[r++]=s:n=new e(s)}return n}const b="undefined"!=typeof process&&{NODE_ENV:"production",BASE_URL:"/fvnk-stats/"}&&/\bparse\b/.test({NODE_ENV:"production",BASE_URL:"/fvnk-stats/"}.LOG);let y=null;var w,x;function _(t,e,n){let i=t.cursor(o.vj.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}(function(t){t[t["Margin"]=25]="Margin"})(w||(w={}));class k{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){this.safeFrom=t.openStart?_(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?_(t.tree,t.to+t.offset,-1)-t.offset:t.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;while(this.fragment&&this.safeTo<=t)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],i=this.index[e];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],s=this.start[e]+n.positions[i];if(s>t)return this.nextStart=s,null;if(r instanceof o.mp){if(s==t){if(s<this.safeFrom)return null;let t=s+r.length;if(t<=this.safeTo){let e=r.prop(o.md.lookAhead);if(!e||t+e<this.fragment.to)return r}}this.index[e]++,s+r.length>=Math.max(this.safeFrom,t)&&(this.trees.push(r),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+r.length}}}class S{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new u))}getActions(t){let e=0,n=null,{parser:i}=t.p,{tokenizers:r}=i,s=i.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let l=0;l<r.length;l++){if(0==(1<<l&s))continue;let i=r[l],h=this.tokens[l];if((!n||i.fallback)&&((i.contextual||h.start!=t.pos||h.mask!=s||h.context!=o)&&(this.updateCachedToken(h,i,t),h.mask=s,h.context=o),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let r=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!i.extend&&(n=h,e>r))break}}while(this.actions.length>e)this.actions.pop();return a&&t.setLookAhead(a),n||t.pos!=this.stream.end||(n=new u,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new u,{pos:n,p:i}=t;return e.start=n,e.end=Math.min(n+1,i.stream.end),e.value=n==i.stream.end?i.parser.eofTerm:0,e}updateCachedToken(t,e,n){if(e.token(this.stream.reset(n.pos,t),n),t.value>-1){let{parser:e}=n.p;for(let i=0;i<e.specialized.length;i++)if(e.specialized[i]==t.value){let r=e.specializers[i](this.stream.read(t.start,t.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){0==(1&r)?t.value=r>>1:t.extended=r>>1;break}}}else t.value=0,t.end=Math.min(n.p.stream.end,n.pos+1)}putAction(t,e,n,i){for(let r=0;r<i;r+=3)if(this.actions[r]==t)return i;return this.actions[i++]=t,this.actions[i++]=e,this.actions[i++]=n,i}addActions(t,e,n,i){let{state:r}=t,{parser:s}=t.p,{data:o}=s;for(let a=0;a<2;a++)for(let t=s.stateSlot(r,a?2:1);;t+=3){if(65535==o[t]){if(1!=o[t+1]){0==i&&2==o[t+1]&&(i=this.putAction(T(o,t+2),e,n,i));break}t=T(o,t+2)}o[t]==e&&(i=this.putAction(T(o,t+1),e,n,i))}return i}}(function(t){t[t["Distance"]=5]="Distance",t[t["MaxRemainingPerStep"]=3]="MaxRemainingPerStep",t[t["MinBufferLengthPrune"]=500]="MinBufferLengthPrune",t[t["ForceReduceLimit"]=10]="ForceReduceLimit",t[t["CutDepth"]=15e3]="CutDepth",t[t["CutTo"]=9e3]="CutTo"})(x||(x={}));class M{constructor(t,e,n,i){this.parser=t,this.input=e,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new d(e,i),this.tokens=new S(t,this.stream),this.topTerm=t.top[1];let{from:r}=i[0];this.stacks=[a.start(this,t.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*t.bufferLength?new k(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,i=this.minStackPos,r=this.stacks=[];for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>i)r.push(o);else{if(this.advanceStack(o,r,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!r.length){let e=t&&D(t);if(e)return this.stackToTree(e);if(this.parser.strict)throw b&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,r);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(r.length>t){r.sort(((t,e)=>e.score-t.score));while(r.length>t)r.pop()}r.some((t=>t.reducePos>i))&&this.recovering--}else if(r.length>1)t:for(let s=0;s<r.length-1;s++){let t=r[s];for(let e=s+1;e<r.length;e++){let n=r[e];if(t.sameState(n)||t.buffer.length>500&&n.buffer.length>500){if(!((t.score-n.score||t.buffer.length-n.buffer.length)>0)){r.splice(s--,1);continue t}r.splice(e--,1)}}}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let i=t.pos,{parser:r}=this,s=b?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let a=this.fragments.nodeAt(i);a;){let i=this.parser.nodeSet.types[a.type.id]==a.type?r.getGoto(t.state,a.type.id):-1;if(i>-1&&a.length&&(!e||(a.prop(o.md.contextHash)||0)==n))return t.useNode(a,i),b&&console.log(s+this.stackID(t)+` (via reuse of ${r.getName(a.type.id)})`),!0;if(!(a instanceof o.mp)||0==a.children.length||a.positions[0]>0)break;let l=a.children[0];if(!(l instanceof o.mp&&0==a.positions[0]))break;a=l}}let a=r.stateSlot(t.state,4);if(a>0)return t.reduce(a),b&&console.log(s+this.stackID(t)+` (via always-reduce ${r.getName(65535&a)})`),!0;if(t.stack.length>=15e3)while(t.stack.length>9e3&&t.forceReduce());let l=this.tokens.getActions(t);for(let o=0;o<l.length;){let a=l[o++],h=l[o++],c=l[o++],u=o==l.length||!n,f=u?t:t.split();if(f.apply(a,h,c),b&&console.log(s+this.stackID(f)+` (via ${0==(65536&a)?"shift":`reduce of ${r.getName(65535&a)}`} for ${r.getName(h)} @ ${i}${f==t?"":", split"})`),u)return!0;f.pos>i?e.push(f):n.push(f)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return O(t,e),!0}}runRecovery(t,e,n){let i=null,r=!1;for(let s=0;s<t.length;s++){let o=t[s],a=e[s<<1],l=e[1+(s<<1)],h=b?this.stackID(o)+" -> ":"";if(o.deadEnd){if(r)continue;r=!0,o.restart(),b&&console.log(h+this.stackID(o)+" (restarted)");let t=this.advanceFully(o,n);if(t)continue}let c=o.split(),u=h;for(let t=0;c.forceReduce()&&t<10;t++){b&&console.log(u+this.stackID(c)+" (via force-reduce)");let t=this.advanceFully(c,n);if(t)break;b&&(u=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(a))b&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),b&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),O(o,n)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(t){return t.close(),o.mp.build({buffer:c.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(y||(y=new WeakMap)).get(t);return e||y.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function O(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class C{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class A extends o._b{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),i=[];for(let o=0;o<e.length;o++)i.push([]);function r(t,e,n){i[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let a of t.nodeProps){let t=a[0];"string"==typeof t&&(t=o.md[t]);for(let e=1;e<a.length;){let n=a[e++];if(n>=0)r(n,t,a[e++]);else{let i=a[e+-n];for(let s=-n;s>0;s--)r(a[e++],t,i);e++}}}this.nodeSet=new o.Lj(e.map(((e,r)=>o.Jq.define({name:r>=this.minRepeatTerm?void 0:e,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:t.skippedNodes&&t.skippedNodes.indexOf(r)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=o.L3;let s=v(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(P),this.states=v(t.states,Uint32Array),this.data=v(t.stateData),this.goto=v(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new p(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let i=new M(this,t,e,n);for(let r of this.wrappers)i=r(i,t,e,n);return i}getGoto(t,e,n=!1){let i=this.goto;if(e>=i[0])return-1;for(let r=i[e+1];;){let e=i[r++],s=1&e,o=i[r++];if(s&&n)return o;for(let n=r+(e>>1);r<n;r++)if(i[r]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let i=0;i<2;i++)for(let r,s=this.stateSlot(t,i?2:1);;s+=3){if(65535==(r=n[s])){if(1!=n[s+1]){if(2==n[s+1])return T(n,s+2);break}r=n[s=T(n,s+2)]}if(r==e||0==r)return T(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){if(e==this.stateSlot(t,4))return!0;for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=T(this.data,n+2)}if(e==T(this.data,n+1))return!0}}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=T(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}overrides(t,e){let n=E(this.data,this.tokenPrecTable,e);return n<0||E(this.data,this.tokenPrecTable,t)<n}configure(t){let e=Object.assign(Object.create(A.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,i)=>{let r=t.specializers.find((t=>t.from==n.external));if(!r)return n;let s=Object.assign(Object.assign({},n),{external:r.to});return e.specializers[i]=P(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let i=null;for(let r=0;r<e.length;r++)if(!n[r])for(let t,n=this.dialects[e[r]];65535!=(t=this.data[n++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[t]=1;return new C(t,n,i)}static deserialize(t){return new A(t)}}function T(t,e){return t[e]|t[e+1]<<16}function E(t,e,n){for(let i,r=e;65535!=(i=t[r]);r++)if(i==n)return r-e;return-1}function D(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function P(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}var R=n(3152);const I=34,L=1,N=2,B=3,j=4,F=5,z=6,V=7,W=8,H=9,$=10,U=11,q=12,J=13,Q=14,G=15,Y=16,K=17,X=18,Z=19,tt=20,et=21,nt=22;function it(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function rt(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function st(t,e,n){for(let i=!1;;){if(t.next<0)return;if(t.next==e&&!i)return void t.advance();i=n&&!i&&92==t.next,t.advance()}}function ot(t){for(;;){if(t.next<0||t.peek(1)<0)return;if(36==t.next&&36==t.peek(1))return void t.advance(2);t.advance()}}function at(t,e){for(;;){if(95!=t.next&&!it(t.next))break;null!=e&&(e+=String.fromCharCode(t.next)),t.advance()}return e}function lt(t){if(39==t.next||34==t.next||96==t.next){let e=t.next;t.advance(),st(t,e,!1)}else at(t)}function ht(t,e){for(;;){if(46==t.next){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(69==t.next||101==t.next){t.advance(),43!=t.next&&45!=t.next||t.advance();while(t.next>=48&&t.next<=57)t.advance()}}function ct(t){while(!(t.next<0||10==t.next))t.advance()}function ut(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const ft=" \t\r\n";function dt(t,e,n){let i=Object.create(null);i["true"]=i["false"]=F,i["null"]=i["unknown"]=z;for(let r of t.split(" "))r&&(i[r]=tt);for(let r of e.split(" "))r&&(i[r]=et);for(let r of(n||"").split(" "))r&&(i[r]=nt);return i}const pt="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",gt="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",mt={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarStrings:!1,charSetCasts:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',words:dt(gt,pt)};function vt(t,e,n,i){let r={};for(let s in mt)r[s]=(t.hasOwnProperty(s)?t:mt)[s];return e&&(r.words=dt(e,n||"",i)),r}function bt(t){return new g((e=>{var n;let{next:i}=e;if(e.advance(),ut(i,ft)){while(ut(e.next,ft))e.advance();e.acceptToken(I)}else if(36==i&&36==e.next&&t.doubleDollarStrings)ot(e),e.acceptToken(B);else if(39==i||34==i&&t.doubleQuotedStrings)st(e,i,t.backslashEscapes),e.acceptToken(B);else if(35==i&&t.hashComments||47==i&&47==e.next&&t.slashComments)ct(e),e.acceptToken(L);else if(45!=i||45!=e.next||t.spaceAfterDashes&&32!=e.peek(2))if(47==i&&42==e.next){e.advance();for(let t=-1,n=1;;){if(e.next<0)break;if(e.advance(),42==t&&47==e.next){if(n--,!n){e.advance();break}t=-1}else 47==t&&42==e.next?(n++,t=-1):t=e.next}e.acceptToken(N)}else if(101!=i&&69!=i||39!=e.next)if(110!=i&&78!=i||39!=e.next||!t.charSetCasts){if(95==i&&t.charSetCasts)for(let r=0;;r++){if(39==e.next&&r>1){e.advance(),st(e,39,t.backslashEscapes),e.acceptToken(B);break}if(!it(e.next))break;e.advance()}else if(40==i)e.acceptToken(V);else if(41==i)e.acceptToken(W);else if(123==i)e.acceptToken(H);else if(125==i)e.acceptToken($);else if(91==i)e.acceptToken(U);else if(93==i)e.acceptToken(q);else if(59==i)e.acceptToken(J);else if(48==i&&(98==e.next||66==e.next)||(98==i||66==i)&&39==e.next){let t=39==e.next;e.advance();while(48==e.next||49==e.next)e.advance();t&&39==e.next&&e.advance(),e.acceptToken(j)}else if(48==i&&(120==e.next||88==e.next)||(120==i||88==i)&&39==e.next){let t=39==e.next;e.advance();while(rt(e.next))e.advance();t&&39==e.next&&e.advance(),e.acceptToken(j)}else if(46==i&&e.next>=48&&e.next<=57)ht(e,!0),e.acceptToken(j);else if(46==i)e.acceptToken(Q);else if(i>=48&&i<=57)ht(e,!1),e.acceptToken(j);else if(ut(i,t.operatorChars)){while(ut(e.next,t.operatorChars))e.advance();e.acceptToken(G)}else if(ut(i,t.specialVar))e.next==i&&e.advance(),lt(e),e.acceptToken(K);else if(ut(i,t.identifierQuotes))st(e,i,!1),e.acceptToken(Z);else if(58==i||44==i)e.acceptToken(Y);else if(it(i)){let r=at(e,String.fromCharCode(i));e.acceptToken(null!==(n=t.words[r.toLowerCase()])&&void 0!==n?n:X)}}else e.advance(),st(e,39,t.backslashEscapes),e.acceptToken(B);else e.advance(),st(e,39,!0);else ct(e),e.acceptToken(L)}))}const yt=bt(mt),wt=A.deserialize({version:14,states:"%dQ]QQOOO#kQRO'#DQO#rQQO'#CuO%RQQO'#CvO%YQQO'#CwO%aQQO'#CxOOQQ'#DQ'#DQOOQQ'#C{'#C{O&lQRO'#CyOOQQ'#Ct'#CtOOQQ'#Cz'#CzQ]QQOOQOQQOOO&vQQO,59aO'RQQO,59aO'WQQO'#DQOOQQ,59b,59bO'eQQO,59bOOQQ,59c,59cO'lQQO,59cOOQQ,59d,59dO'sQQO,59dOOQQ-E6y-E6yOOQQ,59`,59`OOQQ-E6x-E6xOOQQ'#C|'#C|OOQQ1G.{1G.{O&vQQO1G.{OOQQ1G.|1G.|OOQQ1G.}1G.}OOQQ1G/O1G/OP'zQQO'#C{POQQ-E6z-E6zOOQQ7+$g7+$g",stateData:"(R~OrOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUO~O^]ORtXStXTtXUtXVtXXtXZtX]tX_tX`tXatXbtXctXdtXetXftX~OqtX~P!dOa^Ob^Oc^O~ORUOSUOTUOUUOVROXSOZTO^QO_UO`UOa_Ob_Oc_OdUOeUOfUO~OW`O~P#}OYbO~P#}O[dO~P#}ORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUO~O]gOqmX~P%hOaiObiOciO~O^kO~OWtXYtX[tX~P!dOWlO~P#}OYmO~P#}O[nO~P#}O]gO~P#}O",goto:"#YuPPPPPPPPPPPPPPPPPPPPPPPPvzzzz!W![!b!vPPP!|TYOZeUORSTWZaceoT[OZQZORhZSWOZQaRQcSQeTZfWaceoQj]RqkeVORSTWZaceo",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) [ ] { } ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:36,skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,yt],topRules:{Script:[0,23]},tokenPrec:0});function xt(t){let e=t.cursor().moveTo(t.from,-1);while(/Comment/.test(e.name))e.moveTo(e.from,-1);return e.node}function _t(t){let e=/^[`'"](.*)[`'"]$/.exec(t);return e?e[1]:t}function kt(t,e){return"Identifier"==e.name||"QuotedIdentifier"==e.name||"Keyword"==e.name&&/^public$/i.test(t.sliceDoc(e.from,e.to))}function St(t,e){for(let n=[];;){if(!e||"."!=e.name)return n;let i=xt(e);if(!i||!kt(t,i))return n;n.unshift(_t(t.sliceDoc(i.from,i.to))),e=xt(i)}}function Mt(t,e){let n=(0,r.qz)(t).resolveInner(e,-1);return"Identifier"==n.name||"QuotedIdentifier"==n.name?{from:n.from,quoted:"QuotedIdentifier"==n.name?t.sliceDoc(n.from,n.from+1):null,parents:St(t,xt(n))}:"."==n.name?{from:e,quoted:null,parents:St(t,n)}:{from:e,quoted:null,parents:[],empty:!0}}function Ot(t,e){return t?e.map((e=>Object.assign(Object.assign({},e),{label:t+e.label+t,apply:void 0}))):e}const Ct=/^\w*$/,At=/^[`'"]?\w*[`'"]?$/;class Tt{constructor(){this.list=[],this.children=void 0}child(t){let e=this.children||(this.children=Object.create(null));return e[t]||(e[t]=new Tt)}childCompletions(t){return this.children?Object.keys(this.children).filter((t=>t)).map((e=>({label:e,type:t}))):[]}}function Et(t,e,n,i){let r=new Tt,s=r.child(i||"");for(let o in t){let e=o.indexOf("."),n=e>-1?r.child(o.slice(0,e)):s,i=n.child(e>-1?o.slice(e+1):o);i.list=t[o].map((t=>"string"==typeof t?{label:t,type:"property"}:t))}s.list=(e||s.childCompletions("type")).concat(n?s.child(n).list:[]);for(let o in r.children){let t=r.child(o);t.list.length||(t.list=t.childCompletions("type"))}return r.list=s.list.concat(r.childCompletions("type")),t=>{let{parents:e,from:i,quoted:o,empty:a}=Mt(t.state,t.pos);if(a&&!t.explicit)return null;let l=r;for(let c of e){while(!l.children||!l.children[c])if(l==r)l=s;else{if(l!=s||!n)return null;l=l.child(n)}l=l.child(c)}let h=o&&t.state.sliceDoc(t.pos,t.pos+1)==o;return{from:i,to:h?t.pos+1:void 0,options:Ot(o,l.list),validFor:o?At:Ct}}}function Dt(t,e){let n=Object.keys(t).map((n=>({label:e?n.toUpperCase():n,type:t[n]==et?"type":t[n]==tt?"keyword":"variable",boost:-1})));return(0,R.eC)(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],(0,R.Mb)(n))}let Pt=wt.configure({props:[r.uj.add({Statement:(0,r.tC)()}),r.x0.add({Statement(t){return{from:t.firstChild.to,to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),(0,s.Gv)({Keyword:s.pJ.keyword,Type:s.pJ.typeName,Builtin:s.pJ.standard(s.pJ.name),Bool:s.pJ.bool,Null:s.pJ["null"],Number:s.pJ.number,String:s.pJ.string,Identifier:s.pJ.name,QuotedIdentifier:s.pJ.special(s.pJ.string),SpecialVar:s.pJ.special(s.pJ.name),LineComment:s.pJ.lineComment,BlockComment:s.pJ.blockComment,Operator:s.pJ.operator,"Semi Punctuation":s.pJ.punctuation,"( )":s.pJ.paren,"{ }":s.pJ.brace,"[ ]":s.pJ.squareBracket})]});class Rt{constructor(t,e){this.dialect=t,this.language=e}get extension(){return this.language.extension}static define(t){let e=vt(t,t.keywords,t.types,t.builtin),n=r.qp.define({parser:Pt.configure({tokenizers:[{from:yt,to:bt(e)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Rt(e,n)}}function It(t,e=!1){return Dt(t.dialect.words,e)}function Lt(t,e=!1){return t.language.data.of({autocomplete:It(t,e)})}function Nt(t){return t.schema?Et(t.schema,t.tables,t.defaultTable,t.defaultSchema):()=>null}function Bt(t){return t.schema?(t.dialect||Ft).language.data.of({autocomplete:Nt(t)}):[]}function jt(t={}){let e=t.dialect||Ft;return new r.ri(e.language,[Bt(t),Lt(e,!!t.upperCaseKeywords)])}const Ft=Rt.define({}),zt=Rt.define({keywords:gt+"abort analyze attach autoincrement conflict database detach exclusive fail glob ignore index indexed instead isnull notnull offset plan pragma query raise regexp reindex rename replace temp vacuum virtual",types:pt+"bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int2 int8 unsigned signed real",builtin:"auth backup bail changes clone databases dbinfo dump echo eqp explain fullschema headers help import imposter indexes iotrace lint load log mode nullvalue once print prompt quit restore save scanstats separator shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width",operatorChars:"*+-%<>!=&|/~",identifierQuotes:'`"',specialVar:"@:?$"})},2235:function(t,e,n){"use strict";n.d(e,{Gn:function(){return E},K0:function(){return T},Qf:function(){return vt},R_:function(){return St},SS:function(){return A},Um:function(){return Nt},c:function(){return O},e7:function(){return lt},mi:function(){return gt},n$:function(){return It},nF:function(){return xt},nY:function(){return H},qp:function(){return d},qz:function(){return p},ri:function(){return S},tC:function(){return V},uj:function(){return D},x0:function(){return U},y1:function(){return C}});n(1703);var i,r=n(8783),s=n(8045),o=n(1901),a=n(1048),l=n(6776);const h=new r.md;function c(t){return s.r$.define({combine:t?e=>e.concat(t):void 0})}class u{constructor(t,e,n=[]){this.data=t,s.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(s.yy.prototype,"tree",{get(){return p(this)}}),this.parser=e,this.extension=[k.of(this),s.yy.languageData.of(((t,e,n)=>t.facet(f(t,e,n))))].concat(n)}isActiveAt(t,e,n=-1){return f(t,e,n)==this.data}findRegions(t){let e=t.facet(k);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(h)==this.data)return void n.push({from:e,to:e+t.length});let s=t.prop(r.md.mounted);if(s){if(s.tree.prop(h)==this.data){if(s.overlay)for(let t of s.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(s.overlay){let t=n.length;if(i(s.tree,s.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let s=t.children[n];s instanceof r.mp&&i(s,t.positions[n]+e)}};return i(p(t),0),n}get allowsNesting(){return!0}}function f(t,e,n){let i=t.facet(k);if(!i)return null;let s=i.data;if(i.allowsNesting)for(let o=p(t).topNode;o;o=o.enter(e,n,r.vj.ExcludeBuffers))s=o.type.prop(h)||s;return s}u.setState=s.Py.define();class d extends u{constructor(t,e){super(t,e),this.parser=e}static define(t){let e=c(t.languageData);return new d(e,t.parser.configure({props:[h.add((t=>t.isTop?e:void 0))]}))}configure(t){return new d(this.data,this.parser.configure(t))}get allowsNesting(){return this.parser.hasWrappers()}}function p(t){let e=t.field(u.state,!1);return e?e.tree:r.mp.empty}class g{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let m=null;class v{constructor(t,e,n=[],i,r,s,o,a){this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new v(t,e,[],r.mp.empty,0,n,[],null)}startParse(){return this.parser.startParse(new g(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=r.mp.empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(r.i9.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{while(!(e=this.parse.advance()));})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(r.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=m;m=this;try{return t()}finally{m=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=b(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=r.i9.applyChanges(n,e),i=r.mp.empty,s=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){a=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&a.push({from:n,to:i})}}}return new v(this.parser,e,n,i,s,o,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:e,to:i}=this.skipped[n];e<t.to&&i>t.from&&(this.fragments=b(this.fragments,e,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends r._b{createParse(e,n,i){let s=i[0].from,o=i[i.length-1].to,a={parsedPos:s,advance(){let e=m;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new r.mp(r.Jq.none,[],[],o-s)},stoppedAt:null,stopAt(){}};return a}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return m}}function b(t,e,n){return r.i9.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class y{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new y(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=v.create(t.facet(k).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new y(n)}}u.state=s.QQ.define({create:y.init,update(t,e){for(let n of e.effects)if(n.is(u.setState))return n.value;return e.startState.facet(k)!=e.state.facet(k)?y.init(e.state):t.apply(e)}});let w=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(w=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const x="undefined"!=typeof navigator&&(null===(i=navigator.scheduling)||void 0===i?void 0:i.isInputPending)?()=>navigator.scheduling.isInputPending():null,_=o.lg.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(u.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(u.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=w(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(u.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!x?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>x&&x()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:u.setState.of(new y(r.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>(0,o.OO)(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),k=s.r$.define({combine(t){return t.length?t[0]:null},enables:[u.state,_]});class S{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const M=s.r$.define(),O=s.r$.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function C(t){let e=t.facet(O);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function A(t,e){let n="",i=t.tabSize;if(9==t.facet(O).charCodeAt(0))while(e>=i)n+="\t",e-=i;for(let r=0;r<e;r++)n+=" ";return n}function T(t,e){t instanceof s.yy&&(t=new E(t));for(let i of t.state.facet(M)){let n=i(t,e);if(null!=n)return n}let n=p(t.state);return n?P(t,n,e):null}class E{constructor(t,e={}){this.state=t,this.options=e,this.unit=C(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:r}=this.options;return null!=i&&i>=n.from&&i<=n.to?r&&i==t?{text:"",from:t}:(e<0?i<t:i<=t)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(t,e);return n.slice(t-i,Math.min(n.length,t+100-i))}column(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.countColumn(n,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(r+=s-this.countColumn(n,n.search(/\S|$/))),r}countColumn(t,e=t.length){return(0,s.IS)(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.options.overrideIndentation;if(r){let t=r(i);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const D=new r.md;function P(t,e,n){return L(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function R(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function I(t){let e=t.type.prop(D);if(e)return e;let n,i=t.firstChild;if(i&&(n=i.type.prop(r.md.closedBy))){let e=t.lastChild,i=e&&n.indexOf(e.name)>-1;return t=>z(t,!0,1,void 0,i&&!R(t)?e.from:void 0)}return null==t.parent?N:null}function L(t,e,n){for(;t;t=t.parent){let i=I(t);if(i)return i(B.create(n,e,t))}return null}function N(){return 0}class B extends E{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.node=n}static create(t,e,n){return new B(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);while(e.parent&&e.parent.from==e.from)e=e.parent;if(j(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?L(t,this.pos,this.base):0}}function j(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function F(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let t=e.childAfter(a);if(!t||t==i)return null;if(!t.type.isSkipped)return t.from<o?n:null;a=t.to}}function z(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?F(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function V({except:t,units:e=1}={}){return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const W=200;function H(){return s.yy.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+W)return t;let s=n.sliceString(r.from,i);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,a=-1,l=[];for(let{head:h}of o.selection.ranges){let t=o.doc.lineAt(h);if(t.from==a)continue;a=t.from;let e=T(o,t.from);if(null==e)continue;let n=/^\s*/.exec(t.text)[0],i=A(o,e);n!=i&&l.push({from:t.from,to:t.from+n.length,insert:i})}return l.length?[t,{changes:l,sequential:!0}]:t}))}const $=s.r$.define(),U=new r.md;function q(t,e,n){let i=p(t);if(i.length<n)return null;let r=i.resolveInner(n),s=null;for(let o=r;o;o=o.parent){if(o.to<=n||o.from>n)continue;if(s&&o.from<e)break;let r=o.type.prop(U);if(r&&(o.to<i.length-50||i.length==t.doc.length||!J(o))){let i=r(o,t);i&&i.from<=n&&i.from>=e&&i.to>n&&(s=i)}}return s}function J(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Q(t,e,n){for(let i of t.facet($)){let r=i(t,e,n);if(r)return r}return q(t,e,n)}function G(t,e){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return n>=i?void 0:{from:n,to:i}}const Y=s.Py.define({map:G}),K=s.Py.define({map:G});function X(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const Z=s.QQ.define({create(){return o.p.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(Y)&&!et(t,n.value.from,n.value.to)?t=t.update({add:[ft.range(n.value.from,n.value.to)]}):n.is(K)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;t.between(i,i,((t,e)=>{t<i&&e>i&&(n=!0)})),n&&(t=t.update({filterFrom:i,filterTo:i,filter:(t,e)=>e<=i||t>=i}))}return t},provide:t=>o.tk.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let i=t[n++],r=t[n++];if("number"!=typeof i||"number"!=typeof r)throw new RangeError("Invalid JSON for fold state");e.push(ft.range(i,r))}return o.p.set(e,!0)}});function tt(t,e,n){var i;let r=null;return null===(i=t.field(Z,!1))||void 0===i||i.between(e,n,((t,e)=>{(!r||r.from>t)&&(r={from:t,to:e})})),r}function et(t,e,n){let i=!1;return t.between(e,e,((t,r)=>{t==e&&r==n&&(i=!0)})),i}function nt(t,e){return t.field(Z,!1)?e:e.concat(s.Py.appendConfig.of(ut()))}const it=t=>{for(let e of X(t)){let n=Q(t.state,e.from,e.to);if(n)return t.dispatch({effects:nt(t.state,[Y.of(n),st(t,n)])}),!0}return!1},rt=t=>{if(!t.state.field(Z,!1))return!1;let e=[];for(let n of X(t)){let i=tt(t.state,n.from,n.to);i&&e.push(K.of(i),st(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function st(t,e,n=!0){let i=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return o.tk.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${r}.`)}const ot=t=>{let{state:e}=t,n=[];for(let i=0;i<e.doc.length;){let r=t.lineBlockAt(i),s=Q(e,r.from,r.to);s&&n.push(Y.of(s)),i=(s?t.lineBlockAt(s.to):r).to+1}return n.length&&t.dispatch({effects:nt(t.state,n)}),!!n.length},at=t=>{let e=t.state.field(Z,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(K.of({from:t,to:e}))})),t.dispatch({effects:n}),!0},lt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:it},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:rt},{key:"Ctrl-Alt-[",run:ot},{key:"Ctrl-Alt-]",run:at}],ht={placeholderDOM:null,placeholderText:"…"},ct=s.r$.define({combine(t){return(0,s.BO)(t,ht)}});function ut(t){let e=[Z,mt];return t&&e.push(ct.of(t)),e}const ft=o.p.replace({widget:new class extends o.l9{toDOM(t){let{state:e}=t,n=e.facet(ct),i=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),i=tt(t.state,n.from,n.to);i&&t.dispatch({effects:K.of(i)}),e.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,i);let r=document.createElement("span");return r.textContent=n.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),dt={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class pt extends o.SJ{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function gt(t={}){let e=Object.assign(Object.assign({},dt),t),n=new pt(e,!0),i=new pt(e,!1),r=o.lg.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(k)!=t.state.facet(k)||t.startState.field(Z,!1)!=t.state.field(Z,!1)||p(t.startState)!=p(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new s.f_;for(let r of t.viewportLineBlocks){let s=tt(t.state,r.from,r.to)?i:Q(t.state,r.from,r.to)?n:null;s&&e.add(r.from,r.from,s)}return e.finish()}}),{domEventHandlers:a}=e;return[r,(0,o.v5)({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.markers)||s.Xs.empty},initialSpacer(){return new pt(e,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(t,e,n)=>{if(a.click&&a.click(t,e,n))return!0;let i=tt(t.state,e.from,e.to);if(i)return t.dispatch({effects:K.of(i)}),!0;let r=Q(t.state,e.from,e.to);return!!r&&(t.dispatch({effects:Y.of(r)}),!0)}})}),ut()]}const mt=o.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class vt{constructor(t,e){let n;function i(t){let e=l.V.newName();return(n||(n=Object.create(null)))["."+e]=t,e}const r="string"==typeof e.all?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof u?t=>t.prop(h)==s.data:s?t=>t==s:void 0,this.style=(0,a.QR)(t.map((t=>({tag:t.tag,class:t.class||i(Object.assign({},t,{tag:null}))}))),{all:r}).style,this.module=n?new l.V(n):null,this.themeType=e.themeType}static define(t,e){return new vt(t,e||{})}}const bt=s.r$.define(),yt=s.r$.define({combine(t){return t.length?[t[0]]:null}});function wt(t){let e=t.facet(bt);return e.length?e:t.facet(yt)}function xt(t,e){let n,i=[kt];return t instanceof vt&&(t.module&&i.push(o.tk.styleModule.of(t.module)),n=t.themeType),(null===e||void 0===e?void 0:e.fallback)?i.push(yt.of(t)):n?i.push(bt.computeN([o.tk.darkTheme],(e=>e.facet(o.tk.darkTheme)==("dark"==n)?[t]:[]))):i.push(bt.of(t)),i}class _t{constructor(t){this.markCache=Object.create(null),this.tree=p(t.state),this.decorations=this.buildDeco(t,wt(t.state))}update(t){let e=p(t.state),n=wt(t.state),i=n!=wt(t.startState);e.length<t.view.viewport.to&&!i&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||i)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n))}buildDeco(t,e){if(!e||!this.tree.length)return o.p.none;let n=new s.f_;for(let{from:i,to:r}of t.visibleRanges)(0,a.bW)(this.tree,e,((t,e,i)=>{n.add(t,e,this.markCache[i]||(this.markCache[i]=o.p.mark({class:i})))}),i,r);return n.finish()}}const kt=s.Wl.high(o.lg.fromClass(_t,{decorations:t=>t.decorations})),St=vt.define([{tag:a.pJ.meta,color:"#7a757a"},{tag:a.pJ.link,textDecoration:"underline"},{tag:a.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:a.pJ.emphasis,fontStyle:"italic"},{tag:a.pJ.strong,fontWeight:"bold"},{tag:a.pJ.strikethrough,textDecoration:"line-through"},{tag:a.pJ.keyword,color:"#708"},{tag:[a.pJ.atom,a.pJ.bool,a.pJ.url,a.pJ.contentSeparator,a.pJ.labelName],color:"#219"},{tag:[a.pJ.literal,a.pJ.inserted],color:"#164"},{tag:[a.pJ.string,a.pJ.deleted],color:"#a11"},{tag:[a.pJ.regexp,a.pJ.escape,a.pJ.special(a.pJ.string)],color:"#e40"},{tag:a.pJ.definition(a.pJ.variableName),color:"#00f"},{tag:a.pJ.local(a.pJ.variableName),color:"#30a"},{tag:[a.pJ.typeName,a.pJ.namespace],color:"#085"},{tag:a.pJ.className,color:"#167"},{tag:[a.pJ.special(a.pJ.variableName),a.pJ.macroName],color:"#256"},{tag:a.pJ.definition(a.pJ.propertyName),color:"#00c"},{tag:a.pJ.comment,color:"#940"},{tag:a.pJ.invalid,color:"#f00"}]),Mt=o.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Ot=1e4,Ct="()[]{}",At=s.r$.define({combine(t){return(0,s.BO)(t,{afterCursor:!0,brackets:Ct,maxScanDistance:Ot,renderMatch:Dt})}}),Tt=o.p.mark({class:"cm-matchingBracket"}),Et=o.p.mark({class:"cm-nonmatchingBracket"});function Dt(t){let e=[],n=t.matched?Tt:Et;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Pt=s.QQ.define({create(){return o.p.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(At);for(let r of e.state.selection.ranges){if(!r.empty)continue;let t=Nt(e.state,r.head,-1,i)||r.head>0&&Nt(e.state,r.head-1,1,i)||i.afterCursor&&(Nt(e.state,r.head,1,i)||r.head<e.state.doc.length&&Nt(e.state,r.head+1,-1,i));t&&(n=n.concat(i.renderMatch(t,e.state)))}return o.p.set(n,!0)},provide:t=>o.tk.decorations.from(t)}),Rt=[Pt,Mt];function It(t={}){return[At.of(t),Rt]}function Lt(t,e,n){let i=t.prop(e<0?r.md.openedBy:r.md.closedBy);if(i)return i;if(1==t.name.length){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Nt(t,e,n,i={}){let r=i.maxScanDistance||Ot,s=i.brackets||Ct,o=p(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let i=Lt(l.type,n,s);if(i&&l.from<l.to)return Bt(t,e,n,l,i,s)}return jt(t,e,n,o,a.type,r,s)}function Bt(t,e,n,i,r,s){let o=i.parent,a={from:i.from,to:i.to},l=0,h=null===o||void 0===o?void 0:o.cursor();if(h&&(n<0?h.childBefore(i.from):h.childAfter(i.to)))do{if(n<0?h.to<=i.from:h.from>=i.to){if(0==l&&r.indexOf(h.type.name)>-1&&h.from<h.to)return{start:a,end:{from:h.from,to:h.to},matched:!0};if(Lt(h.type,n,s))l++;else if(Lt(h.type,-n,s)){if(0==l)return{start:a,end:h.from==h.to?void 0:{from:h.from,to:h.to},matched:!1};l--}}}while(n<0?h.prevSibling():h.nextSibling());return{start:a,matched:!1}}function jt(t,e,n,i,r,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let h={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),u=0;for(let f=0;!c.next().done&&f<=s;){let t=c.value;n<0&&(f+=t.length);let s=e+f*n;for(let e=n>0?0:t.length-1,a=n>0?t.length:-1;e!=a;e+=n){let a=o.indexOf(t[e]);if(!(a<0||i.resolveInner(s+e,1).type!=r))if(a%2==0==n>0)u++;else{if(1==u)return{start:h,end:{from:s+e,to:s+e+1},matched:a>>1==l>>1};u--}}n>0&&(f+=t.length)}return c.done?{start:h,matched:!1}:null}const Ft=Object.create(null),zt=[r.Jq.none],Vt=[],Wt=Object.create(null);for(let[Ut,qt]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Wt[Ut]=$t(Ft,qt);function Ht(t,e){Vt.indexOf(t)>-1||(Vt.push(t),console.warn(e))}function $t(t,e){let n=null;for(let r of e.split(".")){let e=t[r]||a.pJ[r];e?"function"==typeof e?n?n=e(n):Ht(r,`Modifier ${r} used at start of tag`):n?Ht(r,`Tag ${r} used as modifier`):n=e:Ht(r,`Unknown highlighting tag ${r}`)}if(!n)return 0;let i=e.replace(/ /g,"_"),s=r.Jq.define({id:zt.length,name:i,props:[(0,a.Gv)({[i]:n})]});return zt.push(s),s.id}},8045:function(t,e,n){"use strict";n.d(e,{BO:function(){return Tt},D0:function(){return kt},Gz:function(){return Qt},IS:function(){return Jt},Py:function(){return dt},QQ:function(){return q},Wl:function(){return G},Xs:function(){return It},YW:function(){return pt},as:function(){return A},bg:function(){return k},cp:function(){return v},f_:function(){return Nt},gc:function(){return O},gm:function(){return _},jT:function(){return N},n0:function(){return C},nZ:function(){return S},q6:function(){return ct},r$:function(){return F},uU:function(){return Et},xv:function(){return i},yy:function(){return At}});n(1703),n(2087);class i{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){let i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),s.from(i,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n,0),s.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),i=new h(this),r=new h(t);for(let s=e,o=e;;){if(i.next(s),r.next(s),s=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(o+=i.value.length,i.done||o>=n)return!0}}iter(t=1){return new h(this,t)}iterRange(t,e=this.length){return new c(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let i=this.line(t).from;n=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):s.from(r.split(t,[])):i.empty}}class r extends i{constructor(t,e=o(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.text[r],o=i+s.length;if((e?n:o)>=t)return new f(i,o,n,s);i=o+1,n++}}decompose(t,e,n,i){let s=t<=0&&e>=this.length?this:new r(l(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=a(s.text,t.text.slice(),0,s.length);if(e.length<=32)n.push(new r(e,t.length+s.length));else{let t=e.length>>1;n.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else n.push(s)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);let i=a(this.text,a(n.text,l(this.text,0,t)),e),o=this.length+n.length-(e-t);return i.length<=32?new r(i,o):s.from(r.split(i,[]),o)}sliceString(t,e=this.length,n="\n"){let i="";for(let r=0,s=0;r<=e&&s<this.text.length;s++){let o=this.text[s],a=r+o.length;r>t&&s&&(i+=n),t<a&&e>r&&(i+=o.slice(Math.max(0,t-r),e-r)),r=a+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let s of t)n.push(s),i+=s.length+1,32==n.length&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}}class s extends i{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.children[r],o=i+s.length,a=n+s.lines-1;if((e?a:o)>=t)return s.lineInner(t,e,n,i);i=o+1,n=a+1}}decompose(t,e,n,i){for(let r=0,s=0;s<=e&&r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(t<=a&&e>=s){let r=i&((s<=t?1:0)|(a>=e?2:0));s>=t&&a<=e&&!r?n.push(o):o.decompose(t-s,e-s,n,r)}s=a+1}}replace(t,e,n){if(n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let o=this.children[i],a=r+o.length;if(t>=r&&e<=a){let l=o.replace(t-r,e-r,n),h=this.lines-o.lines+l.lines;if(l.lines<h>>4&&l.lines>h>>6){let r=this.children.slice();return r[i]=l,new s(r,this.length-(e-t)+n.length)}return super.replace(r,a,l)}r=a+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let i="";for(let r=0,s=0;r<this.children.length&&s<=e;r++){let o=this.children[r],a=s+o.length;s>t&&r&&(i+=n),t<a&&e>s&&(i+=o.sliceString(t-s,e-s,n)),s=a+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof s))return 0;let n=0,[i,r,o,a]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,r+=e){if(i==o||r==a)return n;let s=this.children[i],l=t.children[r];if(s!=l)return n+s.scanIdentical(l,e);n+=s.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let r of t)n+=r.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new r(n,e)}let i=Math.max(32,n>>5),o=i<<1,a=i>>1,l=[],h=0,c=-1,u=[];function f(t){let e;if(t.lines>o&&t instanceof s)for(let n of t.children)f(n);else t.lines>a&&(h>a||!h)?(d(),l.push(t)):t instanceof r&&h&&(e=u[u.length-1])instanceof r&&t.lines+e.lines<=32?(h+=t.lines,c+=t.length+1,u[u.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(h+t.lines>i&&d(),h+=t.lines,c+=t.length+1,u.push(t))}function d(){0!=h&&(l.push(1==u.length?u[0]:s.from(u,c)),c=-1,h=u.length=0)}for(let r of t)f(r);return d(),1==l.length?l[0]:new s(l,e)}}function o(t){let e=-1;for(let n of t)e+=n.length+1;return e}function a(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let a=t[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function l(t,e,n){return a(t,[""],e,n)}i.empty=new r([""],0);class h{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,a=i instanceof r?i.text.length:i.children.length;if(o==(e>0?a:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof r){let r=i.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let s=i.children[o+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof r?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class c{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new h(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:i}=this.inner.next(t);return e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(i.prototype[Symbol.iterator]=function(){return this.iter()},h.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class f{constructor(t,e,n,i){this.from=t,this.to=e,this.number=n,this.text=i}get length(){return this.to-this.from}}let d="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let Yt=1;Yt<d.length;Yt++)d[Yt]+=d[Yt-1];function p(t){for(let e=1;e<d.length;e+=2)if(d[e]>t)return d[e-1]<=t;return!1}function g(t){return t>=127462&&t<=127487}const m=8205;function v(t,e,n=!0,i=!0){return(n?b:y)(t,e,i)}function b(t,e,n){if(e==t.length)return e;e&&w(t.charCodeAt(e))&&x(t.charCodeAt(e-1))&&e--;let i=_(t,e);e+=S(i);while(e<t.length){let r=_(t,e);if(i==m||r==m||n&&p(r))e+=S(r),i=r;else{if(!g(r))break;{let n=0,i=e-2;while(i>=0&&g(_(t,i)))n++,i-=2;if(n%2==0)break;e+=2}}}return e}function y(t,e,n){while(e>0){let i=b(t,e-2,n);if(i<e)return i;e--}return 0}function w(t){return t>=56320&&t<57344}function x(t){return t>=55296&&t<56320}function _(t,e){let n=t.charCodeAt(e);if(!x(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return w(i)?i-56320+(n-55296<<10)+65536:n}function k(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function S(t){return t<65536?1:2}const M=/\r\n?|\n/;var O=function(t){return t[t["Simple"]=0]="Simple",t[t["TrackDel"]=1]="TrackDel",t[t["TrackBefore"]=2]="TrackBefore",t[t["TrackAfter"]=3]="TrackAfter",t}(O||(O={}));class C{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,i=0;e<this.sections.length;){let r=this.sections[e++],s=this.sections[e++];s<0?(t(n,i,r),i+=r):i+=s,n+=r}}iterChangedRanges(t,e=!1){D(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new C(t)}composeDesc(t){return this.empty?t:t.empty?this:R(this,t)}mapDesc(t,e=!1){return t.empty?this:P(this,t,e)}mapPos(t,e=-1,n=O.Simple){let i=0,r=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=i+o;if(a<0){if(l>t)return r+(t-i);r+=o}else{if(n!=O.Simple&&l>=t&&(n==O.TrackDel&&i<t&&l>t||n==O.TrackBefore&&i<t||n==O.TrackAfter&&l>t))return null;if(l>t||l==t&&e<0&&!o)return t==i||e<0?r:r+a;r+=a}i=l}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return r}touchesRange(t,e=t){for(let n=0,i=0;n<this.sections.length&&i<=e;){let r=this.sections[n++],s=this.sections[n++],o=i+r;if(s>=0&&i<=e&&o>=t)return!(i<t&&o>e)||"cover";i=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new C(t)}static create(t){return new C(t)}}class A extends C{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return D(this,((e,n,i,r,s)=>t=t.replace(i,i+(n-e),s)),!1),t}mapDesc(t,e=!1){return P(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let r=0,s=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a>=0){e[r]=a,e[r+1]=o;let l=r>>1;while(n.length<l)n.push(i.empty);n.push(o?t.slice(s,s+o):i.empty)}s+=o}return new A(e,n)}compose(t){return this.empty?t:t.empty?this:R(this,t,!0)}map(t,e=!1){return t.empty?this:P(this,t,e,!0)}iterChanges(t,e=!1){D(this,t,e)}get desc(){return C.create(this.sections)}filter(t){let e=[],n=[],i=[],r=new I(this);t:for(let s=0,o=0;;){let a=s==t.length?1e9:t[s++];while(o<a||o==a&&0==r.len){if(r.done)break t;let t=Math.min(r.len,a-o);T(i,t,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;T(e,t,s),s>0&&E(n,e,r.text),r.forward(t),o+=t}let l=t[s++];while(o<l){if(r.done)break t;let t=Math.min(r.len,l-o);T(e,t,-1),T(i,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),o+=t}}return{changes:new A(e,n),filtered:C.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):0==i?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let r=[],s=[],o=0,a=null;function l(t=!1){if(!t&&!r.length)return;o<e&&T(r,e-o,-1);let n=new A(r,s);a=a?a.compose(n.map(a)):n,r=[],s=[],o=0}function h(t){if(Array.isArray(t))for(let e of t)h(e);else if(t instanceof A){if(t.length!=e)throw new RangeError(`Mismatched change set length (got ${t.length}, expected ${e})`);l(),a=a?a.compose(t.map(a)):t}else{let{from:a,to:h=a,insert:c}=t;if(a>h||a<0||h>e)throw new RangeError(`Invalid change range ${a} to ${h} (in doc of length ${e})`);let u=c?"string"==typeof c?i.of(c.split(n||M)):c:i.empty,f=u.length;if(a==h&&0==f)return;a<o&&l(),a>o&&T(r,a-o,-1),T(r,h-a,f),E(s,r,u),o=h}}return h(t),l(!a),a}static empty(t){return new A(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let r=0;r<t.length;r++){let s=t[r];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{while(n.length<r)n.push(i.empty);n[r]=i.of(s.slice(1)),e.push(s[0],n[r].length)}}}return new A(e,n)}static createSet(t,e){return new A(t,e)}}function T(t,e,n,i=!1){if(0==e&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:0==e&&0==t[r]?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function E(t,e,n){if(0==n.length)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{while(t.length<r)t.push(i.empty);t.push(n)}}function D(t,e,n){let r=t.inserted;for(let s=0,o=0,a=0;a<t.sections.length;){let l=t.sections[a++],h=t.sections[a++];if(h<0)s+=l,o+=l;else{let c=s,u=o,f=i.empty;for(;;){if(c+=l,u+=h,h&&r&&(f=f.append(r[a-2>>1])),n||a==t.sections.length||t.sections[a+1]<0)break;l=t.sections[a++],h=t.sections[a++]}e(s,c,o,u,f),s=c,o=u}}}function P(t,e,n,i=!1){let r=[],s=i?[]:null,o=new I(t),a=new I(e);for(let l=-1;;)if(-1==o.ins&&-1==a.ins){let t=Math.min(o.len,a.len);T(r,t,-1),o.forward(t),a.forward(t)}else if(a.ins>=0&&(o.ins<0||l==o.i||0==o.off&&(a.len<o.len||a.len==o.len&&!n))){let t=a.len;T(r,a.ins,-1);while(t){let e=Math.min(o.len,t);o.ins>=0&&l<o.i&&o.len<=e&&(T(r,0,o.ins),s&&E(s,r,o.text),l=o.i),o.forward(e),t-=e}a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return s?A.createSet(r,s):C.create(r);throw new Error("Mismatched change set lengths")}{let t=0,e=o.len;while(e)if(-1==a.ins){let n=Math.min(e,a.len);t+=n,e-=n,a.forward(n)}else{if(!(0==a.ins&&a.len<e))break;e-=a.len,a.next()}T(r,t,l<o.i?o.ins:0),s&&l<o.i&&E(s,r,o.text),l=o.i,o.forward(o.len-e)}}}function R(t,e,n=!1){let i=[],r=n?[]:null,s=new I(t),o=new I(e);for(let a=!1;;){if(s.done&&o.done)return r?A.createSet(i,r):C.create(i);if(0==s.ins)T(i,s.len,0,a),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let t=Math.min(s.len2,o.len),e=i.length;if(-1==s.ins){let e=-1==o.ins?-1:o.off?0:o.ins;T(i,t,e,a),r&&e&&E(r,i,o.text)}else-1==o.ins?(T(i,s.off?0:s.len,t,a),r&&E(r,i,s.textBit(t))):(T(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&E(r,i,o.text));a=(s.ins>t||o.ins>=0&&o.len>t)&&(a||i.length>e),s.forward2(t),o.forward(t)}}else T(i,0,o.ins,a),r&&E(r,i,o.text),o.next()}}class I{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?i.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?i.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class L{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,e=-1){let n,i;return this.empty?n=i=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new L(n,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return N.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return N.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(t.anchor,t.head)}static create(t,e,n){return new L(t,e,n)}}class N{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:N.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new N([this.main],0)}addRange(t,e=!0){return N.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,N.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new N(t.ranges.map((t=>L.fromJSON(t))),t.main)}static single(t,e=t){return new N([N.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<t.length;i++){let r=t[i];if(r.empty?r.from<=n:r.from<n)return N.normalized(t.slice(),e);n=r.to}return new N(t,e)}static cursor(t,e=0,n,i){return L.create(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!==i&&void 0!==i?i:33554431)<<5)}static range(t,e,n){let i=(null!==n&&void 0!==n?n:33554431)<<5;return e<t?L.create(e,t,24|i):L.create(t,e,i|(e>t?4:0))}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let i=1;i<t.length;i++){let n=t[i],r=t[i-1];if(n.empty?n.from<=r.to:n.from<r.to){let s=r.from,o=Math.max(n.to,r.to);i<=e&&e--,t.splice(--i,2,n.anchor>n.head?N.range(o,s):N.range(s,o))}}return new N(t,e)}}function B(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let j=0;class F{constructor(t,e,n,i,r){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=i,this.id=j++,this.default=t([]),this.extensions="function"==typeof r?r(this):r}static define(t={}){return new F(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:z),!!t.static,t.enables)}of(t){return new V([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new V(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new V(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function z(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class V{constructor(t,e,n,i){this.dependencies=t,this.facet=e,this.type=n,this.value=i,this.id=j++}dynamicSlot(t){var e;let n=this.value,i=this.facet.compareInput,r=this.id,s=t[r]>>1,o=2==this.type,a=!1,l=!1,h=[];for(let c of this.dependencies)"doc"==c?a=!0:"selection"==c?l=!0:0==(1&(null!==(e=t[c.id])&&void 0!==e?e:1))&&h.push(t[c.id]);return{create(t){return t.values[s]=n(t),1},update(t,e){if(a&&e.docChanged||l&&(e.docChanged||e.selection)||H(t,h)){let e=n(t);if(o?!W(e,t.values[s],i):!i(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let a=n(t),l=e.config.address[r];if(null!=l){let n=nt(e,l);if(this.dependencies.every((n=>n instanceof F?e.facet(n)===t.facet(n):!(n instanceof q)||e.field(n,!1)==t.field(n,!1)))||(o?W(a,n,i):i(a,n)))return t.values[s]=n,0}return t.values[s]=a,1}}}}function W(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function H(t,e){let n=!1;for(let i of e)1&et(t,i)&&(n=!0);return n}function $(t,e,n){let i=n.map((e=>t[e.id])),r=n.map((t=>t.type)),s=i.filter((t=>!(1&t))),o=t[e.id]>>1;function a(t){let n=[];for(let e=0;e<i.length;e++){let s=nt(t,i[e]);if(2==r[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of i)et(t,e);return t.values[o]=a(t),1},update(t,n){if(!H(t,s))return 0;let i=a(t);return e.compare(i,t.values[o])?0:(t.values[o]=i,1)},reconfigure(t,r){let s=H(t,i),l=r.config.facets[e.id],h=r.facet(e);if(l&&!s&&z(n,l))return t.values[o]=h,0;let c=a(t);return e.compare(c,h)?(t.values[o]=h,0):(t.values[o]=c,1)}}}const U=F.define({static:!0});class q{constructor(t,e,n,i,r){this.id=t,this.createF=e,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(t){let e=new q(j++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(U).find((t=>t.field==this));return((null===e||void 0===e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let i=t.values[e],r=this.updateF(i,n);return this.compareF(i,r)?0:(t.values[e]=r,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,U.of({field:this,create:t})]}get extension(){return this}}const J={lowest:4,low:3,default:2,high:1,highest:0};function Q(t){return e=>new Y(e,t)}const G={highest:Q(J.highest),high:Q(J.high),default:Q(J.default),low:Q(J.low),lowest:Q(J.lowest)};class Y{constructor(t,e){this.inner=t,this.prec=e}}class K{of(t){return new X(this,t)}reconfigure(t){return K.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class X{constructor(t,e){this.compartment=t,this.inner=e}}class Z{constructor(t,e,n,i,r,s){this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.facets=s,this.statusTemplate=[];while(this.statusTemplate.length<n.length)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let i=[],r=Object.create(null),s=new Map;for(let u of tt(t,e,s))u instanceof q?i.push(u):(r[u.facet.id]||(r[u.facet.id]=[])).push(u);let o=Object.create(null),a=[],l=[];for(let u of i)o[u.id]=l.length<<1,l.push((t=>u.slot(t)));let h=null===n||void 0===n?void 0:n.config.facets;for(let u in r){let t=r[u],e=t[0].facet,i=h&&h[u]||[];if(t.every((t=>0==t.type)))if(o[e.id]=a.length<<1|1,z(i,t))a.push(n.facet(e));else{let i=e.combine(t.map((t=>t.value)));a.push(n&&e.compare(i,n.facet(e))?n.facet(e):i)}else{for(let e of t)0==e.type?(o[e.id]=a.length<<1|1,a.push(e.value)):(o[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));o[e.id]=l.length<<1,l.push((n=>$(n,e,t)))}}let c=l.map((t=>t(o)));return new Z(t,s,c,o,a,r)}}function tt(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(t,o){let a=r.get(t);if(null!=a){if(a<=o)return;let e=i[a].indexOf(t);e>-1&&i[a].splice(e,1),t instanceof X&&n.delete(t.compartment)}if(r.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof X){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=e.get(t.compartment)||t.inner;n.set(t.compartment,i),s(i,o)}else if(t instanceof Y)s(t.inner,t.prec);else if(t instanceof q)i[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof V)i[o].push(t),t.facet.extensions&&s(t.facet.extensions,J.default);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,J.default),i.reduce(((t,e)=>t.concat(e)))}function et(t,e){if(1&e)return 2;let n=e>>1,i=t.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function nt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const it=F.define(),rt=F.define({combine:t=>t.some((t=>t)),static:!0}),st=F.define({combine:t=>t.length?t[0]:void 0,static:!0}),ot=F.define(),at=F.define(),lt=F.define(),ht=F.define({combine:t=>!!t.length&&t[0]});class ct{constructor(t,e){this.type=t,this.value=e}static define(){return new ut}}class ut{of(t){return new ct(this,t)}}class ft{constructor(t){this.map=t}of(t){return new dt(this,t)}}class dt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new dt(this.type,e)}is(t){return this.type==t}static define(t={}){return new ft(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let i of t){let t=i.map(e);t&&n.push(t)}return n}}dt.reconfigure=dt.define(),dt.appendConfig=dt.define();class pt{constructor(t,e,n,i,r,s){this.startState=t,this.changes=e,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=s,this._doc=null,this._state=null,n&&B(n,e.newLength),r.some((t=>t.type==pt.time))||(this.annotations=r.concat(pt.time.of(Date.now())))}static create(t,e,n,i,r,s){return new pt(t,e,n,i,r,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(pt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function gt(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else{if(!(r<e.length))return n;s=e[r++],o=e[r++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function mt(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=A.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(i=t.selection)||void 0===i?void 0:i.map(r),effects:dt.mapEffects(t.effects,r).concat(dt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function vt(t,e,n){let i=e.selection,r=_t(e.annotations);return e.userEvent&&(r=r.concat(pt.userEvent.of(e.userEvent))),{changes:e.changes instanceof A?e.changes:A.of(e.changes||[],n,t.facet(st)),selection:i&&(i instanceof N?i:N.single(i.anchor,i.head)),effects:_t(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function bt(t,e,n){let i=vt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let s=1;s<e.length;s++){!1===e[s].filter&&(n=!1);let r=!!e[s].sequential;i=mt(i,vt(t,e[s],r?i.changes.newLength:t.doc.length),r)}let r=pt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return wt(n?yt(r):r)}function yt(t){let e=t.startState,n=!0;for(let r of e.facet(ot)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:gt(n,e))}if(!0!==n){let i,r;if(!1===n)r=t.changes.invertedDesc,i=A.empty(e.doc.length);else{let e=t.changes.filter(n);i=e.changes,r=e.filtered.mapDesc(e.changes).invertedDesc}t=pt.create(e,i,t.selection&&t.selection.map(r),dt.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let i=e.facet(at);for(let r=i.length-1;r>=0;r--){let n=i[r](t);t=n instanceof pt?n:Array.isArray(n)&&1==n.length&&n[0]instanceof pt?n[0]:bt(e,_t(n),!1)}return t}function wt(t){let e=t.startState,n=e.facet(lt),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=mt(t,vt(e,s,t.changes.newLength),!0))}return i==t?t:pt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}pt.time=ct.define(),pt.userEvent=ct.define(),pt.addToHistory=ct.define(),pt.remote=ct.define();const xt=[];function _t(t){return null==t?xt:Array.isArray(t)?t:[t]}var kt=function(t){return t[t["Word"]=0]="Word",t[t["Space"]=1]="Space",t[t["Other"]=2]="Other",t}(kt||(kt={}));const St=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Mt;try{Mt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Gt){}function Ot(t){if(Mt)return Mt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||St.test(n)))return!0}return!1}function Ct(t){return e=>{if(!/\S/.test(e))return kt.Space;if(Ot(e))return kt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return kt.Word;return kt.Other}}class At{constructor(t,e,n,i,r,s){this.config=t,this.doc=e,this.selection=n,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=r,s&&(s._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)et(this,o<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return et(this,n),nt(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return bt(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:i,compartments:r}=n;for(let s of t.effects)s.is(K.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((t,e)=>r.set(e,t))),n=null),r.set(s.value.compartment,s.value.extension)):s.is(dt.reconfigure)?(n=null,i=s.value):s.is(dt.appendConfig)&&(n=null,i=_t(i).concat(s.value));if(n)e=t.startState.values.slice();else{n=Z.resolve(i,r,this);let t=new At(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null);e=t.values}new At(n,t.newDoc,t.newSelection,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:N.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),i=this.changes(n.changes),r=[n.range],s=_t(n.effects);for(let o=1;o<e.ranges.length;o++){let n=t(e.ranges[o]),a=this.changes(n.changes),l=a.map(i);for(let t=0;t<o;t++)r[t]=r[t].map(l);let h=i.mapDesc(a,!0);r.push(n.range.map(h)),i=i.compose(l),s=dt.mapEffects(s,l).concat(dt.mapEffects(_t(n.effects),h))}return{changes:i,selection:N.create(r,e.mainIndex),effects:s}}changes(t=[]){return t instanceof A?t:A.of(t,this.doc.length,this.facet(At.lineSeparator))}toText(t){return i.of(t.split(this.facet(At.lineSeparator)||M))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(et(this,e),nt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let i=t[n];i instanceof q&&null!=this.config.address[i.id]&&(e[n]=i.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let r in n)if(Object.prototype.hasOwnProperty.call(t,r)){let e=n[r],s=t[r];i.push(e.init((t=>e.spec.fromJSON(s,t))))}return At.create({doc:t.doc,selection:N.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(t={}){let e=Z.resolve(t.extensions||[],new Map),n=t.doc instanceof i?t.doc:i.of((t.doc||"").split(e.staticFacet(At.lineSeparator)||M)),r=t.selection?t.selection instanceof N?t.selection:N.single(t.selection.anchor,t.selection.head):N.single(0);return B(r,n.length),e.staticFacet(rt)||(r=r.asSingle()),new At(e,n,r,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(At.tabSize)}get lineBreak(){return this.facet(At.lineSeparator)||"\n"}get readOnly(){return this.facet(ht)}phrase(t,...e){for(let n of this.facet(At.phrases))if(Object.prototype.hasOwnProperty.call(n,t)){t=n[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let i=+(n||1);return!i||i>e.length?t:e[i-1]}))),t}languageDataAt(t,e,n=-1){let i=[];for(let r of this.facet(it))for(let s of r(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return Ct(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:i}=this.doc.lineAt(t),r=this.charCategorizer(t),s=t-n,o=t-n;while(s>0){let t=v(e,s,!1);if(r(e.slice(t,s))!=kt.Word)break;s=t}while(o<i){let t=v(e,o);if(r(e.slice(o,t))!=kt.Word)break;o=t}return s==o?null:N.range(s+n,o+n)}}function Tt(t,e,n={}){let i={};for(let r of t)for(let t of Object.keys(r)){let e=r[t],s=i[t];if(void 0===s)i[t]=e;else if(s===e||void 0===e);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);i[t]=n[t](s,e)}}for(let r in e)void 0===i[r]&&(i[r]=e[r]);return i}At.allowMultipleSelections=rt,At.tabSize=F.define({combine:t=>t.length?t[0]:4}),At.lineSeparator=st,At.readOnly=ht,At.phrases=F.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every((n=>t[n]==e[n]))}}),At.languageData=it,At.changeFilter=ot,At.transactionFilter=at,At.transactionExtender=lt,K.reconfigure=dt.define();class Et{eq(t){return this==t}range(t,e=t){return Dt.create(t,e,this)}}Et.prototype.startSide=Et.prototype.endSide=0,Et.prototype.point=!1,Et.prototype.mapMode=O.TrackDel;class Dt{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new Dt(t,e,n)}}function Pt(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Rt{constructor(t,e,n,i){this.from=t,this.to=e,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,i=0){let r=n?this.to:this.from;for(let s=i,o=r.length;;){if(s==o)return s;let i=s+o>>1,a=r[i]-t||(n?this.value[i].endSide:this.value[i].startSide)-e;if(i==s)return a>=0?s:o;a>=0?o=i:s=i+1}}between(t,e,n,i){for(let r=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,r);r<s;r++)if(!1===i(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let n=[],i=[],r=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,h,c=this.value[a],u=this.from[a]+t,f=this.to[a]+t;if(u==f){let t=e.mapPos(u,c.startSide,c.mapMode);if(null==t)continue;if(l=h=t,c.startSide!=c.endSide&&(h=e.mapPos(u,c.endSide),h<l))continue}else if(l=e.mapPos(u,c.startSide),h=e.mapPos(f,c.endSide),l>h||l==h&&c.startSide>0&&c.endSide<=0)continue;(h-l||c.endSide-c.startSide)<0||(s<0&&(s=l),c.point&&(o=Math.max(o,h-l)),n.push(c),i.push(l-s),r.push(h-s))}return{mapped:n.length?new Rt(i,r,n,o):null,pos:s}}}class It{constructor(t,e,n,i){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=i}static create(t,e,n,i){return new It(t,e,n,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(Pt)),this.isEmpty)return e.length?It.of(e):this;let o=new jt(this,null,-1).goto(0),a=0,l=[],h=new Nt;while(o.value||a<e.length)if(a<e.length&&(o.from-e[a].from||o.startSide-e[a].value.startSide)>=0){let t=e[a++];h.addInner(t.from,t.to,t.value)||l.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(o.chunkIndex)<e[a].from)&&(!s||i>this.chunkEnd(o.chunkIndex)||r<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||i>o.to||r<o.from||s(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||l.push(Dt.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!l.length?It.empty:this.nextLayer.update({add:l,filter:s,filterFrom:i,filterTo:r}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],i=-1;for(let s=0;s<this.chunk.length;s++){let r=this.chunkPos[s],o=this.chunk[s],a=t.touchesRange(r,r+o.length);if(!1===a)i=Math.max(i,o.maxPoint),e.push(o),n.push(t.mapPos(r));else if(!0===a){let{mapped:s,pos:a}=o.map(r,t);s&&(i=Math.max(i,s.maxPoint),e.push(s),n.push(a))}}let r=this.nextLayer.map(t);return 0==e.length?r:new It(n,e,r||It.empty,i)}between(t,e,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i];if(e>=r&&t<=r+s.length&&!1===s.between(r,t-r,e-r,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Ft.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Ft.from(t).goto(e)}static compare(t,e,n,i,r=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),a=Bt(s,o,n),l=new Vt(s,a,r),h=new Vt(o,a,r);n.iterGaps(((t,e,n)=>Wt(l,t,h,e,n,i))),n.empty&&0==n.length&&Wt(l,0,h,0,0,i)}static eq(t,e,n=0,i){null==i&&(i=1e9);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=s.length)return!1;if(!r.length)return!0;let o=Bt(r,s),a=new Vt(r,o,0).goto(n),l=new Vt(s,o,0).goto(n);for(;;){if(a.to!=l.to||!Ht(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>i)return!0;a.next(),l.next()}}static spans(t,e,n,i,r=-1){let s=new Vt(t,null,r).goto(e),o=e,a=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point?(i.point(o,t,s.point,s.activeForPoint(s.to),a,s.pointRank),a=s.openEnd(t)+(s.to>t?1:0)):t>o&&(i.span(o,t,s.active,a),a=s.openEnd(t)),s.to>n)break;o=s.to,s.next()}return a}static of(t,e=!1){let n=new Nt;for(let i of t instanceof Dt?[t]:e?Lt(t):t)n.add(i.from,i.to,i.value);return n.finish()}}function Lt(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Pt(e,i)>0)return t.slice().sort(Pt);e=i}return t}It.empty=new It([],[],null,-1),It.empty.nextLayer=It.empty;class Nt{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new Rt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Nt)).add(t,e,n)}addInner(t,e,n){let i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(It.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=It.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Bt(t,e,n){let i=new Map;for(let s of t)for(let t=0;t<s.chunk.length;t++)s.chunk[t].maxPoint<=0&&i.set(s.chunk[t],s.chunkPos[t]);let r=new Set;for(let s of e)for(let t=0;t<s.chunk.length;t++){let e=i.get(s.chunk[t]);null==e||(n?n.mapPos(e):e)!=s.chunkPos[t]||(null===n||void 0===n?void 0:n.touchesRange(e,e+s.chunk[t].length))||r.add(s.chunk[t])}return r}class jt{constructor(t,e,n,i=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){while(this.chunkIndex<this.layer.chunk.length){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Ft{constructor(t){this.heap=t}static from(t,e=null,n=-1){let i=[];for(let r=0;r<t.length;r++)for(let s=t[r];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new jt(s,e,n,r));return 1==i.length?i[0]:new Ft(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)zt(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)zt(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),zt(this.heap,0)}}}function zt(t,e){for(let n=t[e];;){let i=1+(e<<1);if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class Vt{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ft.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){while(this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){$t(this.active,t),$t(this.activeTo,t),$t(this.activeRank,t),this.minActive=qt(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:i,rank:r}=this.cursor;while(e<this.activeRank.length&&this.activeRank[e]<=r)e++;Ut(this.active,e,n),Ut(this.activeTo,e,i),Ut(this.activeRank,e,r),t&&Ut(t,e,this.cursor.from),this.minActive=qt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null,i=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&$t(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<t&&(i=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.from<t&&this.cursor.to>t&&i++,this.cursor.next()}}}if(n){let e=0;while(e<n.length&&n[e]<t)e++;this.openStart=e+i}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0;n--){if(this.activeRank[n]<this.pointRank)break;(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n])}return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Wt(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,a=i,l=i-e;for(;;){let e=t.to+l-n.to||t.endSide-n.endSide,i=e<0?t.to+l:n.to,r=Math.min(i,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Ht(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||s.comparePoint(a,r,t.point,n.point):r>a&&!Ht(t.active,n.active)&&s.compareRange(a,r,t.active,n.active),i>o)break;a=i,e<=0&&t.next(),e>=0&&n.next()}}function Ht(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function $t(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Ut(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function qt(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function Jt(t,e,n=t.length){let i=0;for(let r=0;r<n;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=v(t,r));return i}function Qt(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=9==t.charCodeAt(r)?n-s%n:1,r=v(t,r)}return!0===i?-1:t.length}},5406:function(t,e,n){"use strict";n.d(e,{vk:function(){return S}});var i=n(1901),r=n(2235),s=n(1048);const o="#e5c07b",a="#e06c75",l="#56b6c2",h="#ffffff",c="#abb2bf",u="#7d8799",f="#61afef",d="#98c379",p="#d19a66",g="#c678dd",m="#21252b",v="#2c313a",b="#282c34",y="#353a42",w="#3E4451",x="#528bff",_=i.tk.theme({"&":{color:c,backgroundColor:b},".cm-content":{caretColor:x},".cm-cursor, .cm-dropCursor":{borderLeftColor:x},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:w},".cm-panels":{backgroundColor:m,color:c},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:v},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:b,color:u,border:"none"},".cm-activeLineGutter":{backgroundColor:v},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:y},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:y,borderBottomColor:y},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:v,color:c}}},{dark:!0}),k=r.Qf.define([{tag:s.pJ.keyword,color:g},{tag:[s.pJ.name,s.pJ.deleted,s.pJ.character,s.pJ.propertyName,s.pJ.macroName],color:a},{tag:[s.pJ["function"](s.pJ.variableName),s.pJ.labelName],color:f},{tag:[s.pJ.color,s.pJ.constant(s.pJ.name),s.pJ.standard(s.pJ.name)],color:p},{tag:[s.pJ.definition(s.pJ.name),s.pJ.separator],color:c},{tag:[s.pJ.typeName,s.pJ.className,s.pJ.number,s.pJ.changed,s.pJ.annotation,s.pJ.modifier,s.pJ.self,s.pJ.namespace],color:o},{tag:[s.pJ.operator,s.pJ.operatorKeyword,s.pJ.url,s.pJ.escape,s.pJ.regexp,s.pJ.link,s.pJ.special(s.pJ.string)],color:l},{tag:[s.pJ.meta,s.pJ.comment],color:u},{tag:s.pJ.strong,fontWeight:"bold"},{tag:s.pJ.emphasis,fontStyle:"italic"},{tag:s.pJ.strikethrough,textDecoration:"line-through"},{tag:s.pJ.link,color:u,textDecoration:"underline"},{tag:s.pJ.heading,fontWeight:"bold",color:a},{tag:[s.pJ.atom,s.pJ.bool,s.pJ.special(s.pJ.variableName)],color:p},{tag:[s.pJ.processingInstruction,s.pJ.string,s.pJ.inserted],color:d},{tag:s.pJ.invalid,color:h}]),S=[_,(0,r.nF)(k)]},1901:function(t,e,n){"use strict";n.d(e,{p:function(){return yt},Nm:function(){return te},tk:function(){return yi},SJ:function(){return Gr},lg:function(){return $t},l9:function(){return vt},S2:function(){return Mr},Uw:function(){return ji},qr:function(){return Ki},Sd:function(){return $r},gB:function(){return Vr},v5:function(){return Zr},ZO:function(){return pr},HQ:function(){return bs},AE:function(){return ar},bF:function(){return zr},$f:function(){return Ai},Eu:function(){return ps},OO:function(){return zt},Zs:function(){return _r},$1:function(){return Di},mH:function(){return Qr},hJ:function(){return Rr}});n(1703),n(2087);for(var i=n(8045),r=n(6776),s={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),l=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),h="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=l||a&&+a[1]<57,u=0;u<10;u++)s[48+u]=s[96+u]=String(u);for(u=1;u<=24;u++)s[u+111]="F"+u;for(u=65;u<=90;u++)s[u]=String.fromCharCode(u+32),o[u]=String.fromCharCode(u);for(var f in s)o.hasOwnProperty(f)||(o[f]=s[f]);function d(t){var e=c&&(t.ctrlKey||t.altKey||t.metaKey)||h&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key,n=!e&&t.key||(t.shiftKey?o:s)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}function p(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function g(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function m(){let t=document.activeElement;while(t&&t.shadowRoot)t=t.shadowRoot.activeElement;return t}function v(t,e){if(!e.anchorNode)return!1;try{return g(t,e.anchorNode)}catch(n){return!1}}function b(t){return 3==t.nodeType?D(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function y(t,e,n,i){return!!n&&(x(t,e,n,i,-1)||x(t,e,n,i,1))}function w(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function x(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:_(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=w(t)+(r<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(r<0?-1:0)],1==t.nodeType&&"false"==t.contentEditable)return!1;e=r<0?_(t):0}}}function _(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}const k={left:0,right:0,top:0,bottom:0};function S(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function M(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function O(t,e,n,i,r,s,o,a){let l=t.ownerDocument,h=l.defaultView;for(let c=t;c;)if(1==c.nodeType){let t,u=c==l.body;if(u)t=M(h);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let e=c.getBoundingClientRect();t={left:e.left,right:e.left+c.clientWidth,top:e.top,bottom:e.top+c.clientHeight}}let f=0,d=0;if("nearest"==r)e.top<t.top?(d=-(t.top-e.top+o),n>0&&e.bottom>t.bottom+d&&(d=e.bottom-t.bottom+d+o)):e.bottom>t.bottom&&(d=e.bottom-t.bottom+o,n<0&&e.top-d<t.top&&(d=-(t.top+d-e.top+o)));else{let i=e.bottom-e.top,s=t.bottom-t.top,a="center"==r&&i<=s?e.top+i/2-s/2:"start"==r||"center"==r&&n<0?e.top-o:e.bottom-s+o;d=a-t.top}if("nearest"==i)e.left<t.left?(f=-(t.left-e.left+s),n>0&&e.right>t.right+f&&(f=e.right-t.right+f+s)):e.right>t.right&&(f=e.right-t.right+s,n<0&&e.left<t.left+f&&(f=-(t.left+f-e.left+s)));else{let n="center"==i?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==i==a?e.left-s:e.right-(t.right-t.left)+s;f=n-t.left}if(f||d)if(u)h.scrollBy(f,d);else{if(d){let t=c.scrollTop;c.scrollTop+=d,d=c.scrollTop-t}if(f){let t=c.scrollLeft;c.scrollLeft+=f,f=c.scrollLeft-t}e={left:e.left-f,top:e.top-d,right:e.right-f,bottom:e.bottom-d}}if(u)break;c=c.assignedSlot||c.parentNode,i=r="nearest"}else{if(11!=c.nodeType)break;c=c.host}}class C{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,n,i){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=i}}let A,T=null;function E(t){if(t.setActive)return t.setActive();if(T)return t.focus(T);let e=[];for(let n=t;n;n=n.parentNode)if(e.push(n,n.scrollTop,n.scrollLeft),n==n.ownerDocument)break;if(t.focus(null==T?{get preventScroll(){return T={preventScroll:!0},!0}}:void 0),!T){T=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],r=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function D(t,e,n=e){let i=A||(A=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function P(t,e,n){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,t.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function R(t){while(t){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function I(t){while(t.attributes.length)t.removeAttributeNode(t.attributes[0])}function L(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(;;)if(i){if(1!=n.nodeType)return!1;let t=n.childNodes[i-1];"false"==t.contentEditable?i--:(n=t,i=_(n))}else{if(n==t)return!0;i=w(n),n=n.parentNode}}class N{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new N(t.parentNode,w(t),e)}static after(t,e){return new N(t.parentNode,w(t)+1,e)}}const B=[];class j{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){if(2&this.dirty){let e,n=this.dom,i=null;for(let r of this.children){if(r.dirty){if(!r.dom&&(e=i?i.nextSibling:n.firstChild)){let t=j.get(e);t&&(t.parent||t.constructor!=r.constructor)||r.reuseDOM(e)}r.sync(t),r.dirty=0}if(e=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&e!=r.dom&&(t.written=!0),r.dom.parentNode==n)while(e&&e!=r.dom)e=F(e);else n.insertBefore(r.dom,e);i=r.dom}e=i?i.nextSibling:n.firstChild,e&&t&&t.node==n&&(t.written=!0);while(e)e=F(e)}else if(1&this.dirty)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let i=0==_(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==i&&e.firstChild!=e.lastChild&&(i=t==e.firstChild?-1:1),t=e}n=i<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;while(n&&!j.get(n))n=n.nextSibling;if(!n)return this.length;for(let i=0,r=0;;i++){let t=this.children[i];if(t.dom==n)return r;r+=t.length+t.breakAfter}}domBoundsAround(t,e,n=0){let i=-1,r=-1,s=-1,o=-1;for(let a=0,l=n,h=n;a<this.children.length;a++){let n=this.children[a],c=l+n.length;if(l<t&&c>e)return n.domBoundsAround(t,e,l);if(c>=t&&-1==i&&(i=a,r=l),l>e&&n.dom.parentNode==this.dom){s=a,o=h;break}h=c,l=c+n.breakAfter}return{from:r,to:o<0?n+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=B){this.markDirty();for(let i=t;i<e;i++){let t=this.children[i];t.parent==this&&t.destroy()}this.children.splice(t,e-t,...n);for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new z(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}merge(t,e,n,i,r,s){return!1}become(t){return!1}getSide(){return 0}destroy(){this.parent=null}}function F(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}j.prototype.breakAfter=0;class z{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function V(t,e,n,i,r,s,o,a,l){let{children:h}=t,c=h.length?h[e]:null,u=s.length?s[s.length-1]:null,f=u?u.breakAfter:o;if(!(e==i&&c&&!o&&!f&&s.length<2&&c.merge(n,r,s.length?u:null,0==n,a,l))){if(i<h.length){let t=h[i];t&&r<t.length?(e==i&&(t=t.split(r),r=0),!f&&u&&t.merge(0,r,u,!0,0,l)?s[s.length-1]=t:(r&&t.merge(0,r,null,!1,0,l),s.push(t))):(null===t||void 0===t?void 0:t.breakAfter)&&(u?u.breakAfter=1:o=1),i++}c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,a,0),e++));while(e<i&&s.length)if(h[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else{if(!h[e].become(s[0]))break;e++,s.shift(),a=s.length?0:l}!s.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,a,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function W(t,e,n,i,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:h,off:c}=o.findPos(e,-1),u=e-n;for(let f of i)u+=f.length;t.length+=u,V(t,h,c,a,l,i,0,r,s)}let H="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},$="undefined"!=typeof document?document:{documentElement:{style:{}}};const U=/Edge\/(\d+)/.exec(H.userAgent),q=/MSIE \d/.test(H.userAgent),J=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(H.userAgent),Q=!!(q||J||U),G=!Q&&/gecko\/(\d+)/i.test(H.userAgent),Y=!Q&&/Chrome\/(\d+)/.exec(H.userAgent),K="webkitFontSmoothing"in $.documentElement.style,X=!Q&&/Apple Computer/.test(H.vendor),Z=X&&(/Mobile\/\w+/.test(H.userAgent)||H.maxTouchPoints>2);var tt={mac:Z||/Mac/.test(H.platform),windows:/Win/.test(H.platform),linux:/Linux|X11/.test(H.platform),ie:Q,ie_version:q?$.documentMode||6:J?+J[1]:U?+U[1]:0,gecko:G,gecko_version:G?+(/Firefox\/(\d+)/.exec(H.userAgent)||[0,0])[1]:0,chrome:!!Y,chrome_version:Y?+Y[1]:0,ios:Z,android:/Android\b/.test(H.userAgent),webkit:K,safari:X,webkit_version:K?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=$.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};const et=256;class nt extends j{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return(!n||n instanceof nt&&!(this.length-(e-t)+n.length>et))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new nt(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new N(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return rt(this.dom,t,e)}}class it extends j{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let i of e)i.setParent(this)}setAttrs(t){if(I(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.dirty|=6)}sync(t){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t)}merge(t,e,n,i,r,s){return(!n||!(!(n instanceof it&&n.mark.eq(this.mark))||t&&r<=0||e<this.length&&s<=0))&&(W(this,t,e,n?n.children:[],r-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,i=-1,r=0;for(let o of this.children){let s=n+o.length;s>t&&e.push(n<t?o.split(t-n):o),i<0&&n>=t&&(i=r),n=s,r++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new it(this.mark,e,s)}domAtPos(t){return ut(this.dom,this.children,t)}coordsAt(t,e){return dt(this,t,e)}}function rt(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;0==e&&n<0||e==i&&n>=0?tt.chrome||tt.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let a=D(t,r,s).getClientRects();if(!a.length)return k;let l=a[(o?o<0:n>=0)?0:a.length-1];return tt.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,(t=>t.width))||l),o?S(l,o<0):l||null}class st extends j{constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}static create(t,e,n){return new(t.customView||st)(t,e,n)}split(t){let e=st.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof st&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t.length==this.length&&t instanceof st&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return i.xv.empty;let t=this;while(t.parent)t=t.parent;let e=t.editorView,n=e&&e.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):i.xv.empty}domAtPos(t){return 0==t?N.before(this.dom):N.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.dom.getClientRects(),i=null;if(!n.length)return k;for(let r=t>0?n.length-1:0;;r+=t>0?-1:1)if(i=n[r],t>0?0==r:r==n.length-1||i.top<i.bottom)break;return 0==t&&e>0||t==this.length&&e<=0?i:S(i,0==t)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ot extends st{domAtPos(t){let{topView:e,text:n}=this.widget;return e?at(t,0,e,n,((t,e)=>t.domAtPos(e)),(t=>new N(n,Math.min(t,n.nodeValue.length)))):new N(n,Math.min(t,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){let{topView:n,text:i}=this.widget;return n?lt(t,e,n,i):Math.min(e,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){let{topView:n,text:i}=this.widget;return n?at(t,e,n,i,((t,e,n)=>t.coordsAt(e,n)),((t,e)=>rt(i,t,e))):rt(i,t,e)}destroy(){var t;super.destroy(),null===(t=this.widget.topView)||void 0===t||t.destroy()}get isEditable(){return!0}}function at(t,e,n,i,r,s){if(n instanceof it){for(let o of n.children){let n=g(o.dom,i),a=n?i.nodeValue.length:o.length;if(t<a||t==a&&o.getSide()<=0)return n?at(t,e,o,i,r,s):r(o,t,e);t-=a}return r(n,n.length,-1)}return n.dom==i?s(t,e):r(n,t,e)}function lt(t,e,n,i){if(n instanceof it)for(let r of n.children){let n=0,s=g(r.dom,i);if(g(r.dom,t))return n+(s?lt(t,e,r,i):r.localPosFromDOM(t,e));n+=s?i.nodeValue.length:r.length}else if(n.dom==i)return Math.min(e,i.nodeValue.length);return n.localPosFromDOM(t,e)}class ht extends j{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof ht&&t.side==this.side}split(){return new ht(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return N.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){let e=this.dom.getBoundingClientRect(),n=ct(this,this.side>0?-1:1);return n&&n.top<e.bottom&&n.bottom>e.top?{left:e.left,right:e.right,top:n.top,bottom:n.bottom}:e}get overrideDOMText(){return i.xv.empty}}function ct(t,e){let n=t.parent,i=n?n.children.indexOf(t):-1;while(n&&i>=0)if(e<0?i>0:i<n.children.length){let t=n.children[i+e];if(t instanceof nt){let n=t.coordsAt(e<0?t.length:0,e);if(n)return n}i+=e}else{if(!(n instanceof it&&n.parent)){let t=n.dom.lastChild;if(t&&"BR"==t.nodeName)return t.getClientRects()[0];break}i=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent}}function ut(t,e,n){let i=0;for(let r=0;i<e.length;i++){let s=e[i],o=r+s.length;if(!(o==r&&s.getSide()<=0)){if(n>r&&n<o&&s.dom.parentNode==t)return s.domAtPos(n-r);if(n<=r)break;r=o}}for(;i>0;i--){let n=e[i-1].dom;if(n.parentNode==t)return N.after(n)}return new N(t,0)}function ft(t,e,n){let i,{children:r}=t;n>0&&e instanceof it&&r.length&&(i=r[r.length-1])instanceof it&&i.mark.eq(e.mark)?ft(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function dt(t,e,n){for(let s=0,o=0;o<t.children.length;o++){let i,r=t.children[o],a=s+r.length;if((n<=0||a==t.length||r.getSide()>0?a>=e:a>e)&&(e<a||o+1==t.children.length||(i=t.children[o+1]).length||i.getSide()>0)){let t=0;if(a==s){if(r.getSide()<=0)continue;t=n=-r.getSide()}let i=r.coordsAt(Math.max(0,e-s),n);return t&&i?S(i,n<0):i}s=a}let i=t.dom.lastChild;if(!i)return t.dom.getBoundingClientRect();let r=b(i);return r[r.length-1]||null}function pt(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function gt(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r of n)if(-1==i.indexOf(r)||t[r]!==e[r])return!1;return!0}function mt(t,e,n){let i=null;if(e)for(let r in e)n&&r in n||t.removeAttribute(i=r);if(n)for(let r in n)e&&e[r]==n[r]||t.setAttribute(i=r,n[r]);return!!i}nt.prototype.children=st.prototype.children=ht.prototype.children=B;class vt{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}destroy(t){}}var bt=function(t){return t[t["Text"]=0]="Text",t[t["WidgetBefore"]=1]="WidgetBefore",t[t["WidgetAfter"]=2]="WidgetAfter",t[t["WidgetRange"]=3]="WidgetRange",t}(bt||(bt={}));class yt extends i.uU{constructor(t,e,n,i){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(t){return new wt(t)}static widget(t){let e=t.side||0,n=!!t.block;return e+=n?e>0?3e8:-4e8:e>0?1e8:-1e8,new _t(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,i=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:r,end:s}=kt(t,i);e=(r?i?-3e8:-1:5e8)-1,n=1+(s?i?2e8:1:-6e8)}return new _t(t,e,n,i,t.widget||null,!0)}static line(t){return new xt(t)}static set(t,e=!1){return i.Xs.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}yt.none=i.Xs.empty;class wt extends yt{constructor(t){let{start:e,end:n}=kt(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof wt&&this.tagName==t.tagName&&this.class==t.class&&gt(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}wt.prototype.point=!1;class xt extends yt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof xt&&gt(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}xt.prototype.mapMode=i.gc.TrackBefore,xt.prototype.point=!0;class _t extends yt{constructor(t,e,n,r,s,o){super(e,n,s,t),this.block=r,this.isReplace=o,this.mapMode=r?e<=0?i.gc.TrackBefore:i.gc.TrackAfter:i.gc.TrackDel}get type(){return this.startSide<this.endSide?bt.WidgetRange:this.startSide<=0?bt.WidgetBefore:bt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof _t&&St(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function kt(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return null==n&&(n=t.inclusive),null==i&&(i=t.inclusive),{start:null!==n&&void 0!==n?n:e,end:null!==i&&void 0!==i?i:e}}function St(t,e){return t==e||!!(t&&e&&t.compare(e))}function Mt(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}_t.prototype.point=!0;class Ot extends j{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,i,r,s){if(n){if(!(n instanceof Ot))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),W(this,t,e,n?n.children:[],r,s),!0}split(t){let e=new Ot;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:i}=this.childPos(t);i&&(e.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let r=n;r<this.children.length;r++)e.append(this.children[r],0);while(n>0&&0==this.children[n-1].length)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){gt(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){ft(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=pt(e,this.attrs||{})),n&&(this.attrs=pt({class:n},this.attrs||{}))}domAtPos(t){return ut(this.dom,this.children,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.dirty|=6)}sync(t){var e;this.dom?4&this.dirty&&(I(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(mt(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let n=this.dom.lastChild;while(n&&j.get(n)instanceof it)n=n.lastChild;if(!n||!this.length||"BR"!=n.nodeName&&0==(null===(e=j.get(n))||void 0===e?void 0:e.isEditable)&&(!tt.ios||!this.children.some((t=>t instanceof nt)))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof nt)||/[^ -~]/.test(e.text))return null;let n=b(e.dom);if(1!=n.length)return null;t+=n[0].width}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}:null}coordsAt(t,e){return dt(this,t,e)}become(t){return!1}get type(){return bt.Text}static find(t,e){for(let n=0,i=0;n<t.children.length;n++){let r=t.children[n],s=i+r.length;if(s>=e){if(r instanceof Ot)return r;if(s>e)break}i=s+r.breakAfter}return null}}class Ct extends j{constructor(t,e,n){super(),this.widget=t,this.length=e,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof Ct&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?N.before(this.dom):N.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new Ct(this.widget,e,this.type);return n.breakAfter=this.breakAfter,n}get children(){return B}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):i.xv.empty}domBoundsAround(){return null}become(t){return t instanceof Ct&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class At{constructor(t,e,n,i){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof Ct&&t.type==bt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ot),this.atCursorPos=!0),this.curLine}flushBuffer(t){this.pendingBuffer&&(this.curLine.append(Tt(new ht(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer([]),this.curLine=null,this.content.push(t)}finish(t){t?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(t,e,n){while(t>0){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,t--;continue}this.text=e,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(0,n)),this.getLine().append(Tt(new nt(this.text.slice(this.textOff,this.textOff+i)),e),n),this.atCursorPos=!0,this.textOff+=i,t-=i,n=0}}span(t,e,n,i){this.buildText(e-t,n,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,n,i,r,s){if(this.disallowBlockEffectsFor[s]&&n instanceof _t){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof _t)if(n.block){let{type:t}=n;t!=bt.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new Ct(n.widget||new Et("div"),o,t))}else{let s=st.create(n.widget||new Et("span"),o,n.startSide),a=this.atCursorPos&&!s.isEditable&&r<=i.length&&(t<e||n.startSide>0),l=!s.isEditable&&(t<e||n.startSide<=0),h=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(i),a&&(h.append(Tt(new ht(1),i),r),r=i.length+Math.max(0,r-i.length)),h.append(Tt(s,i),r),this.atCursorPos=l,this.pendingBuffer=l?t<e?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=r)}static build(t,e,n,r,s){let o=new At(t,e,n,s);return o.openEnd=i.Xs.spans(r,e,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Tt(t,e){for(let n of e)t=new it(n,[t],t.length);return t}class Et extends vt{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}const Dt=i.r$.define(),Pt=i.r$.define(),Rt=i.r$.define(),It=i.r$.define(),Lt=i.r$.define(),Nt=i.r$.define(),Bt=i.r$.define({combine:t=>t.some((t=>t))});class jt{constructor(t,e="nearest",n="nearest",i=5,r=5){this.range=t,this.y=e,this.x=n,this.yMargin=i,this.xMargin=r}map(t){return t.empty?this:new jt(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}const Ft=i.Py.define({map:(t,e)=>t.map(e)});function zt(t,e,n){let i=t.facet(It);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Vt=i.r$.define({combine:t=>!t.length||t[0]});let Wt=0;const Ht=i.r$.define();class $t{constructor(t,e,n,i){this.id=t,this.create=e,this.domEventHandlers=n,this.extension=i(this)}static define(t,e){const{eventHandlers:n,provide:i,decorations:r}=e||{};return new $t(Wt++,t,n,(t=>{let e=[Ht.of(t)];return r&&e.push(Qt.of((e=>{let n=e.plugin(t);return n?r(n):yt.none}))),i&&e.push(i(t)),e}))}static fromClass(t,e){return $t.define((e=>new t(e)),e)}}class Ut{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(zt(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(n){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){zt(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(n){zt(t.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const qt=i.r$.define(),Jt=i.r$.define(),Qt=i.r$.define(),Gt=i.r$.define(),Yt=i.r$.define(),Kt=i.r$.define();class Xt{constructor(t,e,n,i){this.fromA=t,this.toA=e,this.fromB=n,this.toB=i}join(t){return new Xt(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let i=0,r=0,s=0,o=0;;i++){let a=i==t.length?null:t[i],l=s-o,h=a?a.fromB:1e9;while(r<e.length&&e[r]<h){let t=e[r],i=e[r+1],s=Math.max(o,t),a=Math.min(h,i);if(s<=a&&new Xt(s+l,a+l,s,a).addToSet(n),i>h)break;r+=2}if(!a)return n;new Xt(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),s=a.toA,o=a.toB}}}class Zt{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=i.as.empty(this.startState.doc.length);for(let i of n)this.changes=this.changes.compose(i.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new Xt(t,e,n,i)))),this.changedRanges=r;let s=t.hasFocus;s!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=s,this.flags|=1)}static create(t,e,n){return new Zt(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var te=function(t){return t[t["LTR"]=0]="LTR",t[t["RTL"]=1]="RTL",t}(te||(te={}));const ee=te.LTR,ne=te.RTL;function ie(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const re=ie("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),se=ie("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),oe=Object.create(null),ae=[];for(let ys of["()","[]","{}"]){let t=ys.charCodeAt(0),e=ys.charCodeAt(1);oe[t]=e,oe[e]=-t}function le(t){return t<=247?re[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?se[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203||8204==t?256:1}const he=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class ce{constructor(t,e,n){this.from=t,this.to=e,this.level=n}get dir(){return this.level%2?ne:ee}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,n,i){let r=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(r<0||(0!=i?i<0?o.from<e:o.to>e:t[r].level>o.level))&&(r=s)}}if(r<0)throw new RangeError("Index out of range");return r}}const ue=[];function fe(t,e){let n=t.length,i=e==ee?1:2,r=e==ee?2:1;if(!t||1==i&&!he.test(t))return de(n);for(let o=0,a=i,l=i;o<n;o++){let e=le(t.charCodeAt(o));512==e?e=a:8==e&&4==l&&(e=16),ue[o]=4==e?2:e,7&e&&(l=e),a=e}for(let o=0,a=i,l=i;o<n;o++){let t=ue[o];if(128==t)o<n-1&&a==ue[o+1]&&24&a?t=ue[o]=a:ue[o]=256;else if(64==t){let t=o+1;while(t<n&&64==ue[t])t++;let e=o&&8==a||t<n&&8==ue[t]?1==l?1:8:256;for(let n=o;n<t;n++)ue[n]=e;o=t-1}else 8==t&&1==l&&(ue[o]=1);a=t,7&t&&(l=t)}for(let o,a,l,h=0,c=0,u=0;h<n;h++)if(a=oe[o=t.charCodeAt(h)])if(a<0){for(let t=c-3;t>=0;t-=3)if(ae[t+1]==-a){let e=ae[t+2],n=2&e?i:4&e?1&e?r:i:0;n&&(ue[h]=ue[ae[t]]=n),c=t;break}}else{if(189==ae.length)break;ae[c++]=h,ae[c++]=o,ae[c++]=u}else if(2==(l=ue[h])||1==l){let t=l==i;u=t?0:1;for(let e=c-3;e>=0;e-=3){let n=ae[e+2];if(2&n)break;if(t)ae[e+2]|=2;else{if(4&n)break;ae[e+2]|=4}}}for(let o=0;o<n;o++)if(256==ue[o]){let t=o+1;while(t<n&&256==ue[t])t++;let e=1==(o?ue[o-1]:i),r=1==(t<n?ue[t]:i),s=e==r?e?1:2:i;for(let n=o;n<t;n++)ue[n]=s;o=t-1}let s=[];if(1==i)for(let o=0;o<n;){let t=o,e=1!=ue[o++];while(o<n&&e==(1!=ue[o]))o++;if(e)for(let n=o;n>t;){let e=n,i=2!=ue[--n];while(n>t&&i==(2!=ue[n-1]))n--;s.push(new ce(n,e,i?2:1))}else s.push(new ce(t,o,0))}else for(let o=0;o<n;){let t=o,e=2==ue[o++];while(o<n&&e==(2==ue[o]))o++;s.push(new ce(t,o,e?1:2))}return s}function de(t){return[new ce(0,t,0)]}let pe="";function ge(t,e,n,r,s){var o;let a=r.head-t.from,l=-1;if(0==a){if(!s||!t.length)return null;e[0].level!=n&&(a=e[0].side(!1,n),l=0)}else if(a==t.length){if(s)return null;let t=e[e.length-1];t.level!=n&&(a=t.side(!0,n),l=e.length-1)}l<0&&(l=ce.find(e,a,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));let h=e[l];a==h.side(s,n)&&(h=e[l+=s?1:-1],a=h.side(!s,n));let c=s==(h.dir==n),u=(0,i.cp)(t.text,a,c);if(pe=t.text.slice(Math.min(a,u),Math.max(a,u)),u!=h.side(s,n))return i.jT.cursor(u+t.from,c?-1:1,h.level);let f=l==(s?e.length-1:0)?null:e[l+(s?1:-1)];return f||h.level==n?f&&f.level<h.level?i.jT.cursor(f.side(!s,n)+t.from,s?1:-1,f.level):i.jT.cursor(u+t.from,s?-1:1,h.level):i.jT.cursor(s?t.to:t.from,s?-1:1,n)}const me="￿";class ve{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(i.yy.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=me}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let i=t;;){this.findPointBefore(n,i),this.readNode(i);let t=i.nextSibling;if(t==e)break;let r=j.get(i),s=j.get(t);(r&&s?r.breakAfter:(r?r.breakAfter:be(i))||be(t)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=t}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let r,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(r=i.exec(e))&&(s=r.index,o=r[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=j.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+Math.min(e,n.offset))}}function be(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class ye{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class we extends j{constructor(t){super(),this.view=t,this.compositionDeco=yt.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Ot],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Xt(0,0,0,t.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=yt.none:(t.transactions.length||this.dirty)&&(this.compositionDeco=Se(this.view,t.changes)),(tt.ie||tt.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let n=this.decorations,i=this.updateDeco(),r=Te(n,i,t.changes);return e=Xt.extendWithRanges(e,r),(0!=this.dirty||0!=e.length)&&(this.updateInner(e,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=tt.chrome||tt.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(t),this.dirty=0,t&&(t.written||n.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let r of this.children)r instanceof Ct&&r.widget instanceof _e&&i.push(r.dom);n.updateGaps(i)}updateChildren(t,e){let n=this.childCursor(e);for(let i=t.length-1;;i--){let e=i>=0?t[i]:null;if(!e)break;let{fromA:r,toA:s,fromB:o,toB:a}=e,{content:l,breakAtStart:h,openStart:c,openEnd:u}=At.build(this.view.state.doc,o,a,this.decorations,this.dynamicDecorationMap),{i:f,off:d}=n.findPos(s,1),{i:p,off:g}=n.findPos(r,-1);V(this,p,g,f,d,l,h,c,u)}}updateSelection(t=!1,e=!1){if(!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!e&&!this.mayControlSelection()||tt.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,r=this.domAtPos(i.anchor),s=i.empty?r:this.domAtPos(i.head);if(tt.gecko&&i.empty&&xe(r)){let t=document.createTextNode("");this.view.observer.ignore((()=>r.node.insertBefore(t,r.node.childNodes[r.offset]||null))),r=s=new N(t,0),n=!0}let o=this.view.observer.selectionRange;!n&&o.focusNode&&y(r.node,r.offset,o.anchorNode,o.anchorOffset)&&y(s.node,s.offset,o.focusNode,o.focusOffset)||(this.view.observer.ignore((()=>{tt.android&&tt.chrome&&this.dom.contains(o.focusNode)&&Ee(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=p(this.view.root);if(t)if(i.empty){if(tt.gecko){let t=Ce(r.node,r.offset);if(t&&3!=t){let e=Oe(r.node,r.offset,1==t?1:-1);e&&(r=new N(e,1==t?0:e.nodeValue.length))}}t.collapse(r.node,r.offset),null!=i.bidiLevel&&null!=o.cursorBidiLevel&&(o.cursorBidiLevel=i.bidiLevel)}else if(t.extend)t.collapse(r.node,r.offset),t.extend(s.node,s.offset);else{let e=document.createRange();i.anchor>i.head&&([r,s]=[s,r]),e.setEnd(s.node,s.offset),e.setStart(r.node,r.offset),t.removeAllRanges(),t.addRange(e)}else;})),this.view.observer.setSelectionRange(r,s)),this.impreciseAnchor=r.precise?null:new N(o.anchorNode,o.anchorOffset),this.impreciseHead=s.precise?null:new N(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let t=this.view.state.selection.main,e=p(this.view.root);if(!e||!t.empty||!t.assoc||!e.modify)return;let n=Ot.find(this,t.head);if(!n)return;let i=n.posAtStart;if(t.head==i||t.head==i+n.length)return;let r=this.coordsAt(t.head,-1),s=this.coordsAt(t.head,1);if(!r||!s||r.bottom>s.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let t=this.view.root.activeElement;return t==this.dom||v(this.dom,this.view.observer.selectionRange)&&!(t&&this.dom.contains(t))}nearest(t){for(let e=t;e;){let t=j.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof Ot)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){for(let n=this.length,i=this.children.length-1;;i--){let r=this.children[i],s=n-r.breakAfter-r.length;if(t>s||t==s&&r.type!=bt.WidgetBefore&&r.type!=bt.WidgetAfter&&(!i||2==e||this.children[i-1].breakAfter||this.children[i-1].type==bt.WidgetBefore&&e>-2))return r.coordsAt(t-s,e);n=s}}measureVisibleLineHeights(t){let e=[],{from:n,to:i}=t,r=this.view.contentDOM.clientWidth,s=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==te.LTR;for(let l=0,h=0;h<this.children.length;h++){let t=this.children[h],c=l+t.length;if(c>i)break;if(l>=n){let n=t.dom.getBoundingClientRect();if(e.push(n.height),s){let e=t.dom.lastChild,i=e?b(e):[];if(i.length){let t=i[i.length-1],e=a?t.right-n.left:n.right-t.left;e>o&&(o=e,this.minWidth=r,this.minWidthFrom=l,this.minWidthTo=c)}}}l=c+t.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?te.RTL:te.LTR}measureTextSize(){for(let i of this.children)if(i instanceof Ot){let t=i.measureTextSize();if(t)return t}let t,e,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let i=b(n.firstChild)[0];t=n.getBoundingClientRect().height,e=i?i.width/27:7,n.remove()})),{lineHeight:t,charWidth:e}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new z(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,i=0;;i++){let r=i==e.viewports.length?null:e.viewports[i],s=r?r.from-1:this.length;if(s>n){let i=e.lineBlockAt(s).bottom-e.lineBlockAt(n).top;t.push(yt.replace({widget:new _e(i),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!r)break;n=r.to+1}return yt.set(t)}updateDeco(){let t=this.view.state.facet(Qt).map(((t,e)=>{let n=this.dynamicDecorationMap[e]="function"==typeof t;return n?t(this.view):t}));for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let e,{range:n}=t,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!i)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,e.left),top:Math.min(i.top,e.top),right:Math.max(i.right,e.right),bottom:Math.max(i.bottom,e.bottom)});let r=0,s=0,o=0,a=0;for(let h of this.view.state.facet(Yt).map((t=>t(this.view))))if(h){let{left:t,right:e,top:n,bottom:i}=h;null!=t&&(r=Math.max(r,t)),null!=e&&(s=Math.max(s,e)),null!=n&&(o=Math.max(o,n)),null!=i&&(a=Math.max(a,i))}let l={left:i.left-r,top:i.top-o,right:i.right+s,bottom:i.bottom+a};O(this.view.scrollDOM,l,n.head<n.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==te.LTR)}}function xe(t){return 1==t.node.nodeType&&t.node.firstChild&&(0==t.offset||"false"==t.node.childNodes[t.offset-1].contentEditable)&&(t.offset==t.node.childNodes.length||"false"==t.node.childNodes[t.offset].contentEditable)}class _e extends vt{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function ke(t){let e=t.observer.selectionRange,n=e.focusNode&&Oe(e.focusNode,e.focusOffset,0);if(!n)return null;let i=t.docView.nearest(n);if(!i)return null;if(i instanceof Ot){let t=n;while(t.parentNode!=i.dom)t=t.parentNode;let e=t.previousSibling;while(e&&!j.get(e))e=e.previousSibling;let r=e?j.get(e).posAtEnd:i.posAtStart;return{from:r,to:r,node:t,text:n}}{for(;;){let{parent:t}=i;if(!t)return null;if(t instanceof Ot)break;i=t}let t=i.posAtStart;return{from:t,to:t+i.length,node:i.dom,text:n}}}function Se(t,e){let n=ke(t);if(!n)return yt.none;let{from:i,to:r,node:s,text:o}=n,a=e.mapPos(i,1),l=Math.max(a,e.mapPos(r,-1)),{state:h}=t,c=3==s.nodeType?s.nodeValue:new ve([],h).readRange(s.firstChild,null).text;if(l-a<c.length)if(h.doc.sliceString(a,Math.min(h.doc.length,a+c.length),me)==c)l=a+c.length;else{if(h.doc.sliceString(Math.max(0,l-c.length),l,me)!=c)return yt.none;a=l-c.length}else if(h.doc.sliceString(a,l,me)!=c)return yt.none;let u=j.get(s);return u instanceof ot?u=u.widget.topView:u&&(u.parent=null),yt.set(yt.replace({widget:new Me(s,o,u),inclusive:!0}).range(a,l))}class Me extends vt{constructor(t,e,n){super(),this.top=t,this.text=e,this.topView=n}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return ot}}function Oe(t,e,n){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0&&n<=0)t=t.childNodes[e-1],e=_(t);else{if(!(1==t.nodeType&&e<t.childNodes.length&&n>=0))return null;t=t.childNodes[e],e=0}}}function Ce(t,e){return 1!=t.nodeType?0:(e&&"false"==t.childNodes[e-1].contentEditable?1:0)|(e<t.childNodes.length&&"false"==t.childNodes[e].contentEditable?2:0)}class Ae{constructor(){this.changes=[]}compareRange(t,e){Mt(t,e,this.changes)}comparePoint(t,e){Mt(t,e,this.changes)}}function Te(t,e,n){let r=new Ae;return i.Xs.compare(t,e,n,r),r.changes}function Ee(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}function De(t,e,n=1){let r=t.charCategorizer(e),s=t.doc.lineAt(e),o=e-s.from;if(0==s.length)return i.jT.cursor(e);0==o?n=1:o==s.length&&(n=-1);let a=o,l=o;n<0?a=(0,i.cp)(s.text,o,!1):l=(0,i.cp)(s.text,o);let h=r(s.text.slice(a,l));while(a>0){let t=(0,i.cp)(s.text,a,!1);if(r(s.text.slice(t,a))!=h)break;a=t}while(l<s.length){let t=(0,i.cp)(s.text,l);if(r(s.text.slice(l,t))!=h)break;l=t}return i.jT.range(a+s.from,l+s.from)}function Pe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Re(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Ie(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Le(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Ne(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Be(t,e,n){let i,r,s,o,a,l,h,c,u=!1;for(let p=t.firstChild;p;p=p.nextSibling){let t=b(p);for(let f=0;f<t.length;f++){let d=t[f];r&&Ie(r,d)&&(d=Le(Ne(d,r.bottom),r.top));let g=Pe(e,d),m=Re(n,d);if(0==g&&0==m)return 3==p.nodeType?je(p,e,n):Be(p,e,n);(!i||o>m||o==m&&s>g)&&(i=p,r=d,s=g,o=m,u=!g||(g>0?f<t.length-1:f>0)),0==g?n>d.bottom&&(!h||h.bottom<d.bottom)?(a=p,h=d):n<d.top&&(!c||c.top>d.top)&&(l=p,c=d):h&&Ie(h,d)?h=Ne(h,d.bottom):c&&Ie(c,d)&&(c=Le(c,d.top))}}if(h&&h.bottom>=n?(i=a,r=h):c&&c.top<=n&&(i=l,r=c),!i)return{node:t,offset:0};let f=Math.max(r.left,Math.min(r.right,e));if(3==i.nodeType)return je(i,f,n);if(u&&"false"!=i.contentEditable)return Be(i,f,n);let d=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:d}}function je(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let i=D(t,a,a+1).getClientRects();for(let l=0;l<i.length;l++){let h=i[l];if(h.top==h.bottom)continue;o||(o=e-h.left);let c=(h.top>n?h.top-n:n-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&c<s){let n=e>=(h.left+h.right)/2,i=n;if(tt.chrome||tt.gecko){let e=D(t,a).getBoundingClientRect();e.left==h.right&&(i=!n)}if(c<=0)return{node:t,offset:a+(i?1:0)};r=a+(i?1:0),s=c}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function Fe(t,{x:e,y:n},i,r=-1){var s;let o,a=t.contentDOM.getBoundingClientRect(),l=a.top+t.viewState.paddingTop,{docHeight:h}=t.viewState,c=n-l;if(c<0)return 0;if(c>h)return t.state.doc.length;for(let v=t.defaultLineHeight/2,b=!1;;){if(o=t.elementAtHeight(c),o.type==bt.Text)break;for(;;){if(c=r>0?o.bottom+v:o.top-v,c>=0&&c<=h)break;if(b)return i?null:0;b=!0,r=-r}}n=l+c;let u=o.from;if(u<t.viewport.from)return 0==t.viewport.from?0:i?null:ze(t,a,o,e,n);if(u>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:i?null:ze(t,a,o,e,n);let f=t.dom.ownerDocument,d=t.root.elementFromPoint?t.root:f,p=d.elementFromPoint(e,n);p&&!t.contentDOM.contains(p)&&(p=null),p||(e=Math.max(a.left+1,Math.min(a.right-1,e)),p=d.elementFromPoint(e,n),p&&!t.contentDOM.contains(p)&&(p=null));let g,m=-1;if(p&&0!=(null===(s=t.docView.nearest(p))||void 0===s?void 0:s.isEditable))if(f.caretPositionFromPoint){let t=f.caretPositionFromPoint(e,n);t&&({offsetNode:g,offset:m}=t)}else if(f.caretRangeFromPoint){let i=f.caretRangeFromPoint(e,n);i&&(({startContainer:g,startOffset:m}=i),(!t.contentDOM.contains(g)||tt.safari&&Ve(g,m,e)||tt.chrome&&We(g,m,e))&&(g=void 0))}if(!g||!t.docView.dom.contains(g)){let i=Ot.find(t.docView,u);if(!i)return c>o.top+o.height/2?o.to:o.from;({node:g,offset:m}=Be(i.dom,e,n))}return t.docView.posFromDOM(g,m)}function ze(t,e,n,r,s){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=Math.floor((s-n.top)/t.defaultLineHeight);o+=e*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+(0,i.Gz)(a,o,t.state.tabSize)}function Ve(t,e,n){let i;if(3!=t.nodeType||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(1!=r.nodeType||"BR"!=r.nodeName)return!1;return D(t,i-1,i).getBoundingClientRect().left>n}function We(t,e,n){if(0!=e)return!1;for(let r=t;;){let t=r.parentNode;if(!t||1!=t.nodeType||t.firstChild!=r)return!1;if(t.classList.contains("cm-line"))break;r=t}let i=1==t.nodeType?t.getBoundingClientRect():D(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function He(t,e,n,r){let s=t.state.doc.lineAt(e.head),o=r&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(s.from),a=t.posAtCoords({x:n==(r==te.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=a)return i.jT.cursor(a,n?-1:1)}let a=Ot.find(t.docView,e.head),l=a?n?a.posAtEnd:a.posAtStart:n?s.to:s.from;return i.jT.cursor(l,n?-1:1)}function $e(t,e,n,r){let s=t.state.doc.lineAt(e.head),o=t.bidiSpans(s),a=t.textDirectionAt(s.from);for(let l=e,h=null;;){let e=ge(s,o,a,l,n),c=pe;if(!e){if(s.number==(n?t.state.doc.lines:1))return l;c="\n",s=t.state.doc.line(s.number+(n?1:-1)),o=t.bidiSpans(s),e=i.jT.cursor(n?s.from:s.to)}if(h){if(!h(c))return l}else{if(!r)return e;h=r(c)}l=e}}function Ue(t,e,n){let r=t.state.charCategorizer(e),s=r(n);return t=>{let e=r(t);return s==i.D0.Space&&(s=e),s==e}}function qe(t,e,n,r){let s=e.head,o=n?1:-1;if(s==(n?t.state.doc.length:0))return i.jT.cursor(s,e.assoc);let a,l=e.goalColumn,h=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(s),u=t.documentTop;if(c)null==l&&(l=c.left-h.left),a=o<0?c.top:c.bottom;else{let e=t.viewState.lineBlockAt(s);null==l&&(l=Math.min(h.right-h.left,t.defaultCharacterWidth*(s-e.from))),a=(o<0?e.top:e.bottom)+u}let f=h.left+l,d=null!==r&&void 0!==r?r:t.defaultLineHeight>>1;for(let p=0;;p+=10){let n=a+(d+p)*o,r=Fe(t,{x:f,y:n},!1,o);if(n<h.top||n>h.bottom||(o<0?r<s:r>s))return i.jT.cursor(r,e.assoc,void 0,l)}}function Je(t,e,n){let r=t.state.facet(Gt).map((e=>e(t)));for(;;){let t=!1;for(let s of r)s.between(n.from-1,n.from+1,((r,s,o)=>{n.from>r&&n.from<s&&(n=e.from>n.from?i.jT.cursor(r,1):i.jT.cursor(s,-1),t=!0)}));if(!t)return n}}class Qe{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in nn){let n=nn[e];t.contentDOM.addEventListener(e,(i=>{en(t,i)&&!this.ignoreDuringComposition(i)&&("keydown"==e&&this.keydown(t,i)||(this.mustFlushObserver(i)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,i)?i.preventDefault():n(t,i)))}),rn[e]),this.registeredEvents.push(e)}tt.chrome&&102==tt.chrome_version&&t.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=t.hasFocus,tt.safari&&t.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t,e){var n;let i;this.customHandlers=[];for(let r of e)if(i=null===(n=r.update(t).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:r.value,handlers:i});for(let e in i)this.registeredEvents.indexOf(e)<0&&"scroll"!=e&&(this.registeredEvents.push(e),t.contentDOM.addEventListener(e,(n=>{en(t,n)&&this.runCustomHandlers(e,t,n)&&n.preventDefault()})))}}runCustomHandlers(t,e,n){for(let r of this.customHandlers){let s=r.handlers[t];if(s)try{if(s.call(r.plugin,n,e)||n.defaultPrevented)return!0}catch(i){zt(e.state,i)}}return!1}runScrollHandlers(t,e){this.lastScrollTop=t.scrollDOM.scrollTop,this.lastScrollLeft=t.scrollDOM.scrollLeft;for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,e,t)}catch(n){zt(t.state,n)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(tt.android&&tt.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return!(!tt.ios||!(n=Ge.find((t=>t.keyCode==e.keyCode)))||e.ctrlKey||e.altKey||e.metaKey||e.synthetic)&&(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(t)),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,P(t.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(tt.safari&&!tt.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(t){return"keydown"==t.type&&229!=t.keyCode||"compositionend"==t.type&&!tt.ios}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Ge=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ye=[16,17,18,20,91,92,224,225];class Ke{constructor(t,e,n,r){this.view=t,this.style=n,this.mustSelect=r,this.lastEvent=e;let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(i.yy.allowMultipleSelections)&&Xe(t,e),this.dragMove=Ze(t,e),this.dragging=!(!tn(t,e)||1!=vn(e))&&null,!1===this.dragging&&(e.preventDefault(),this.select(e))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=t)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);!this.mustSelect&&e.eq(this.view.state.selection)&&e.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Xe(t,e){let n=t.state.facet(Dt);return n.length?n[0](e):tt.mac?e.metaKey:e.ctrlKey}function Ze(t,e){let n=t.state.facet(Pt);return n.length?n[0](e):tt.mac?!e.altKey:!e.ctrlKey}function tn(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=p(t.root);if(!i||0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let t=r[s];if(t.left<=e.clientX&&t.right>=e.clientX&&t.top<=e.clientY&&t.bottom>=e.clientY)return!0}return!1}function en(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,i=e.target;i!=t.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=j.get(i))&&n.ignoreEvent(e))return!1;return!0}const nn=Object.create(null),rn=Object.create(null),sn=tt.ie&&tt.ie_version<15||tt.ios&&tt.webkit_version<604;function on(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),an(t,n.value)}),50)}function an(t,e){let n,{state:r}=t,s=1,o=r.toText(e),a=o.lines==r.selection.ranges.length,l=null!=kn&&r.selection.ranges.every((t=>t.empty))&&kn==o.toString();if(l){let t=-1;n=r.changeByRange((n=>{let l=r.doc.lineAt(n.from);if(l.from==t)return{range:n};t=l.from;let h=r.toText((a?o.line(s++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:h},range:i.jT.cursor(n.from+h.length)}}))}else n=a?r.changeByRange((t=>{let e=o.line(s++);return{changes:{from:t.from,to:t.to,insert:e.text},range:i.jT.cursor(t.from+e.length)}})):r.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function ln(t,e,n,r){if(1==r)return i.jT.cursor(e,n);if(2==r)return De(t.state,e,n);{let n=Ot.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),s=n?n.posAtStart:r.from,o=n?n.posAtEnd:r.to;return o<t.state.doc.length&&o==r.to&&o++,i.jT.range(s,o)}}nn.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),27==e.keyCode?t.inputState.lastEscPress=Date.now():Ye.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)},nn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},nn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},rn.touchstart=rn.touchmove={passive:!0},nn.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3&&1==vn(e))return;let n=null;for(let i of t.state.facet(Rt))if(n=i(t,e),n)break;if(n||0!=e.button||(n=bn(t,e)),n){let i=t.root.activeElement!=t.contentDOM;i&&t.observer.ignore((()=>E(t.contentDOM))),t.inputState.startMouseSelection(new Ke(t,e,n,i))}};let hn=(t,e)=>t>=e.top&&t<=e.bottom,cn=(t,e,n)=>hn(e,n)&&t>=n.left&&t<=n.right;function un(t,e,n,i){let r=Ot.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&cn(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&cn(n,i,a)?1:o&&hn(i,o)?-1:1}function fn(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:un(t,n,e.clientX,e.clientY)}}const dn=tt.ie&&tt.ie_version<=11;let pn=null,gn=0,mn=0;function vn(t){if(!dn)return t.detail;let e=pn,n=mn;return pn=t,mn=Date.now(),gn=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(gn+1)%3:1}function bn(t,e){let n=fn(t,e),r=vn(e),s=t.state.selection,o=n,a=e;return{update(t){t.docChanged&&(n&&(n.pos=t.changes.mapPos(n.pos)),s=s.map(t.changes),a=null)},get(e,l,h){let c;if(a&&e.clientX==a.clientX&&e.clientY==a.clientY?c=o:(c=o=fn(t,e),a=e),!c||!n)return s;let u=ln(t,c.pos,c.bias,r);if(n.pos!=c.pos&&!l){let e=ln(t,n.pos,n.bias,r),s=Math.min(e.from,u.from),o=Math.max(e.to,u.to);u=s<u.from?i.jT.range(s,o):i.jT.range(o,s)}return l?s.replaceRange(s.main.extend(u.from,u.to)):h&&s.ranges.length>1&&s.ranges.some((t=>t.eq(u)))?yn(s,u):h?s.addRange(u):i.jT.create([u])}}}function yn(t,e){for(let n=0;;n++)if(t.ranges[n].eq(e))return i.jT.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}function wn(t,e,n,i){if(!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,o=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:r,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}function xn(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout((()=>{i.remove(),t.focus()}),50)}function _n(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:i}of t.selection.ranges){let s=t.doc.lineAt(i);s.number>r&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}nn.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:i}=t.inputState;i&&(i.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},nn.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let i=Array(n.length),r=0,s=()=>{++r==n.length&&wn(t,e,i.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(i[t]=e.result),s()},e.readAsText(n[t])}}else wn(t,e,e.dataTransfer.getData("Text"),!0)},nn.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=sn?null:e.clipboardData;n?(an(t,n.getData("text/plain")),e.preventDefault()):on(t)};let kn=null;function Sn(t){setTimeout((()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])}),10)}function Mn(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}nn.copy=nn.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=_n(t.state);if(!n&&!r)return;kn=r?n:null;let s=sn?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):xn(t,n),"cut"!=e.type||t.state.readOnly||t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})},nn.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Sn(t)},nn.blur=t=>{t.observer.clearSelectionRange(),Sn(t)},nn.compositionstart=nn.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0,t.docView.compositionDeco.size&&(t.observer.flush(),Mn(t,!0)))},nn.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout((()=>{t.inputState.composing<0&&Mn(t,!1)}),50)},nn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},nn.beforeinput=(t,e)=>{var n;let i;if(tt.chrome&&tt.android&&(i=Ge.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}};const On=["pre-wrap","normal","pre-line","break-spaces"];class Cn{constructor(){this.doc=i.xv.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;let e=1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5)));return e*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return On.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let i=t[n];i<0?n++:this.heightSamples[Math.floor(10*i)]||(e=!0,this.heightSamples[Math.floor(10*i)]=!0)}return e}refresh(t,e,n,i,r){let s=On.indexOf(t)>-1,o=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=e,this.charWidth=n,this.lineLength=i,o){this.heightSamples={};for(let t=0;t<r.length;t++){let e=r[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return o}}class An{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Tn{constructor(t,e,n,i,r){this.from=t,this.length=e,this.top=n,this.height=i,this.type=r}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new Tn(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var En=function(t){return t[t["ByPos"]=0]="ByPos",t[t["ByHeight"]=1]="ByHeight",t[t["ByPosNoHeight"]=2]="ByPosNoHeight",t}(En||(En={}));const Dn=.001;class Pn{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>Dn&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return Pn.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,i){let r=this;for(let s=i.length-1;s>=0;s--){let{fromA:o,toA:a,fromB:l,toB:h}=i[s],c=r.lineAt(o,En.ByPosNoHeight,e,0,0),u=c.to>=a?c:r.lineAt(a,En.ByPosNoHeight,e,0,0);h+=u.to-a,a=u.to;while(s>0&&c.from<=i[s-1].toA)o=i[s-1].fromA,l=i[s-1].fromB,s--,o<c.from&&(c=r.lineAt(o,En.ByPosNoHeight,e,0,0));l+=c.from-o,o=c.from;let f=Fn.build(n,t,l,h);r=r.replace(o,a,f)}return r.updateHeight(n,0)}static empty(){return new In(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,i=0,r=0;for(;;)if(e==n)if(i>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,r-=e.size}}else if(i<r){let n=t[e++];n&&(i+=n.size)}else{let e=t[--n];e&&(r+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new Nn(Pn.of(t.slice(0,e)),s,Pn.of(t.slice(n)))}}Pn.prototype.size=1;class Rn extends Pn{constructor(t,e,n){super(t,e),this.type=n}blockAt(t,e,n,i){return new Tn(i,this.length,n,this.height,this.type)}lineAt(t,e,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(t,e,n,i,r,s){t<=r+this.length&&e>=r&&s(this.blockAt(0,n,i,r))}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more&&this.setHeight(t,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class In extends Rn{constructor(t,e){super(t,e,bt.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,n){let i=n[0];return 1==n.length&&(i instanceof In||i instanceof Ln&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Ln?i=new In(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Pn.of(n)}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more?this.setHeight(t,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ln extends Pn{constructor(t){super(t,0)}lines(t,e){let n=t.lineAt(e).number,i=t.lineAt(e+this.length).number;return{firstLine:n,lastLine:i,lineHeight:this.height/(i-n+1)}}blockAt(t,e,n,i){let{firstLine:r,lastLine:s,lineHeight:o}=this.lines(e,i),a=Math.max(0,Math.min(s-r,Math.floor((t-n)/o))),{from:l,length:h}=e.line(r+a);return new Tn(l,h,n+o*a,o,bt.Text)}lineAt(t,e,n,i,r){if(e==En.ByHeight)return this.blockAt(t,n,i,r);if(e==En.ByPosNoHeight){let{from:e,to:i}=n.lineAt(t);return new Tn(e,i-e,0,0,bt.Text)}let{firstLine:s,lineHeight:o}=this.lines(n,r),{from:a,length:l,number:h}=n.lineAt(t);return new Tn(a,l,i+o*(h-s),o,bt.Text)}forEachLine(t,e,n,i,r,s){let{firstLine:o,lineHeight:a}=this.lines(n,r);for(let l=Math.max(t,r),h=Math.min(r+this.length,e);l<=h;){let e=n.lineAt(l);l==t&&(i+=a*(e.number-o)),s(new Tn(e.from,e.length,i,a,bt.Text)),i+=a,l=e.to+1}}replace(t,e,n){let i=this.length-e;if(i>0){let t=n[n.length-1];t instanceof Ln?n[n.length-1]=new Ln(t.length+i):n.push(null,new Ln(i-1))}if(t>0){let e=n[0];e instanceof Ln?n[0]=new Ln(t+e.length):n.unshift(new Ln(t-1),null)}return Pn.of(n)}decomposeLeft(t,e){e.push(new Ln(t-1),null)}decomposeRight(t,e){e.push(null,new Ln(this.length-t-1))}updateHeight(t,e=0,n=!1,i){let r=e+this.length;if(i&&i.from<=e+this.length&&i.more){let n=[],s=Math.max(e,i.from),o=-1,a=t.heightChanged;i.from>e&&n.push(new Ln(i.from-e-1).updateHeight(t,e));while(s<=r&&i.more){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let r=i.heights[i.index++];-1==o?o=r:Math.abs(r-o)>=Dn&&(o=-2);let a=new In(e,r);a.outdated=!1,n.push(a),s+=e+1}s<=r&&n.push(null,new Ln(r-s).updateHeight(t,s));let l=Pn.of(n);return t.heightChanged=a||o<0||Math.abs(l.height-this.height)>=Dn||Math.abs(o-this.lines(t.doc,e).lineHeight)>=Dn,l}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Nn extends Pn{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,i){let r=n+this.left.height;return t<r?this.left.blockAt(t,e,n,i):this.right.blockAt(t,e,r,i+this.left.length+this.break)}lineAt(t,e,n,i,r){let s=i+this.left.height,o=r+this.left.length+this.break,a=e==En.ByHeight?t<s:t<o,l=a?this.left.lineAt(t,e,n,i,r):this.right.lineAt(t,e,n,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let h=e==En.ByPosNoHeight?En.ByPosNoHeight:En.ByPos;return a?l.join(this.right.lineAt(o,h,n,s,o)):this.left.lineAt(o,h,n,i,r).join(l)}forEachLine(t,e,n,i,r,s){let o=i+this.left.height,a=r+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,n,i,r,s),e>=a&&this.right.forEachLine(t,e,n,o,a,s);else{let l=this.lineAt(a,En.ByPos,n,i,r);t<l.from&&this.left.forEachLine(t,l.from-1,n,i,r,s),l.to>=t&&l.from<=e&&s(l),e>l.to&&this.right.forEachLine(l.to+1,e,n,o,a,s)}}replace(t,e,n){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,n));let r=[];t>0&&this.decomposeLeft(t,r);let s=r.length;for(let o of n)r.push(o);if(t>0&&Bn(r,s-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Bn(r,t)}return Pn.of(r)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,i=n+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Pn.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,i){let{left:r,right:s}=this,o=e+r.length+this.break,a=null;return i&&i.from<=e+r.length&&i.more?a=r=r.updateHeight(t,e,n,i):r.updateHeight(t,e,n),i&&i.from<=o+s.length&&i.more?a=s=s.updateHeight(t,o,n,i):s.updateHeight(t,o,n),a?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Bn(t,e){let n,i;null==t[e]&&(n=t[e-1])instanceof Ln&&(i=t[e+1])instanceof Ln&&t.splice(e-1,3,new Ln(n.length+1+i.length))}const jn=5;class Fn{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof In?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new In(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let r=e-t;n.block?this.addBlock(new Rn(r,i,n.type)):(r||i>=jn)&&this.addLineDeco(i,r)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new In(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Ln(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof In)return t;let e=new In(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=bt.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=bt.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let n=this.ensureLine();n.length+=e,n.collapsed+=e,n.widgetHeight=Math.max(n.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof In||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new In(0,-1));let n=t;for(let i of this.nodes)i instanceof In&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(t,e,n,r){let s=new Fn(n,t);return i.Xs.spans(e,n,r,s,0),s.finish(n)}}function zn(t,e,n){let r=new Vn;return i.Xs.compare(t,e,n,r,0),r.changes}class Vn{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,i){(t<e||n&&n.heightRelevant||i&&i.heightRelevant)&&Mt(t,e,this.changes,5)}}function Wn(t,e){let n=t.getBoundingClientRect(),i=Math.max(0,n.left),r=Math.min(innerWidth,n.right),s=Math.max(0,n.top),o=Math.min(innerHeight,n.bottom),a=t.ownerDocument.body;for(let l=t.parentNode;l&&l!=a;)if(1==l.nodeType){let e=l,n=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=n.overflow){let n=e.getBoundingClientRect();i=Math.max(i,n.left),r=Math.min(r,n.right),s=Math.max(s,n.top),o=l==t.parentNode?n.bottom:Math.min(o,n.bottom)}l="absolute"==n.position||"fixed"==n.position?e.offsetParent:e.parentNode}else{if(11!=l.nodeType)break;l=l.host}return{left:i-n.left,right:Math.max(i,r)-n.left,top:s-(n.top+e),bottom:Math.max(s,o)-(n.top+e)}}function Hn(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class $n{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(t){return yt.replace({widget:new Un(this.size,t)}).range(this.from,this.to)}}class Un extends vt{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class qn{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Cn,this.scaler=Zn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=te.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=t.facet(Qt).filter((t=>"function"!=typeof t)),this.heightMap=Pn.empty().applyChanges(this.stateDeco,i.xv.empty,this.heightOracle.setDoc(t.doc),[new Xt(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=yt.set(this.lineGaps.map((t=>t.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let i=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>i>=t&&i<=e))){let{from:e,to:n}=this.lineBlockAt(i);t.push(new Jn(e,n))}}this.viewports=t.sort(((t,e)=>t.from-e.from)),this.scaler=this.heightMap.height<=7e6?Zn:new ti(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(t=>{this.viewportLines.push(1==this.scaler.scale?t:ei(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Qt).filter((t=>"function"!=typeof t));let r=t.changedRanges,s=Xt.extendWithRanges(r,zn(n,this.stateDeco,t?t.changes:i.as.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(t.flags|=2);let a=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e));let l=!t.changes.empty||2&t.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),i=this.heightOracle,r=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?te.RTL:te.LTR;let s=this.heightOracle.mustRefreshForWrapping(r),o=s||this.mustMeasureContent||this.contentDOMHeight!=e.clientHeight;this.contentDOMHeight=e.clientHeight,this.mustMeasureContent=!1;let a=0,l=0,h=parseInt(n.paddingTop)||0,c=parseInt(n.paddingBottom)||0;this.paddingTop==h&&this.paddingBottom==c||(this.paddingTop=h,this.paddingBottom=c,a|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(o=!0),this.editorWidth=t.scrollDOM.clientWidth,a|=8);let u=(this.printing?Hn:Wn)(e,this.paddingTop),f=u.top-this.pixelViewport.top,d=u.bottom-this.pixelViewport.bottom;this.pixelViewport=u;let p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(o=!0)),!this.inView)return 0;let g=e.clientWidth;if(this.contentDOMWidth==g&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=g,this.editorHeight=t.scrollDOM.clientHeight,a|=8),o){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(s=!0),s||i.lineWrapping&&Math.abs(g-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:o}=t.docView.measureTextSize();s=i.refresh(r,n,o,g/o,e),s&&(t.docView.minWidth=0,a|=8)}f>0&&d>0?l=Math.max(f,d):f<0&&d<0&&(l=Math.min(f,d)),i.heightChanged=!1;for(let n of this.viewports){let r=n.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(n);this.heightMap=this.heightMap.updateHeight(i,0,s,new An(n.from,r))}i.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&a||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,r=this.state.doc,{visibleTop:s,visibleBottom:o}=this,a=new Jn(i.lineAt(s-1e3*n,En.ByHeight,r,0,0).from,i.lineAt(o+1e3*(1-n),En.ByHeight,r,0,0).to);if(e){let{head:t}=e.range;if(t<a.from||t>a.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=i.lineAt(t,En.ByPos,r,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<a.from?o.top:o.bottom-s,a=new Jn(i.lineAt(n-500,En.ByHeight,r,0,0).from,i.lineAt(n+s+500,En.ByHeight,r,0,0).to)}}return a}mapViewport(t,e){let n=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new Jn(this.heightMap.lineAt(n,En.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,En.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,En.ByPos,this.state.doc,0,0),{bottom:r}=this.heightMap.lineAt(e,En.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||i<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||r>=o+Math.max(10,Math.min(n,250)))&&i>s-2e3&&r<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let i of t)e.touchesRange(i.from,i.to)||n.push(new $n(e.mapPos(i.from),e.mapPos(i.to),i.size));return n}ensureLineGaps(t){let e=[];if(this.defaultTextDirection!=te.LTR)return e;for(let n of this.viewportLines){if(n.length<4e3)continue;let i,r,s=Qn(n.from,n.to,this.stateDeco);if(s.total<4e3)continue;if(this.heightOracle.lineWrapping){let t=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;i=Gn(s,(this.visibleTop-n.top-t)/n.height),r=Gn(s,(this.visibleBottom-n.top+t)/n.height)}else{let t=s.total*this.heightOracle.charWidth,e=2e3*this.heightOracle.charWidth;i=Gn(s,(this.pixelViewport.left-e)/t),r=Gn(s,(this.pixelViewport.right+e)/t)}let o=[];i>n.from&&o.push({from:n.from,to:i}),r<n.to&&o.push({from:r,to:n.to});let a=this.state.selection.main;a.from>=n.from&&a.from<=n.to&&Kn(o,a.from-10,a.from+10),!a.empty&&a.to>=n.from&&a.to<=n.to&&Kn(o,a.to-10,a.to+10);for(let{from:l,to:h}of o)h-l>1e3&&e.push(Xn(t,(t=>t.from>=n.from&&t.to<=n.to&&Math.abs(t.from-l)<1e3&&Math.abs(t.to-h)<1e3))||new $n(l,h,this.gapSize(n,l,h,s)))}return e}gapSize(t,e,n,i){let r=Yn(i,n)-Yn(i,e);return this.heightOracle.lineWrapping?t.height*r:i.total*this.heightOracle.charWidth*r}updateLineGaps(t){$n.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=yt.set(t.map((t=>t.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];i.Xs.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||ei(this.heightMap.lineAt(t,En.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(t){return ei(this.heightMap.lineAt(this.scaler.fromDOM(t),En.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(t){return ei(this.heightMap.blockAt(this.scaler.fromDOM(t),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Jn{constructor(t,e){this.from=t,this.to=e}}function Qn(t,e,n){let r=[],s=t,o=0;return i.Xs.spans(n,t,e,{span(){},point(t,e){t>s&&(r.push({from:s,to:t}),o+=t-s),s=e}},20),s<e&&(r.push({from:s,to:e}),o+=e-s),{total:o,ranges:r}}function Gn({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:t,to:n}=e[r],s=n-t;if(i<=s)return t+i;i-=s}}function Yn(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function Kn(t,e,n){for(let i=0;i<t.length;i++){let r=t[i];if(r.from<n&&r.to>e){let s=[];r.from<e&&s.push({from:r.from,to:e}),r.to>n&&s.push({from:n,to:r.to}),t.splice(i,1,...s),i+=s.length-1}}}function Xn(t,e){for(let n of t)if(e(n))return n}const Zn={toDOM(t){return t},fromDOM(t){return t},scale:1};class ti{constructor(t,e,n){let i=0,r=0,s=0;this.viewports=n.map((({from:n,to:r})=>{let s=e.lineAt(n,En.ByPos,t,0,0).top,o=e.lineAt(r,En.ByPos,t,0,0).bottom;return i+=o-s,{from:n,to:r,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(e.height-i);for(let o of this.viewports)o.domTop=s+(o.top-r)*this.scale,s=o.domBottom=o.domTop+(o.bottom-o.top),r=o.bottom}toDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.top)return i+(t-n)*this.scale;if(t<=r.bottom)return r.domTop+(t-r.top);n=r.bottom,i=r.domBottom}}fromDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.domTop)return n+(t-i)/this.scale;if(t<=r.domBottom)return r.top+(t-r.domTop);n=r.bottom,i=r.domBottom}}}function ei(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Tn(t.from,t.length,n,i-n,Array.isArray(t.type)?t.type.map((t=>ei(t,e))):t.type)}const ni=i.r$.define({combine:t=>t.join(" ")}),ii=i.r$.define({combine:t=>t.indexOf(!0)>-1}),ri=r.V.newName(),si=r.V.newName(),oi=r.V.newName(),ai={"&light":"."+si,"&dark":"."+oi};function li(t,e,n){return new r.V(e,{finish(e){return/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e}})}const hi=li("."+ri,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ai),ci={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ui=tt.ie&&tt.ie_version<=11;class fi{constructor(t,e,n){this.view=t,this.onChange=e,this.onScrollChanged=n,this.active=!1,this.selectionRange=new C,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(tt.ie&&tt.ie_version<=11||tt.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),ui&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(t.scrollDOM)),this.win=t.dom.ownerDocument.defaultView,this.addWindowListeners(this.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:e}=this,n=this.selectionRange;if(e.state.facet(Vt)?e.root.activeElement!=this.dom:!v(e.dom,n))return;let i=n.anchorNode&&e.docView.nearest(n.anchorNode);i&&i.ignoreEvent(t)||((tt.ie&&tt.ie_version<=11||tt.android&&tt.chrome)&&!e.state.selection.main.empty&&n.focusNode&&y(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{view:t}=this,e=tt.safari&&11==t.root.nodeType&&m()==this.dom&&pi(this.view)||p(t.root);if(!e||this.selectionRange.eq(e))return!1;let n=v(this.dom,e);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&L(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ci),ui&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ui&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){this.delayedAndroidKey||requestAnimationFrame((()=>{let t=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||P(this.dom,t.key,t.keyCode)})),this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let t=this.queue;for(let r of this.observer.takeRecords())t.push(r);t.length&&(this.queue=[]);let e=-1,n=-1,i=!1;for(let r of t){let t=this.readMutation(r);t&&(t.typeOver&&(i=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:i}}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;t&&this.readSelectionRange();let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&v(this.dom,this.selectionRange);if(e<0&&!r)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=this.view.state,o=this.onChange(e,n,i);return this.view.state==s&&this.view.update([]),o}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.dirty|=4),"childList"==t.type){let n=di(e,t.previousSibling||t.target.previousSibling,-1),i=di(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function di(t,e,n){while(e){let i=j.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function pi(t){let e=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return y(a.node,a.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}function gi(t,e,n,r){let s,o,a=t.state.selection.main;if(e>-1){let r=t.docView.domBoundsAround(e,n,0);if(!r||t.state.readOnly)return!1;let{from:l,to:h}=r,c=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:vi(t),u=new ve(c,t.state);u.readRange(r.startDOM,r.endDOM);let f=a.from,d=null;(8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100||tt.android&&u.text.length<h-l)&&(f=a.to,d="end");let p=mi(t.state.doc.sliceString(l,h,me),u.text,f-l,d);p&&(tt.chrome&&13==t.inputState.lastKeyCode&&p.toB==p.from+2&&u.text.slice(p.from,p.toB)==me+me&&p.toB--,s={from:l+p.from,to:l+p.toA,insert:i.xv.of(u.text.slice(p.from,p.toB).split(me))}),o=bi(c,l)}else if(t.hasFocus||!t.state.facet(Vt)){let e=t.observer.selectionRange,{impreciseHead:n,impreciseAnchor:r}=t.docView,s=n&&n.node==e.focusNode&&n.offset==e.focusOffset||!g(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),l=r&&r.node==e.anchorNode&&r.offset==e.anchorOffset||!g(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);s==a.head&&l==a.anchor||(o=i.jT.single(l,s))}if(!s&&!o)return!1;if(!s&&r&&!a.empty&&o&&o.main.empty?s={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,a.to)}:s&&s.from>=a.from&&s.to<=a.to&&(s.from!=a.from||s.to!=a.to)&&a.to-a.from-(s.to-s.from)<=4?s={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,s.from).append(s.insert).append(t.state.doc.slice(s.to,a.to))}:(tt.mac||tt.android)&&s&&s.from==s.to&&s.from==a.head-1&&"."==s.insert.toString()&&(s={from:a.from,to:a.to,insert:i.xv.of([" "])}),s){let e=t.state;if(tt.ios&&t.inputState.flushIOSKey(t))return!0;if(tt.android&&(s.from==a.from&&s.to==a.to&&1==s.insert.length&&2==s.insert.lines&&P(t.contentDOM,"Enter",13)||s.from==a.from-1&&s.to==a.to&&0==s.insert.length&&P(t.contentDOM,"Backspace",8)||s.from==a.from&&s.to==a.to+1&&0==s.insert.length&&P(t.contentDOM,"Delete",46)))return!0;let n,r=s.insert.toString();if(t.state.facet(Nt).some((e=>e(t,s.from,s.to,r))))return!0;if(t.inputState.composing>=0&&t.inputState.composing++,s.from>=a.from&&s.to<=a.to&&s.to-s.from>=(a.to-a.from)/3&&(!o||o.main.empty&&o.main.from==s.from+s.insert.length)&&t.inputState.composing<0){let i=a.from<s.from?e.sliceDoc(a.from,s.from):"",r=a.to>s.to?e.sliceDoc(s.to,a.to):"";n=e.replaceSelection(t.state.toText(i+s.insert.sliceString(0,void 0,t.state.lineBreak)+r))}else{let r=e.changes(s),l=o&&!e.selection.main.eq(o.main)&&o.main.to<=r.newLength?o.main:void 0;if(e.selection.ranges.length>1&&t.inputState.composing>=0&&s.to<=a.to&&s.to>=a.to-10){let o=t.state.sliceDoc(s.from,s.to),h=ke(t)||t.state.doc.lineAt(a.head),c=a.to-s.to,u=a.to-a.from;n=e.changeByRange((n=>{if(n.from==a.from&&n.to==a.to)return{changes:r,range:l||n.map(r)};let f=n.to-c,d=f-o.length;if(n.to-n.from!=u||t.state.sliceDoc(d,f)!=o||h&&n.to>=h.from&&n.from<=h.to)return{range:n};let p=e.changes({from:d,to:f,insert:s.insert}),g=n.to-a.to;return{changes:p,range:l?i.jT.range(Math.max(0,l.anchor+g),Math.max(0,l.head+g)):n.map(p)}}))}else n={changes:r,selection:l&&e.selection.replaceRange(l)}}let l="input.type";return t.composing&&(l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(n,{scrollIntoView:!0,userEvent:l}),!0}if(o&&!o.main.eq(a)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:o,scrollIntoView:e,userEvent:n}),!0}return!1}function mi(t,e,n,i){let r=Math.min(t.length,e.length),s=0;while(s<r&&t.charCodeAt(s)==e.charCodeAt(s))s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;while(o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1))o--,a--;if("end"==i){let t=Math.max(0,s-Math.min(o,a));n-=o+t-s}if(o<s&&t.length<e.length){let t=n<=s&&n>=o?s-n:0;s-=t,a=s+(a-o),o=s}else if(a<s){let t=n<=s&&n>=a?s-n:0;s-=t,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function vi(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new ye(n,i)),r==n&&s==i||e.push(new ye(r,s))),e}function bi(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?i.jT.single(n+e,r+e):null}class yi{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=t.root||R(t.parent)||document,this.viewState=new qn(t.state||i.yy.create(t)),this.plugins=this.state.facet(Ht).map((t=>new Ut(t)));for(let e of this.plugins)e.update(this);this.observer=new fi(this,((t,e,n)=>gi(this,t,e,n)),(t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()})),this.inputState=new Qe(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new we(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof i.YW?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=!1,s=this.state;for(let i of t){if(i.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=i.state}if(this.destroyed)return void(this.viewState.state=s);if(this.observer.clear(),s.facet(i.yy.phrases)!=this.state.facet(i.yy.phrases))return this.setState(s);e=Zt.create(this,s,t);let o=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(o&&(o=o.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;o=new jt(t.empty?t:i.jT.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(Ft)&&(o=t.value)}this.viewState.update(e,o),this.bidiCache=_i.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(Kt)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(ni)!=e.state.facet(ni)&&(this.viewState.mustMeasureContent=!0),(n||r||o||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!e.empty)for(let i of this.state.facet(Lt))i(e)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new qn(t),this.plugins=t.facet(Ht).map((t=>new Ut(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView=new we(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Ht),n=t.state.facet(Ht);if(e!=n){let i=[];for(let r of n){let n=e.indexOf(r);if(n<0)i.push(new Ut(r));else{let e=this.plugins[n];e.mustUpdate=t,i.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,{scrollHeight:n,scrollTop:i,clientHeight:r}=this.scrollDOM,s=i>n-r-4?n:i;try{for(let t=0;;t++){this.updateState=1;let n=this.viewport,i=this.viewState.lineBlockAtHeight(s),r=this.viewState.measure(this);if(!r&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&r||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map((t=>{try{return t.read(this)}catch(e){return zt(this.state,e),xi}})),h=Zt.create(this,this.state,[]),c=!1,u=!1;h.flags|=r,e?e.flags|=r:e=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),c=this.docView.update(h));for(let t=0;t<a.length;t++)if(l[t]!=xi)try{let e=a[t];e.write&&e.write(l[t],this)}catch(o){zt(this.state,o)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0;else{let t=this.viewState.lineBlockAt(i.from).top-i.top;(t>1||t<-1)&&(this.scrollDOM.scrollTop+=t,u=!0)}if(c&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!u&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let a of this.state.facet(Lt))a(e)}get themeClasses(){return ri+" "+(this.state.facet(ii)?oi:si)+" "+this.state.facet(ni)}updateAttrs(){let t=ki(this,qt,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Vt)?"true":"false",class:"cm-content",style:`${tt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),ki(this,Jt,e);let n=this.observer.ignore((()=>{let n=mt(this.contentDOM,this.contentAttrs,e),i=mt(this.dom,this.editorAttrs,t);return n||i}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)if(t.is(yi.announce)){e&&(this.announceDOM.textContent=""),e=!1;let n=this.announceDOM.appendChild(document.createElement("div"));n.textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(Kt),r.V.mount(this.root,this.styleModules.concat(hi).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),t){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return Je(this,t,$e(this,t,e,n))}moveByGroup(t,e){return Je(this,t,$e(this,t,e,(e=>Ue(this,t.head,e))))}moveToLineBoundary(t,e,n=!0){return He(this,t,e,n)}moveVertically(t,e,n){return Je(this,t,qe(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Fe(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(t),r=this.bidiSpans(i),s=r[ce.find(r,t-i.from,-1,e)];return S(n,s.dir==te.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){let e=this.state.facet(Bt);return!e||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>wi)return de(t.length);let e=this.textDirectionAt(t.from);for(let i of this.bidiCache)if(i.from==t.from&&i.dir==e)return i.order;let n=fe(t.text,e);return this.bidiCache.push(new _i(t.from,t.to,e,n)),n}get hasFocus(){var t;return(document.hasFocus()||tt.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{E(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Ft.of(new jt("number"==typeof t?i.jT.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return $t.define((()=>({})),{eventHandlers:t})}static theme(t,e){let n=r.V.newName(),i=[ni.of(n),Kt.of(li(`.${n}`,t))];return e&&e.dark&&i.push(ii.of(!0)),i}static baseTheme(t){return i.Wl.lowest(Kt.of(li("."+ri,t,ai)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),i=n&&j.get(n)||j.get(t);return(null===(e=null===i||void 0===i?void 0:i.rootView)||void 0===e?void 0:e.view)||null}}yi.styleModule=Kt,yi.inputHandler=Nt,yi.perLineTextDirection=Bt,yi.exceptionSink=It,yi.updateListener=Lt,yi.editable=Vt,yi.mouseSelectionStyle=Rt,yi.dragMovesSelection=Pt,yi.clickAddsSelectionRange=Dt,yi.decorations=Qt,yi.atomicRanges=Gt,yi.scrollMargins=Yt,yi.darkTheme=ii,yi.contentAttributes=Jt,yi.editorAttributes=qt,yi.lineWrapping=yi.contentAttributes.of({class:"cm-lineWrapping"}),yi.announce=i.Py.define();const wi=4096,xi={};class _i{constructor(t,e,n,i){this.from=t,this.to=e,this.dir=n,this.order=i}static update(t,e){if(e.empty)return t;let n=[],i=t.length?t[t.length-1].dir:te.LTR;for(let r=Math.max(0,t.length-10);r<t.length;r++){let s=t[r];s.dir!=i||e.touchesRange(s.from,s.to)||n.push(new _i(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.order))}return n}}function ki(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let e=i[r],s="function"==typeof e?e(t):e;s&&pt(s,n)}return n}const Si=tt.mac?"mac":tt.windows?"win":tt.linux?"linux":"key";function Mi(t,e){const n=t.split(/-(?!$)/);let i,r,s,o,a=n[n.length-1];"Space"==a&&(a=" ");for(let l=0;l<n.length-1;++l){const t=n[l];if(/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))i=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))s=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);"mac"==e?o=!0:r=!0}}return i&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),s&&(a="Shift-"+a),a}function Oi(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const Ci=i.Wl["default"](yi.domEventHandlers({keydown(t,e){return Li(Ei(e.state),t,e,"editor")}})),Ai=i.r$.define({enables:Ci}),Ti=new WeakMap;function Ei(t){let e=t.facet(Ai),n=Ti.get(e);return n||Ti.set(e,n=Ii(e.reduce(((t,e)=>t.concat(e)),[]))),n}function Di(t,e,n){return Li(Ei(t.state),e,t,n)}let Pi=null;const Ri=4e3;function Ii(t,e=Si){let n=Object.create(null),i=Object.create(null),r=(t,e)=>{let n=i[t];if(null==n)i[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,i,s,o)=>{let a=n[t]||(n[t]=Object.create(null)),l=i.split(/ (?!$)/).map((t=>Mi(t,e)));for(let e=1;e<l.length;e++){let n=l.slice(0,e).join(" ");r(n,!0),a[n]||(a[n]={preventDefault:!0,commands:[e=>{let i=Pi={view:e,prefix:n,scope:t};return setTimeout((()=>{Pi==i&&(Pi=null)}),Ri),!0}]})}let h=l.join(" ");r(h,!1);let c=a[h]||(a[h]={preventDefault:!1,commands:[]});c.commands.push(s),o&&(c.preventDefault=!0)};for(let o of t){let t=o[e]||o.key;if(t)for(let e of o.scope?o.scope.split(" "):["editor"])s(e,t,o.run,o.preventDefault),o.shift&&s(e,"Shift-"+t,o.shift,o.preventDefault)}return n}function Li(t,e,n,r){let a=d(e),l=(0,i.gm)(a,0),h=(0,i.nZ)(l)==a.length&&" "!=a,c="",u=!1;Pi&&Pi.view==n&&Pi.scope==r&&(c=Pi.prefix+" ",(u=Ye.indexOf(e.keyCode)<0)&&(Pi=null));let f,p=t=>{if(t){for(let e of t.commands)if(e(n))return!0;t.preventDefault&&(u=!0)}return!1},g=t[r];if(g){if(p(g[c+Oi(a,e,!h)]))return!0;if(h&&(e.shiftKey||e.altKey||e.metaKey||l>127)&&(f=s[e.keyCode])&&f!=a){if(p(g[c+Oi(f,e,!0)]))return!0;if(e.shiftKey&&o[e.keyCode]!=f&&p(g[c+Oi(o[e.keyCode],e,!1)]))return!0}else if(h&&e.shiftKey&&p(g[c+Oi(a,e,!0)]))return!0}return u}const Ni=!tt.ios,Bi=i.r$.define({combine(t){return(0,i.BO)(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function ji(t={}){return[Bi.of(t),zi,Wi]}class Fi{constructor(t,e,n,i,r){this.left=t,this.top=e,this.width=n,this.height=i,this.className=r}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width>=0&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}}const zi=$t.fromClass(class{constructor(t){this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Bi).cursorBlinkRate+"ms"}update(t){let e=t.startState.facet(Bi)!=t.state.facet(Bi);(e||t.selectionSet||t.geometryChanged||t.viewportChanged)&&this.view.requestMeasure(this.measureReq),t.transactions.some((t=>t.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:t}=this.view,e=t.facet(Bi),n=t.selection.ranges.map((t=>t.empty?[]:qi(this.view,t))).reduce(((t,e)=>t.concat(e))),i=[];for(let r of t.selection.ranges){let n=r==t.selection.main;if(r.empty?!n||Ni:e.drawRangeCursor){let t=Ji(this.view,r,n);t&&i.push(t)}}return{rangePieces:n,cursors:i}}drawSel({rangePieces:t,cursors:e}){if(t.length!=this.rangePieces.length||t.some(((t,e)=>!t.eq(this.rangePieces[e])))){this.selectionLayer.textContent="";for(let e of t)this.selectionLayer.appendChild(e.draw());this.rangePieces=t}if(e.length!=this.cursors.length||e.some(((t,e)=>!t.eq(this.cursors[e])))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const t of e)this.cursorLayer.appendChild(t.draw())}else e.forEach(((e,n)=>e.adjust(t[n])));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Vi={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Ni&&(Vi[".cm-line"].caretColor="transparent !important");const Wi=i.Wl.highest(yi.theme(Vi));function Hi(t){let e=t.scrollDOM.getBoundingClientRect(),n=t.textDirection==te.LTR?e.left:e.right-t.scrollDOM.clientWidth;return{left:n-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function $i(t,e,n){let r=i.jT.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:bt.Text}}function Ui(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==bt.Text))return i;return n}function qi(t,e){if(e.to<=t.viewport.from||e.from>=t.viewport.to)return[];let n=Math.max(e.from,t.viewport.from),i=Math.min(e.to,t.viewport.to),r=t.textDirection==te.LTR,s=t.contentDOM,o=s.getBoundingClientRect(),a=Hi(t),l=window.getComputedStyle(s.firstChild),h=o.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),c=o.right-parseInt(l.paddingRight),u=Ui(t,n),f=Ui(t,i),d=u.type==bt.Text?u:null,p=f.type==bt.Text?f:null;if(t.lineWrapping&&(d&&(d=$i(t,n,d)),p&&(p=$i(t,i,p))),d&&p&&d.from==p.from)return m(v(e.from,e.to,d));{let n=d?v(e.from,null,d):b(u,!1),i=p?v(null,e.to,p):b(f,!0),r=[];return(d||u).to<(p||f).from-1?r.push(g(h,n.bottom,c,i.top)):n.bottom<i.top&&t.elementAtHeight((n.bottom+i.top)/2).type==bt.Text&&(n.bottom=i.top=(n.bottom+i.top)/2),m(n).concat(r).concat(m(i))}function g(t,e,n,i){return new Fi(t-a.left,e-a.top-.01,n-t,i-e+.01,"cm-selectionBackground")}function m({top:t,bottom:e,horizontal:n}){let i=[];for(let r=0;r<n.length;r+=2)i.push(g(n[r],t,n[r+1],e));return i}function v(e,n,i){let s=1e9,o=-1e9,a=[];function l(e,n,l,u,f){let d=t.coordsAtPos(e,e==i.to?-2:2),p=t.coordsAtPos(l,l==i.from?2:-2);s=Math.min(d.top,p.top,s),o=Math.max(d.bottom,p.bottom,o),f==te.LTR?a.push(r&&n?h:d.left,r&&u?c:p.right):a.push(!r&&u?h:p.left,!r&&n?c:d.right)}let u=null!==e&&void 0!==e?e:i.from,f=null!==n&&void 0!==n?n:i.to;for(let r of t.visibleRanges)if(r.to>u&&r.from<f)for(let i=Math.max(r.from,u),s=Math.min(r.to,f);;){let r=t.state.doc.lineAt(i);for(let o of t.bidiSpans(r)){let t=o.from+r.from,a=o.to+r.from;if(t>=s)break;a>i&&l(Math.max(t,i),null==e&&t<=u,Math.min(a,s),null==n&&a>=f,o.dir)}if(i=r.to+1,i>=s)break}return 0==a.length&&l(u,null==e,f,null==n,t.textDirection),{top:s,bottom:o,horizontal:a}}function b(t,e){let n=o.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}function Ji(t,e,n){let i=t.coordsAtPos(e.head,e.assoc||1);if(!i)return null;let r=Hi(t);return new Fi(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const Qi=i.Py.define({map(t,e){return null==t?null:e.mapPos(t)}}),Gi=i.QQ.define({create(){return null},update(t,e){return null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(Qi)?e.value:t),t)}}),Yi=$t.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Gi);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Gi)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(Gi),e=null!=t&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Gi)!=t&&this.view.dispatch({effects:Qi.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Ki(){return[Gi,Yi]}function Xi(t,e,n,i,r){e.lastIndex=0;for(let s,o=t.iterRange(n,i),a=n;!o.next().done;a+=o.value.length)if(!o.lineBreak)while(s=e.exec(o.value))r(a+s.index,s)}function Zi(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let i=[];for(let{from:r,to:s}of n)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class tr{constructor(t){const{regexp:e,decoration:n,decorate:i,boundary:r,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,i)this.addMatch=(t,e,n,r)=>i(r,n,n+t[0].length,t,e);else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");{let t="function"==typeof n?n:()=>n;this.addMatch=(e,n,i,r)=>r(i,i+e[0].length,t(e,n,i))}}this.boundary=r,this.maxLength=s}createDeco(t){let e=new i.f_,n=e.add.bind(e);for(let{from:i,to:r}of Zi(t,this.maxLength))Xi(t.state.doc,this.regexp,i,r,((e,i)=>this.addMatch(i,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,i=-1;return t.docChanged&&t.changes.iterChanges(((e,r,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),i=Math.max(o,i))})),t.viewportChanged||i-n>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,e.map(t.changes),n,i):e}updateRange(t,e,n,i){for(let r of t.visibleRanges){let s=Math.max(r.from,n),o=Math.min(r.to,i);if(o>s){let n=t.state.doc.lineAt(s),i=n.to<o?t.state.doc.lineAt(o):n,a=Math.max(r.from,n.from),l=Math.min(r.to,i.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){a=s;break}for(;o<i.to;o++)if(this.boundary.test(i.text[o-i.from])){l=o;break}}let h,c=[],u=(t,e,n)=>c.push(n.range(t,e));if(n==i){this.regexp.lastIndex=a-n.from;while((h=this.regexp.exec(n.text))&&h.index<l-n.from)this.addMatch(h,t,h.index+n.from,u)}else Xi(t.state.doc,this.regexp,a,l,((e,n)=>this.addMatch(n,t,e,u)));e=e.update({filterFrom:a,filterTo:l,filter:(t,e)=>t<a||e>l,add:c})}}return e}}const er=null!=/x/.unicode?"gu":"g",nr=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",er),ir={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let rr=null;function sr(){var t;if(null==rr&&"undefined"!=typeof document&&document.body){let e=document.body.style;rr=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return rr||!1}const or=i.r$.define({combine(t){let e=(0,i.BO)(t,{render:null,specialChars:nr,addSpecialChars:null});return(e.replaceTabs=!sr())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,er)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,er)),e}});function ar(t={}){return[or.of(t),hr()]}let lr=null;function hr(){return lr||(lr=$t.fromClass(class{constructor(t){this.view=t,this.decorations=yt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(or)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new tr({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:s}=n.state,o=(0,i.gm)(e[0],0);if(9==o){let t=s.lineAt(r),e=n.state.tabSize,o=(0,i.IS)(t.text,e,r-t.from);return yt.replace({widget:new dr((e-o%e)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=yt.replace({widget:new fr(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(or);t.startState.facet(or)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const cr="•";function ur(t){return t>=32?cr:10==t?"␤":String.fromCharCode(9216+t)}class fr extends vt{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=ur(this.code),n=t.state.phrase("Control character")+" "+(ir[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,e);if(i)return i;let r=document.createElement("span");return r.textContent=e,r.title=n,r.setAttribute("aria-label",n),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class dr extends vt{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function pr(){return mr}const gr=yt.line({class:"cm-activeLine"}),mr=$t.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){if(!i.empty)return yt.none;let r=t.lineBlockAt(i.head);r.from>e&&(n.push(gr.range(r.from)),e=r.from)}return yt.set(n)}},{decorations:t=>t.decorations});const vr=2e3;function br(t,e,n){let r=Math.min(e.line,n.line),s=Math.max(e.line,n.line),o=[];if(e.off>vr||n.off>vr||e.col<0||n.col<0){let a=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let e=r;e<=s;e++){let n=t.doc.line(e);n.length<=l&&o.push(i.jT.range(n.from+a,n.to+l))}}else{let a=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let e=r;e<=s;e++){let n=t.doc.line(e),r=(0,i.Gz)(n.text,a,t.tabSize,!0);if(r>-1){let e=(0,i.Gz)(n.text,l,t.tabSize);o.push(i.jT.range(n.from+r,n.from+e))}}}return o}function yr(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function wr(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),s=n-r.from,o=s>vr?-1:s==r.length?yr(t,e.clientX):(0,i.IS)(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:s}}function xr(t,e){let n=wr(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,s,o){let a=wr(t,e);if(!a)return r;let l=br(t.state,n,a);return l.length?o?i.jT.create(l.concat(r.ranges)):i.jT.create(l):r}}:null}function _r(t){let e=(null===t||void 0===t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return yi.mouseSelectionStyle.of(((t,n)=>e(n)?xr(t,n):null))}const kr={Alt:[18,t=>t.altKey],Control:[17,t=>t.ctrlKey],Shift:[16,t=>t.shiftKey],Meta:[91,t=>t.metaKey]},Sr={style:"cursor: crosshair"};function Mr(t={}){let[e,n]=kr[t.key||"Alt"],i=$t.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventHandlers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)}}});return[i,yi.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.isDown)?Sr:null}))]}const Or="-10000px";class Cr{constructor(t,e,n){this.facet=e,this.createTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t)),this.tooltipViews=this.tooltips.map(n)}update(t){let e=t.state.facet(this.facet),n=e.filter((t=>t));if(e===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let i=[];for(let r=0;r<n.length;r++){let e=n[r],s=-1;if(e){for(let t=0;t<this.tooltips.length;t++){let n=this.tooltips[t];n&&n.create==e.create&&(s=t)}if(s<0)i[r]=this.createTooltipView(e);else{let e=i[r]=this.tooltipViews[s];e.update&&e.update(t)}}}for(let r of this.tooltipViews)i.indexOf(r)<0&&r.dom.remove();return this.input=e,this.tooltips=n,this.tooltipViews=i,!0}}function Ar(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Tr=i.r$.define({combine:t=>{var e,n,i;return{position:tt.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(i=t.find((t=>t.tooltipSpace)))||void 0===i?void 0:i.tooltipSpace)||Ar}}}),Er=$t.fromClass(class{constructor(t){var e;this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=t.state.facet(Tr);this.position=n.position,this.parent=n.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Cr(t,Rr,(t=>this.createTooltip(t))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(e=t.dom.ownerDocument.defaultView)||void 0===e||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(Tr);if(i.position!=this.position){this.position=i.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Or,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;null===(t=this.view.dom.ownerDocument.defaultView)||void 0===t||t.removeEventListener("resize",this.measureSoon);for(let{dom:n}of this.manager.tooltipViews)n.remove();null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(Tr).tooltipSpace(this.view)}}writeMeasure(t){let{editor:e,space:n}=t,i=[];for(let r=0;r<this.manager.tooltips.length;r++){let s=this.manager.tooltips[r],o=this.manager.tooltipViews[r],{dom:a}=o,l=t.pos[r],h=t.size[r];if(!l||l.bottom<=Math.max(e.top,n.top)||l.top>=Math.min(e.bottom,n.bottom)||l.right<Math.max(e.left,n.left)-.1||l.left>Math.min(e.right,n.right)+.1){a.style.top=Or;continue}let c=s.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,u=c?7:0,f=h.right-h.left,d=h.bottom-h.top,p=o.offset||Pr,g=this.view.textDirection==te.LTR,m=h.width>n.right-n.left?g?n.left:n.right-h.width:g?Math.min(l.left-(c?14:0)+p.x,n.right-f):Math.max(n.left,l.left-f+(c?14:0)-p.x),v=!!s.above;!s.strictSide&&(v?l.top-(h.bottom-h.top)-p.y<n.top:l.bottom+(h.bottom-h.top)+p.y>n.bottom)&&v==n.bottom-l.bottom>l.top-n.top&&(v=!v);let b=v?l.top-d-u-p.y:l.bottom+u+p.y,y=m+f;if(!0!==o.overlap)for(let t of i)t.left<y&&t.right>m&&t.top<b+d&&t.bottom>b&&(b=v?t.top-d-2-u:t.bottom+u+2);"absolute"==this.position?(a.style.top=b-t.parent.top+"px",a.style.left=m-t.parent.left+"px"):(a.style.top=b+"px",a.style.left=m+"px"),c&&(c.style.left=l.left+(g?p.x:-p.x)-(m+14-7)+"px"),!0!==o.overlap&&i.push({left:m,top:b,right:y,bottom:b+d}),a.classList.toggle("cm-tooltip-above",v),a.classList.toggle("cm-tooltip-below",!v),o.positioned&&o.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Or}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Dr=yi.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Pr={x:0,y:0},Rr=i.r$.define({enables:[Er,Dr]}),Ir=i.r$.define();class Lr{constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Cr(t,Ir,(t=>this.createHostedView(t)))}static create(t){return new Lr(t)}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned()}update(t){this.manager.update(t)}}const Nr=Rr.compute([Ir],(t=>{let e=t.facet(Ir).filter((t=>t));return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.filter((t=>null!=t.end)).map((t=>t.end))),create:Lr.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class Br{constructor(t,e,n,i,r){this.view=t,this.source=e,this.field=n,this.setHover=i,this.hoverTime=r,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:t}=this,e=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null==e)return;let n=this.view.coordsAtPos(e);if(null==n||t.y<n.top||t.y>n.bottom||t.x<n.left-this.view.defaultCharacterWidth||t.x>n.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(e)).find((t=>t.from<=e&&t.to>=e)),r=i&&i.dir==te.RTL?-1:1,s=this.source(this.view,e,t.x<n.left?-r:r);if(null===s||void 0===s?void 0:s.then){let t=this.pending={pos:e};s.then((e=>{this.pending==t&&(this.pending=null,e&&this.view.dispatch({effects:this.setHover.of(e)}))}),(t=>zt(this.view.state,t,"hover tooltip")))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!jr(this.lastMove.target)||this.pending){let{pos:i}=n||this.pending,r=null!==(e=null===n||void 0===n?void 0:n.end)&&void 0!==e?e:i;(i==r?this.view.posAtCoords(this.lastMove)==i:Fr(this.view,i,r,t.clientX,t.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function jr(t){for(let e=t;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}function Fr(t,e,n,i,r,s){let o=document.createRange(),a=t.domAtPos(e),l=t.domAtPos(n);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let h=o.getClientRects();o.detach();for(let c=0;c<h.length;c++){let t=h[c],e=Math.max(t.top-r,r-t.bottom,t.left-i,i-t.right);if(e<=s)return!0}return!1}function zr(t,e={}){let n=i.Py.define(),r=i.QQ.define({create(){return null},update(t,r){if(t&&(e.hideOnChange&&(r.docChanged||r.selection)||e.hideOn&&e.hideOn(r,t)))return null;if(t&&r.docChanged){let e=r.changes.mapPos(t.pos,-1,i.gc.TrackDel);if(null==e)return null;let n=Object.assign(Object.create(null),t);n.pos=e,null!=t.end&&(n.end=r.changes.mapPos(t.end)),t=n}for(let e of r.effects)e.is(n)&&(t=e.value),e.is(Wr)&&(t=null);return t},provide:t=>Ir.from(t)});return[r,$t.define((i=>new Br(i,t,r,n,e.hoverTime||300))),Nr]}function Vr(t,e){let n=t.plugin(Er);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const Wr=i.Py.define();const Hr=i.r$.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function $r(t,e){let n=t.plugin(Ur),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const Ur=$t.fromClass(class{constructor(t){this.input=t.state.facet(Qr),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(Hr);this.top=new qr(t,!0,e.topContainer),this.bottom=new qr(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(Hr);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new qr(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new qr(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Qr);if(n!=this.input){let e=n.filter((t=>t)),i=[],r=[],s=[],o=[];for(let n of e){let e,a=this.specs.indexOf(n);a<0?(e=n(t.view),o.push(e)):(e=this.panels[a],e.update&&e.update(t)),i.push(e),(e.top?r:s).push(e)}this.specs=e,this.panels=i,this.top.sync(r),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>yi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class qr{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){while(t!=e.dom)t=Jr(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);while(t)t=Jr(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Jr(t){let e=t.nextSibling;return t.remove(),e}const Qr=i.r$.define({enables:Ur});class Gr extends i.uU{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Gr.prototype.elementClass="",Gr.prototype.toDOM=void 0,Gr.prototype.mapMode=i.gc.TrackBefore,Gr.prototype.startSide=Gr.prototype.endSide=-1,Gr.prototype.point=!0;const Yr=i.r$.define(),Kr={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>i.Xs.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Xr=i.r$.define();function Zr(t){return[es(),Xr.of(Object.assign(Object.assign({},Kr),t))]}const ts=i.r$.define({combine:t=>t.some((t=>t))});function es(t){let e=[ns];return t&&!1===t.fixed&&e.push(ts.of(!0)),e}const ns=$t.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Xr).map((e=>new os(t,e)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(ts),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ts)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=i.Xs.iter(this.view.state.facet(Yr),this.view.viewport.from),r=[],s=this.gutters.map((t=>new ss(t,this.view.viewport,-this.view.documentPadding.top)));for(let i of this.view.viewportLineBlocks){let t;if(Array.isArray(i.type)){for(let e of i.type)if(e.type==bt.Text){t=e;break}}else t=i.type==bt.Text?i:void 0;if(t){r.length&&(r=[]),rs(n,r,i.from);for(let e of s)e.line(this.view,t,r)}}for(let i of s)i.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Xr),n=t.state.facet(Xr),r=t.docChanged||t.heightChanged||t.viewportChanged||!i.Xs.eq(t.startState.facet(Yr),t.state.facet(Yr),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new os(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>yi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==te.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null}))});function is(t){return Array.isArray(t)?t:[t]}function rs(t,e,n){while(t.value&&t.from<=n)t.from==n&&e.push(t.value),t.next()}class ss{constructor(t,e,n){this.gutter=t,this.height=n,this.localMarkers=[],this.i=0,this.cursor=i.Xs.iter(t.markers,e.from)}line(t,e,n){this.localMarkers.length&&(this.localMarkers=[]),rs(this.cursor,this.localMarkers,e.from);let i=n.length?this.localMarkers.concat(n):this.localMarkers,r=this.gutter.config.lineMarker(t,e,i);r&&i.unshift(r);let s=this.gutter;if(0==i.length&&!s.config.renderEmptyElements)return;let o=e.top-this.height;if(this.i==s.elements.length){let n=new as(t,e.height,o,i);s.elements.push(n),s.dom.appendChild(n.dom)}else s.elements[this.i].update(t,e.height,o,i);this.height=e.bottom,this.i++}finish(){let t=this.gutter;while(t.elements.length>this.i){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class os{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(i=>{let r=t.lineBlockAtHeight(i.clientY-t.documentTop);e.domEventHandlers[n](t,r,i)&&i.preventDefault()}));this.markers=is(e.markers(t)),e.initialSpacer&&(this.spacer=new as(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=is(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!i.Xs.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class as{constructor(t,e,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,i)}update(t,e,n,i){this.height!=e&&(this.dom.style.height=(this.height=e)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),ls(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,e){let n="cm-gutterElement",i=this.dom.firstChild;for(let r=0,s=0;;){let o=s,a=r<e.length?e[r++]:null,l=!1;if(a){let t=a.elementClass;t&&(n+=" "+t);for(let e=s;e<this.markers.length;e++)if(this.markers[e].compare(a)){o=e,l=!0;break}}else o=this.markers.length;while(s<o){let t=this.markers[s++];if(t.toDOM){t.destroy(i);let e=i.nextSibling;i.remove(),i=e}}if(!a)break;a.toDOM&&(l?i=i.nextSibling:this.dom.insertBefore(a.toDOM(t),i)),l&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}function ls(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const hs=i.r$.define(),cs=i.r$.define({combine(t){return(0,i.BO)(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let i in e){let t=n[i],r=e[i];n[i]=t?(e,n,i)=>t(e,n,i)||r(e,n,i):r}return n}})}});class us extends Gr{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function fs(t,e){return t.state.facet(cs).formatNumber(e,t.state)}const ds=Xr.compute([cs],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(hs)},lineMarker(t,e,n){return n.some((t=>t.toDOM))?null:new us(fs(t,t.state.doc.lineAt(e.from).number))},lineMarkerChange:t=>t.startState.facet(cs)!=t.state.facet(cs),initialSpacer(t){return new us(fs(t,gs(t.state.doc.lines)))},updateSpacer(t,e){let n=fs(e.view,gs(e.view.state.doc.lines));return n==t.number?t:new us(n)},domEventHandlers:t.facet(cs).domEventHandlers})));function ps(t={}){return[cs.of(t),es(),ds]}function gs(t){let e=9;while(e<t)e=10*e+9;return e}const ms=new class extends Gr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},vs=Yr.compute(["selection"],(t=>{let e=[],n=-1;for(let i of t.selection.ranges)if(i.empty){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(ms.range(r)))}return i.Xs.of(e)}));function bs(){return vs}},8783:function(t,e,n){"use strict";n.d(e,{Jq:function(){return l},L3:function(){return i},Lj:function(){return h},_b:function(){return D},i9:function(){return E},md:function(){return o},mp:function(){return d},vj:function(){return f}});n(1703),n(2087),n(8675),n(3462),n(7380),n(1118);const i=1024;let r=0;class s{constructor(t,e){this.from=t,this.to=e}}class o{constructor(t={}){this.id=r++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=l.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}o.closedBy=new o({deserialize:t=>t.split(" ")}),o.openedBy=new o({deserialize:t=>t.split(" ")}),o.group=new o({deserialize:t=>t.split(" ")}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});const a=Object.create(null);class l{constructor(t,e,n,i=0){this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):a,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new l(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(o.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(o.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}l.none=new l("",Object.create(null),0,8);class h{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let i=null;for(let e of t){let t=e(n);t&&(i||(i=Object.assign({},n.props)),i[t[0].id]=t[1])}e.push(i?new l(n.name,i,n.id,n.flags):n)}return new h(e)}}const c=new WeakMap,u=new WeakMap;var f;(function(t){t[t["ExcludeBuffers"]=1]="ExcludeBuffers",t[t["IncludeAnonymous"]=2]="IncludeAnonymous",t[t["IgnoreMounts"]=4]="IgnoreMounts",t[t["IgnoreOverlays"]=8]="IgnoreOverlays"})(f||(f={}));class d{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=this.prop(o.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new S(this.topNode,t)}cursorAt(t,e=0,n=0){let i=c.get(this)||this.topNode,r=new S(i);return r.moveTo(t,e),c.set(this,r._tree),r}get topNode(){return new y(this,0,0,null)}resolve(t,e=0){let n=b(c.get(this)||this.topNode,t,e,!1);return c.set(this,n),n}resolveInner(t,e=0){let n=b(u.get(this)||this.topNode,t,e,!0);return u.set(this,n),n}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t;for(let s=this.cursor((t.mode||0)|f.IncludeAnonymous);;){let t=!1;if(s.from<=r&&s.to>=i&&(s.type.isAnonymous||!1!==e(s))){if(s.firstChild())continue;t=!0}for(;;){if(t&&n&&!s.type.isAnonymous&&n(s),s.nextSibling())break;if(!s.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:T(l.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new d(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new d(l.none,t,e,n)))}static build(t){return O(t)}}d.empty=new d(l.none,[],[],0);class p{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new p(this.buffer,this.index)}}class g{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return l.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),t+=4,n==t)return r;let s=[];while(t<n)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let a=t;a!=e;a=s[a+3])if(m(r,i,s[a+1],s[a+2])&&(o=a,n>0))break;return o}slice(t,e,n,i){let r=this.buffer,s=new Uint16Array(e-t);for(let o=t,a=0;o<e;)s[a++]=r[o++],s[a++]=r[o++]-n,s[a++]=r[o++]-n,s[a++]=r[o++]-t;return new g(s,i-n,this.set)}}function m(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function v(t,e){let n=t.childBefore(e);while(n){let e=n.lastChild;if(!e||e.to!=n.to)break;e.type.isError&&e.from==e.to?(t=n,n=e.prevSibling):n=e}return t}function b(t,e,n,i){var r;while(t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e)){let e=!i&&t instanceof y&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:f.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof y&&o.index<0&&(null===(r=a.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=a);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class y{constructor(t,e,n,i){this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i,r=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,h=e>0?a.length:-1;t!=h;t+=e){let h=a[t],c=l[t]+s.from;if(m(i,n,c,c+h.length))if(h instanceof g){if(r&f.ExcludeBuffers)continue;let o=h.findChild(0,h.buffer.length,e,n-c,i);if(o>-1)return new k(new _(s,h,t,c),null,o)}else if(r&f.IncludeAnonymous||!h.type.isAnonymous||M(h)){let a;if(!(r&f.IgnoreMounts)&&h.props&&(a=h.prop(o.mounted))&&!a.overlay)return new y(a.tree,c,t,s);let l=new y(h,c,t,s);return r&f.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?h.children.length-1:0,e,n,i)}}if(r&f.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let i;if(!(n&f.IgnoreOverlays)&&(i=this._tree.prop(o.mounted))&&i.overlay){let n=t-this.from;for(let{from:t,to:r}of i.overlay)if((e>0?t<=n:t<n)&&(e<0?r>=n:r>n))return new y(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;while(t.type.isAnonymous&&t._parent)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(t=0){return new S(this,t)}get tree(){return this._tree}toTree(){return this._tree}resolve(t,e=0){return b(this,t,e,!1)}resolveInner(t,e=0){return b(this,t,e,!0)}enterUnfinishedNodesBefore(t){return v(this,t)}getChild(t,e=null,n=null){let i=w(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return w(this,t,e,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(t){return x(this,t)}}function w(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)while(!r.type.is(n))if(!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function x(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class _{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class k{constructor(t,e,n){this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new k(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&f.ExcludeBuffers)return null;let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return r<0?null:new k(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new k(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new k(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}cursor(t=0){return new S(this,t)}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1],o=n.buffer[this.index+2];t.push(n.slice(i,r,s,o)),e.push(0)}return new d(this.type,t,e,this.to-this.from)}resolve(t,e=0){return b(this,t,e,!1)}resolveInner(t,e=0){return b(this,t,e,!0)}enterUnfinishedNodesBefore(t){return v(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,n=null){let i=w(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return w(this,t,e,n)}get node(){return this}matchContext(t){return x(this,t)}}class S{constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof y)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof y?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&f.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&f.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&f.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&f.IncludeAnonymous||t instanceof g||!t.type.isAnonymous||M(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){while(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))if(!this.parent())break;while(this.enterChild(1,t,e));return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new k(this.buffer,e,this.stack[i]);return this.bufferNode=new k(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&e&&e(this),i=this.type.isAnonymous,this.nextSibling())break;if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return x(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return x(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function M(t){return t.children.some((t=>t instanceof g||!t.type.isAnonymous||M(t)))}function O(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:s=i,reused:a=[],minRepeatType:l=r.types.length}=t,h=Array.isArray(n)?new p(n,n.length):n,c=r.types,u=0,f=0;function m(t,e,n,i,o){let{id:d,start:p,end:_,size:k}=h,S=f;while(k<0){if(h.next(),-1==k){let e=a[d];return n.push(e),void i.push(p-t)}if(-3==k)return void(u=d);if(-4==k)return void(f=d);throw new RangeError(`Unrecognized record size: ${k}`)}let M,O,C=c[d],A=p-t;if(_-p<=s&&(O=w(h.pos-e,o))){let e=new Uint16Array(O.size-O.skip),n=h.pos-O.size,i=e.length;while(h.pos>n)i=x(O.start,e,i);M=new g(e,_-O.start,r),A=O.start-t}else{let t=h.pos-k;h.next();let e=[],n=[],i=d>=l?d:-1,r=0,o=_;while(h.pos>t)i>=0&&h.id==i&&h.size>=0?(h.end<=o-s&&(b(e,n,p,r,h.end,o,i,S),r=e.length,o=h.end),h.next()):m(p,t,e,n,i);if(i>=0&&r>0&&r<e.length&&b(e,n,p,r,p,o,i,S),e.reverse(),n.reverse(),i>-1&&r>0){let t=v(C);M=T(C,e,n,0,e.length,0,_-p,t,t)}else M=y(C,e,n,_-p,S-_)}n.push(M),i.push(A)}function v(t){return(e,n,i)=>{let r,s,a=0,l=e.length-1;if(l>=0&&(r=e[l])instanceof d){if(!l&&r.type==t&&r.length==i)return r;(s=r.prop(o.lookAhead))&&(a=n[l]+r.length+s)}return y(t,e,n,i,a)}}function b(t,e,n,i,s,o,a,l){let h=[],c=[];while(t.length>i)h.push(t.pop()),c.push(e.pop()+n-s);t.push(y(r.types[a],h,c,o-s,l-o)),e.push(s-n)}function y(t,e,n,i,r=0,s){if(u){let t=[o.contextHash,u];s=s?[t].concat(s):[t]}if(r>25){let t=[o.lookAhead,r];s=s?[t].concat(s):[t]}return new d(t,e,n,i,s)}function w(t,e){let n=h.fork(),i=0,r=0,o=0,a=n.end-s,c={size:0,start:0,skip:0};t:for(let s=n.pos-t;n.pos>s;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=r,c.skip=o,o+=4,i+=4,n.next();continue}let h=n.pos-t;if(t<0||h<s||n.start<a)break;let u=n.id>=l?4:0,f=n.start;n.next();while(n.pos>h){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=l&&(u+=4);n.next()}r=f,i+=t,o+=u}return(e<0||i==t)&&(c.size=i,c.start=r,c.skip=o),c.size>4?c:void 0}function x(t,e,n){let{id:i,start:r,end:s,size:o}=h;if(h.next(),o>=0&&i<l){let a=n;if(o>4){let i=h.pos-(o-4);while(h.pos>i)n=x(t,e,n)}e[--n]=a,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==o?u=i:-4==o&&(f=i);return n}let _=[],k=[];while(h.pos>0)m(t.start||0,t.bufferStart||0,_,k,-1);let S=null!==(e=t.length)&&void 0!==e?e:_.length?k[0]+_[0].length:0;return new d(c[t.topID],_.reverse(),k.reverse(),S)}const C=new WeakMap;function A(t,e){if(!t.isAnonymous||e instanceof g||e.type!=t)return 1;let n=C.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof d)){n=1;break}n+=A(t,i)}C.set(e,n)}return n}function T(t,e,n,i,r,s,o,a,l){let h=0;for(let p=i;p<r;p++)h+=A(t,e[p]);let c=Math.ceil(1.5*h/8),u=[],f=[];function d(e,n,i,r,o){for(let a=i;a<r;){let i=a,h=n[a],p=A(t,e[a]);for(a++;a<r;a++){let n=A(t,e[a]);if(p+n>=c)break;p+=n}if(a==i+1){if(p>c){let t=e[i];d(t.children,t.positions,0,t.children.length,n[i]+o);continue}u.push(e[i])}else{let r=n[a-1]+e[a-1].length-h;u.push(T(t,e,n,i,a,h,r,null,l))}f.push(h+o-s)}}return d(e,n,i,r,0),(a||l)(u,f,o)}class E{constructor(t,e,n,i,r=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let i=[new E(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e,n=128){if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-a>=n)while(s&&s.from<c){let e=s;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new E(t,n,e.tree,e.offset+l,o>0,!!h)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class D{startParse(t,e,n){return"string"==typeof t&&(t=new P(t)),n=n?n.length?n.map((t=>new s(t.from,t.to))):[new s(0,0)]:[new s(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class P{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new o({perNode:!0})},1048:function(t,e,n){"use strict";n.d(e,{Gv:function(){return c},QR:function(){return d},bW:function(){return g},pJ:function(){return P}});n(1703),n(2262),n(4506);var i=n(8783);let r=0;class s{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=r++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new s([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new a;return e=>e.modified.indexOf(t)>-1?e:a.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let o=0;class a{constructor(){this.instances=[],this.id=o++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&l(e,n.modified)));if(n)return n;let i=[],r=new s(i,t,e);for(let s of e)s.instances.push(r);let o=h(e);for(let s of t.set)for(let t of o)i.push(a.get(s,t));return r}}function l(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}function h(t){let e=[t];for(let n=0;n<t.length;n++)for(let i of h(t.slice(0,n).concat(t.slice(n+1))))e.push(i);return e}function c(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+t);let l=new f(i,r,o>0?n.slice(0,o):null);e[a]=l.sort(e[a])}}return u.add(e)}const u=new i.md;class f{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function d(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}function p(t,e){let n=null;for(let i of t){let t=i.style(e);t&&(n=n?n+" "+t:t)}return n}function g(t,e,n,i=0,r=t.length){let s=new m(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}class m{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,s){let{type:o,from:a,to:l}=t;if(a>=n||l<=e)return;o.isTop&&(s=this.highlighters.filter((t=>!t.scope||t.scope(o))));let h=r,c=o.prop(u),f=!1;while(c){if(!c.context||t.matchContext(c.context)){let t=p(s,c.tags);t&&(h&&(h+=" "),h+=t,1==c.mode?r+=(r?" ":"")+t:0==c.mode&&(f=!0));break}c=c.next}if(this.startSpan(t.from,h),f)return;let d=t.tree&&t.tree.prop(i.md.mounted);if(d&&d.overlay){let i=t.node.enter(d.overlay[0].from+a,1),o=this.highlighters.filter((t=>!t.scope||t.scope(d.tree.type))),c=t.firstChild();for(let u=0,f=a;;u++){let p=u<d.overlay.length?d.overlay[u]:null,g=p?p.from+a:l,m=Math.max(e,f),v=Math.min(n,g);if(m<v&&c)while(t.from<v)if(this.highlightRange(t,m,v,r,s),this.startSpan(Math.min(n,t.to),h),t.to>=g||!t.nextSibling())break;if(!p||g>n)break;f=p.to+a,f>e&&(this.highlightRange(i.cursor(),Math.max(e,p.from+a),Math.min(n,f),r,o),this.startSpan(f,h))}c&&t.parent()}else if(t.firstChild()){do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,s),this.startSpan(Math.min(n,t.to),h)}}while(t.nextSibling());t.parent()}}}const v=s.define,b=v(),y=v(),w=v(y),x=v(y),_=v(),k=v(_),S=v(_),M=v(),O=v(M),C=v(),A=v(),T=v(),E=v(T),D=v(),P={comment:b,lineComment:v(b),blockComment:v(b),docComment:v(b),name:y,variableName:v(y),typeName:w,tagName:v(w),propertyName:x,attributeName:v(x),className:v(y),labelName:v(y),namespace:v(y),macroName:v(y),literal:_,string:k,docString:v(k),character:v(k),attributeValue:v(k),number:S,integer:v(S),float:v(S),bool:v(_),regexp:v(_),escape:v(_),color:v(_),url:v(_),keyword:C,self:v(C),null:v(C),atom:v(C),unit:v(C),modifier:v(C),operatorKeyword:v(C),controlKeyword:v(C),definitionKeyword:v(C),moduleKeyword:v(C),operator:A,derefOperator:v(A),arithmeticOperator:v(A),logicOperator:v(A),bitwiseOperator:v(A),compareOperator:v(A),updateOperator:v(A),definitionOperator:v(A),typeOperator:v(A),controlOperator:v(A),punctuation:T,separator:v(T),bracket:E,angleBracket:v(E),squareBracket:v(E),paren:v(E),brace:v(E),content:M,heading:O,heading1:v(O),heading2:v(O),heading3:v(O),heading4:v(O),heading5:v(O),heading6:v(O),contentSeparator:v(M),list:v(M),quote:v(M),emphasis:v(M),strong:v(M),link:v(M),monospace:v(M),strikethrough:v(M),inserted:v(),deleted:v(),changed:v(),invalid:v(),meta:D,documentMeta:v(D),annotation:v(D),processingInstruction:v(D),definition:s.defineModifier(),constant:s.defineModifier(),function:s.defineModifier(),standard:s.defineModifier(),local:s.defineModifier(),special:s.defineModifier()};d([{tag:P.link,class:"tok-link"},{tag:P.heading,class:"tok-heading"},{tag:P.emphasis,class:"tok-emphasis"},{tag:P.strong,class:"tok-strong"},{tag:P.keyword,class:"tok-keyword"},{tag:P.atom,class:"tok-atom"},{tag:P.bool,class:"tok-bool"},{tag:P.url,class:"tok-url"},{tag:P.labelName,class:"tok-labelName"},{tag:P.inserted,class:"tok-inserted"},{tag:P.deleted,class:"tok-deleted"},{tag:P.literal,class:"tok-literal"},{tag:P.string,class:"tok-string"},{tag:P.number,class:"tok-number"},{tag:[P.regexp,P.escape,P.special(P.string)],class:"tok-string2"},{tag:P.variableName,class:"tok-variableName"},{tag:P.local(P.variableName),class:"tok-variableName tok-local"},{tag:P.definition(P.variableName),class:"tok-variableName tok-definition"},{tag:P.special(P.variableName),class:"tok-variableName2"},{tag:P.definition(P.propertyName),class:"tok-propertyName tok-definition"},{tag:P.typeName,class:"tok-typeName"},{tag:P.namespace,class:"tok-namespace"},{tag:P.className,class:"tok-className"},{tag:P.macroName,class:"tok-macroName"},{tag:P.propertyName,class:"tok-propertyName"},{tag:P.operator,class:"tok-operator"},{tag:P.comment,class:"tok-comment"},{tag:P.meta,class:"tok-meta"},{tag:P.invalid,class:"tok-invalid"},{tag:P.punctuation,class:"tok-punctuation"}])},741:function(t,e,n){"use strict";n.d(e,{kL:function(){return So},zX:function(){return rh}});n(1703);
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
function i(){}const r=function(){let t=0;return function(){return t++}}();function s(t){return null===t||"undefined"===typeof t}function o(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function a(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const l=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function h(t,e){return l(t)?t:e}function c(t,e){return"undefined"===typeof t?e:t}const u=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:t/e,f=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function d(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function p(t,e,n,i){let r,s,l;if(o(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(a(t))for(l=Object.keys(t),s=l.length,r=0;r<s;r++)e.call(n,t[l[r]],l[r])}function g(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function m(t){if(o(t))return t.map(m);if(a(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=m(t[n[r]]);return e}return t}function v(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function b(t,e,n,i){if(!v(t))return;const r=e[t],s=n[t];a(r)&&a(s)?y(r,s,i):e[t]=m(s)}function y(t,e,n){const i=o(e)?e:[e],r=i.length;if(!a(t))return t;n=n||{};const s=n.merger||b;for(let o=0;o<r;++o){if(e=i[o],!a(e))continue;const r=Object.keys(e);for(let i=0,o=r.length;i<o;++i)s(r[i],t,e,n)}return t}function w(t,e){return y(t,e,{merger:x})}function x(t,e,n){if(!v(t))return;const i=e[t],r=n[t];a(i)&&a(r)?w(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=m(r))}const _={"":t=>t,x:t=>t.x,y:t=>t.y};function k(t,e){const n=_[e]||(_[e]=S(e));return n(t)}function S(t){const e=M(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}function M(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function O(t){return t.charAt(0).toUpperCase()+t.slice(1)}const C=t=>"undefined"!==typeof t,A=t=>"function"===typeof t,T=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function E(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const D=Math.PI,P=2*D,R=P+D,I=Number.POSITIVE_INFINITY,L=D/180,N=D/2,B=D/4,j=2*D/3,F=Math.log10,z=Math.sign;function V(t){const e=Math.round(t);t=$(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(F(t))),i=t/n,r=i<=1?1:i<=2?2:i<=5?5:10;return r*n}function W(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}function H(t){return!isNaN(parseFloat(t))&&isFinite(t)}function $(t,e,n){return Math.abs(t-e)<n}function U(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function q(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function J(t){return t*(D/180)}function Q(t){return t*(180/D)}function G(t){if(!l(t))return;let e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function Y(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*D&&(s+=P),{angle:s,distance:r}}function K(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function X(t,e){return(t-e+R)%P-D}function Z(t){return(t%P+P)%P}function tt(t,e,n,i){const r=Z(t),s=Z(e),o=Z(n),a=Z(s-r),l=Z(o-r),h=Z(r-s),c=Z(r-o);return r===s||r===o||i&&s===o||a>l&&h<c}function et(t,e,n){return Math.max(e,Math.min(n,t))}function nt(t){return et(t,-32768,32767)}function it(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function rt(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;while(r-s>1)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const st=(t,e,n,i)=>rt(t,n,i?i=>t[i][e]<=n:i=>t[i][e]<n),ot=(t,e,n)=>rt(t,n,(i=>t[i][e]>=n));function at(t,e,n){let i=0,r=t.length;while(i<r&&t[i]<e)i++;while(r>i&&t[r-1]>n)r--;return i>0||r<t.length?t.slice(i,r):t}const lt=["push","pop","shift","splice","unshift"];function ht(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),lt.forEach((e=>{const n="_onData"+O(e),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const r=i.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"===typeof t[n]&&t[n](...e)})),r}})})))}function ct(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(lt.forEach((e=>{delete t[e]})),delete t._chartjs)}function ut(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const ft=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function dt(t,e,n){const i=n||(t=>Array.prototype.slice.call(t));let r=!1,s=[];return function(...n){s=i(n),r||(r=!0,ft.call(window,(()=>{r=!1,t.apply(e,s)})))}}function pt(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const gt=t=>"start"===t?"left":"end"===t?"right":"center",mt=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2,vt=(t,e,n,i)=>{const r=i?"left":"right";return t===r?n:"center"===t?(e+n)/2:e};function bt(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:h,max:c,minDefined:u,maxDefined:f}=o.getUserBounds();u&&(r=et(Math.min(st(a,o.axis,h).lo,n?i:st(e,l,o.getPixelForValue(h)).lo),0,i-1)),s=f?et(Math.max(st(a,o.axis,c,!0).hi+1,n?0:st(e,l,o.getPixelForValue(c),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function yt(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const wt=t=>0===t||1===t,xt=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*P/n),_t=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*P/n)+1,kt={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*N),easeOutSine:t=>Math.sin(t*N),easeInOutSine:t=>-.5*(Math.cos(D*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>wt(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wt(t)?t:xt(t,.075,.3),easeOutElastic:t=>wt(t)?t:_t(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return wt(t)?t:t<.5?.5*xt(2*t,e,n):.5+.5*_t(2*t-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-kt.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*kt.easeInBounce(2*t):.5*kt.easeOutBounce(2*t-1)+.5};
/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */
function St(t){return t+.5|0}const Mt=(t,e,n)=>Math.max(Math.min(t,n),e);function Ot(t){return Mt(St(2.55*t),0,255)}function Ct(t){return Mt(St(255*t),0,255)}function At(t){return Mt(St(t/2.55)/100,0,1)}function Tt(t){return Mt(St(100*t),0,100)}const Et={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dt=[..."0123456789ABCDEF"],Pt=t=>Dt[15&t],Rt=t=>Dt[(240&t)>>4]+Dt[15&t],It=t=>(240&t)>>4===(15&t),Lt=t=>It(t.r)&&It(t.g)&&It(t.b)&&It(t.a);function Nt(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Et[t[1]],g:255&17*Et[t[2]],b:255&17*Et[t[3]],a:5===n?17*Et[t[4]]:255}:7!==n&&9!==n||(e={r:Et[t[1]]<<4|Et[t[2]],g:Et[t[3]]<<4|Et[t[4]],b:Et[t[5]]<<4|Et[t[6]],a:9===n?Et[t[7]]<<4|Et[t[8]]:255})),e}const Bt=(t,e)=>t<255?e(t):"";function jt(t){var e=Lt(t)?Pt:Rt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Bt(t.a,e):void 0}const Ft=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zt(t,e,n){const i=e*Math.min(n,1-n),r=(e,r=(e+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function Vt(t,e,n){const i=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Wt(t,e,n){const i=zt(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Ht(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function $t(t){const e=255,n=t.r/e,i=t.g/e,r=t.b/e,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,h,c;return s!==o&&(c=s-o,h=a>.5?c/(2-s-o):c/(s+o),l=Ht(n,i,r,c,s),l=60*l+.5),[0|l,h||0,a]}function Ut(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ct)}function qt(t,e,n){return Ut(zt,t,e,n)}function Jt(t,e,n){return Ut(Wt,t,e,n)}function Qt(t,e,n){return Ut(Vt,t,e,n)}function Gt(t){return(t%360+360)%360}function Yt(t){const e=Ft.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Ot(+e[5]):Ct(+e[5]));const r=Gt(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?Jt(r,s,o):"hsv"===e[1]?Qt(r,s,o):qt(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}function Kt(t,e){var n=$t(t);n[0]=Gt(n[0]+e),n=qt(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Xt(t){if(!t)return;const e=$t(t),n=e[0],i=Tt(e[1]),r=Tt(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${At(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Zt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},te={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ee(){const t={},e=Object.keys(te),n=Object.keys(Zt);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Zt[s]);s=parseInt(te[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}let ne;function ie(t){ne||(ne=ee(),ne.transparent=[0,0,0,0]);const e=ne[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const re=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function se(t){const e=re.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?Ot(t):Mt(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Ot(n):Mt(n,0,255)),i=255&(e[4]?Ot(i):Mt(i,0,255)),r=255&(e[6]?Ot(r):Mt(r,0,255)),{r:n,g:i,b:r,a:s}}}function oe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${At(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ae=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,le=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function he(t,e,n){const i=le(At(t.r)),r=le(At(t.g)),s=le(At(t.b));return{r:Ct(ae(i+n*(le(At(e.r))-i))),g:Ct(ae(r+n*(le(At(e.g))-r))),b:Ct(ae(s+n*(le(At(e.b))-s))),a:t.a+n*(e.a-t.a)}}function ce(t,e,n){if(t){let i=$t(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=qt(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function ue(t,e){return t?Object.assign(e||{},t):t}function fe(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ct(t[3]))):(e=ue(t,{r:0,g:0,b:0,a:1}),e.a=Ct(e.a)),e}function de(t){return"r"===t.charAt(0)?se(t):Yt(t)}class pe{constructor(t){if(t instanceof pe)return t;const e=typeof t;let n;"object"===e?n=fe(t):"string"===e&&(n=Nt(t)||ie(t)||de(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=ue(this._rgb);return t&&(t.a=At(t.a)),t}set rgb(t){this._rgb=fe(t)}rgbString(){return this._valid?oe(this._rgb):void 0}hexString(){return this._valid?jt(this._rgb):void 0}hslString(){return this._valid?Xt(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=he(this._rgb,t._rgb,e)),this}clone(){return new pe(this.rgb)}alpha(t){return this._rgb.a=Ct(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=St(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ce(this._rgb,2,t),this}darken(t){return ce(this._rgb,2,-t),this}saturate(t){return ce(this._rgb,1,t),this}desaturate(t){return ce(this._rgb,1,-t),this}rotate(t){return Kt(this._rgb,t),this}}function ge(t){return new pe(t)}function me(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function ve(t){return me(t)?t:ge(t)}function be(t){return me(t)?t:ge(t).saturate(.5).darken(.1).hexString()}const ye=Object.create(null),we=Object.create(null);function xe(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function _e(t,e,n){return"string"===typeof e?y(xe(t,e),n):y(xe(t,""),e)}class ke{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>be(e.backgroundColor),this.hoverBorderColor=(t,e)=>be(e.borderColor),this.hoverColor=(t,e)=>be(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return _e(this,t,e)}get(t){return xe(this,t)}describe(t,e){return _e(we,t,e)}override(t,e){return _e(ye,t,e)}route(t,e,n,i){const r=xe(this,t),s=xe(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return a(t)?Object.assign({},e,t):c(t,e)},set(t){this[o]=t}}})}}var Se=new ke({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Me(t){return!t||s(t.size)||s(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Oe(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Ce(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const l=n.length;let h,c,u,f,d;for(h=0;h<l;h++)if(f=n[h],void 0!==f&&null!==f&&!0!==o(f))a=Oe(t,r,s,a,f);else if(o(f))for(c=0,u=f.length;c<u;c++)d=f[c],void 0===d||null===d||o(d)||(a=Oe(t,r,s,a,d));t.restore();const p=s.length/2;if(p>n.length){for(h=0;h<p;h++)delete r[s[h]];s.splice(0,p)}return a}function Ae(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Te(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Ee(t,e,n,i){De(t,e,n,i,null)}function De(t,e,n,i,r){let s,o,a,l,h,c;const u=e.pointStyle,f=e.rotation,d=e.radius;let p=(f||0)*L;if(u&&"object"===typeof u&&(s=u.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(p),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),u){default:r?t.ellipse(n,i,r/2,d,0,0,P):t.arc(n,i,d,0,P),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(p)*d,i-Math.cos(p)*d),p+=j,t.lineTo(n+Math.sin(p)*d,i-Math.cos(p)*d),p+=j,t.lineTo(n+Math.sin(p)*d,i-Math.cos(p)*d),t.closePath();break;case"rectRounded":h=.516*d,l=d-h,o=Math.cos(p+B)*l,a=Math.sin(p+B)*l,t.arc(n-o,i-a,h,p-D,p-N),t.arc(n+a,i-o,h,p-N,p),t.arc(n+o,i+a,h,p,p+N),t.arc(n-a,i+o,h,p+N,p+D),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*d,c=r?r/2:l,t.rect(n-c,i-l,2*c,2*l);break}p+=B;case"rectRot":o=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-o,i-a),t.lineTo(n+a,i-o),t.lineTo(n+o,i+a),t.lineTo(n-a,i+o),t.closePath();break;case"crossRot":p+=B;case"cross":o=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"star":o=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o),p+=B,o=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"line":o=r?r/2:Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(p)*d,i+Math.sin(p)*d);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pe(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Re(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ie(t){t.restore()}function Le(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Ne(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Be(t,e,n,i,r,a={}){const l=o(e)?e:[e],h=a.strokeWidth>0&&""!==a.strokeColor;let c,u;for(t.save(),t.font=r.string,je(t,a),c=0;c<l.length;++c)u=l[c],h&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),s(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(u,n,i,a.maxWidth)),t.fillText(u,n,i,a.maxWidth),Fe(t,n,i,u,a),i+=r.lineHeight;t.restore()}function je(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),s(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Fe(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,h=n+s.actualBoundingBoxDescent,c=r.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function ze(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-N,D,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,D,N,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,N,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-N,!0),t.lineTo(n+o.topLeft,i)}const Ve=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),We=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function He(t,e){const n=(""+t).match(Ve);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const $e=t=>+t||0;function Ue(t,e){const n={},i=a(e),r=i?Object.keys(e):e,s=a(t)?i?n=>c(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=$e(s(o));return n}function qe(t){return Ue(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Je(t){return Ue(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Qe(t){const e=qe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ge(t,e){t=t||{},e=e||Se.font;let n=c(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=c(t.style,e.style);i&&!(""+i).match(We)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:c(t.family,e.family),lineHeight:He(c(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:c(t.weight,e.weight),string:""};return r.string=Me(r),r}function Ye(t,e,n,i){let r,s,a,l=!0;for(r=0,s=t.length;r<s;++r)if(a=t[r],void 0!==a&&(void 0!==e&&"function"===typeof a&&(a=a(e),l=!1),void 0!==n&&o(a)&&(a=a[n%a.length],l=!1),void 0!==a))return i&&!l&&(i.cacheable=!1),a}function Ke(t,e,n){const{min:i,max:r}=t,s=f(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Xe(t,e){return Object.assign(Object.create(t),e)}function Ze(t,e=[""],n=t,i,r=(()=>t[0])){C(i)||(i=mn("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:r,override:r=>Ze([r,...t],e,n,i)};return new Proxy(s,{deleteProperty(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get(n,i){return sn(n,i,(()=>gn(i,e,t,n)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return vn(t).includes(e)},ownKeys(t){return vn(t)},set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function tn(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:en(t,i),setContext:e=>tn(t,e,n,i),override:r=>tn(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty(e,n){return delete e[n],delete t[n],!0},get(t,e,n){return sn(t,e,(()=>on(t,e,n)))},getOwnPropertyDescriptor(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,n){return Reflect.has(t,n)},ownKeys(){return Reflect.ownKeys(t)},set(e,n,i){return t[n]=i,delete e[n],!0}})}function en(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:A(n)?n:()=>n,isIndexable:A(i)?i:()=>i}}const nn=(t,e)=>t?t+O(e):e,rn=(t,e)=>a(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function sn(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function on(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let l=i[e];return A(l)&&a.isScriptable(e)&&(l=an(e,l,t,n)),o(l)&&l.length&&(l=ln(e,l,t,a.isIndexable)),rn(e,l)&&(l=tn(l,r,s&&s[e],a)),l}function an(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||i),a.delete(t),rn(t,e)&&(e=fn(r._scopes,r,t,e)),e}function ln(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=n;if(C(s.index)&&i(t))e=e[s.index%e.length];else if(a(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const a of n){const n=fn(i,r,t,a);e.push(tn(n,s,o&&o[t],l))}}return e}function hn(t,e,n){return A(t)?t(e,n):t}const cn=(t,e)=>!0===t?e:"string"===typeof t?k(e,t):void 0;function un(t,e,n,i,r){for(const s of e){const e=cn(n,s);if(e){t.add(e);const s=hn(e._fallback,n,r);if(C(s)&&s!==n&&s!==i)return s}else if(!1===e&&C(i)&&n!==i)return null}return!1}function fn(t,e,n,i){const r=e._rootScopes,s=hn(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=dn(a,o,n,s||n,i);return null!==l&&((!C(s)||s===n||(l=dn(a,o,s,l,i),null!==l))&&Ze(Array.from(a),[""],r,s,(()=>pn(e,n,i))))}function dn(t,e,n,i,r){while(n)n=un(t,e,n,i,r);return n}function pn(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return o(r)&&a(n)?n:r}function gn(t,e,n,i){let r;for(const s of e)if(r=mn(nn(s,t),n),C(r))return rn(t,r)?fn(n,i,t,r):r}function mn(t,e){for(const n of e){if(!n)continue;const e=n[t];if(C(e))return e}}function vn(t){let e=t._keys;return e||(e=t._keys=bn(t._scopes)),e}function bn(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}function yn(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,h,c;for(a=0,l=i;a<l;++a)h=a+n,c=e[h],o[a]={r:r.parse(k(c,s),h)};return o}const wn=Number.EPSILON||1e-14,xn=(t,e)=>e<t.length&&!t[e].skip&&t[e],_n=t=>"x"===t?"y":"x";function kn(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=K(s,r),l=K(o,s);let h=a/(a+l),c=l/(a+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const u=i*h,f=i*c;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function Sn(t,e,n){const i=t.length;let r,s,o,a,l,h=xn(t,0);for(let c=0;c<i-1;++c)l=h,h=xn(t,c+1),l&&h&&($(e[c],0,wn)?n[c]=n[c+1]=0:(r=n[c]/e[c],s=n[c+1]/e[c],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[c]=r*o*e[c],n[c+1]=s*o*e[c])))}function Mn(t,e,n="x"){const i=_n(n),r=t.length;let s,o,a,l=xn(t,0);for(let h=0;h<r;++h){if(o=a,a=l,l=xn(t,h+1),!a)continue;const r=a[n],c=a[i];o&&(s=(r-o[n])/3,a[`cp1${n}`]=r-s,a[`cp1${i}`]=c-s*e[h]),l&&(s=(l[n]-r)/3,a[`cp2${n}`]=r+s,a[`cp2${i}`]=c+s*e[h])}}function On(t,e="x"){const n=_n(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,h=xn(t,0);for(o=0;o<i;++o)if(a=l,l=h,h=xn(t,o+1),l){if(h){const t=h[e]-l[e];r[o]=0!==t?(h[n]-l[n])/t:0}s[o]=a?h?z(r[o-1])!==z(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Sn(t,r,s),Mn(t,s,e)}function Cn(t,e,n){return Math.max(Math.min(t,n),e)}function An(t,e){let n,i,r,s,o,a=Pe(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Pe(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Cn(r.cp1x,e.left,e.right),r.cp1y=Cn(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Cn(r.cp2x,e.left,e.right),r.cp2y=Cn(r.cp2y,e.top,e.bottom)))}function Tn(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)On(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=kn(n,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&An(t,n)}function En(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Dn(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Pn(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const Rn=t=>window.getComputedStyle(t,null);function In(t,e){return Rn(t).getPropertyValue(e)}const Ln=["top","right","bottom","left"];function Nn(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=Ln[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Bn=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function jn(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(Bn(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}function Fn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Rn(n),s="border-box"===r.boxSizing,o=Nn(r,"padding"),a=Nn(r,"border","width"),{x:l,y:h,box:c}=jn(t,n),u=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:d,height:p}=e;return s&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/d*n.width/i),y:Math.round((h-f)/p*n.height/i)}}function zn(t,e,n){let i,r;if(void 0===e||void 0===n){const s=Dn(t);if(s){const t=s.getBoundingClientRect(),o=Rn(s),a=Nn(o,"border","width"),l=Nn(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=Pn(o.maxWidth,s,"clientWidth"),r=Pn(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||I,maxHeight:r||I}}const Vn=t=>Math.round(10*t)/10;function Wn(t,e,n,i){const r=Rn(t),s=Nn(r,"margin"),o=Pn(r.maxWidth,t,"clientWidth")||I,a=Pn(r.maxHeight,t,"clientHeight")||I,l=zn(t,e,n);let{width:h,height:c}=l;if("content-box"===r.boxSizing){const t=Nn(r,"border","width"),e=Nn(r,"padding");h-=e.width+t.width,c-=e.height+t.height}return h=Math.max(0,h-s.width),c=Math.max(0,i?Math.floor(h/i):c-s.height),h=Vn(Math.min(h,o,l.maxWidth)),c=Vn(Math.min(c,a,l.maxHeight)),h&&!c&&(c=Vn(h/2)),{width:h,height:c}}function Hn(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=r/i,t.width=s/i;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const $n=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Un(t,e){const n=In(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Jn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function Qn(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=qn(t,r,n),a=qn(r,s,n),l=qn(s,e,n),h=qn(o,a,n),c=qn(a,l,n);return qn(h,c,n)}const Gn=new Map;function Yn(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Gn.get(n);return i||(i=new Intl.NumberFormat(t,e),Gn.set(n,i)),i}function Kn(t,e,n){return Yn(e,n).format(t)}const Xn=function(t,e){return{x(n){return t+t+e-n},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},Zn=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ti(t,e,n){return t?Xn(e,n):Zn()}function ei(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ni(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ii(t){return"angle"===t?{between:tt,compare:X,normalize:Z}:{between:it,compare:(t,e)=>t-e,normalize:t=>t}}function ri({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function si(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=ii(i),l=e.length;let h,c,{start:u,end:f,loop:d}=t;if(d){for(u+=l,f+=l,h=0,c=l;h<c;++h){if(!o(a(e[u%l][i]),r,s))break;u--,f--}u%=l,f%=l}return f<u&&(f+=l),{start:u,end:f,loop:d,style:t.style}}function oi(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:h}=ii(i),{start:c,end:u,loop:f,style:d}=si(t,e,n),p=[];let g,m,v,b=!1,y=null;const w=()=>l(r,v,g)&&0!==a(r,v),x=()=>0===a(s,g)||l(s,v,g),_=()=>b||w(),k=()=>!b||x();for(let S=c,M=c;S<=u;++S)m=e[S%o],m.skip||(g=h(m[i]),g!==v&&(b=l(g,r,s),null===y&&_()&&(y=0===a(g,r)?S:M),null!==y&&k()&&(p.push(ri({start:y,end:S,loop:f,count:o,style:d})),y=null),M=S,v=g));return null!==y&&p.push(ri({start:y,end:u,loop:f,count:o,style:d})),p}function ai(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=oi(i[r],t.points,e);s.length&&n.push(...s)}return n}function li(t,e,n,i){let r=0,s=e-1;if(n&&!i)while(r<e&&!t[r].skip)r++;while(r<e&&t[r].skip)r++;r%=e,n&&(s+=r);while(s>r&&t[s%e].skip)s--;return s%=e,{start:r,end:s}}function hi(t,e,n,i){const r=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(o-1)%r,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}function ci(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=li(n,r,s,i);if(!0===i)return ui(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,h=!!t._fullLoop&&0===o&&a===r-1;return ui(t,hi(n,o,l,h),n,e)}function ui(t,e,n,i){return i&&i.setContext&&n?fi(t,e,n,i):e}function fi(t,e,n,i){const r=t._chart.getContext(),s=di(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,h=[];let c=s,u=e[0].start,f=u;function d(t,e,i,r){const s=a?-1:1;if(t!==e){t+=l;while(n[t%l].skip)t-=s;while(n[e%l].skip)e+=s;t%l!==e%l&&(h.push({start:t%l,end:e%l,loop:i,style:r}),c=r,u=e%l)}}for(const p of e){u=a?u:p.start;let t,e=n[u%l];for(f=u+1;f<=p.end;f++){const s=n[f%l];t=di(i.setContext(Xe(r,{type:"segment",p0:e,p1:s,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),pi(t,c)&&d(u,f-1,p.loop,c),e=s,c=t}u<f-1&&d(u,f-1,p.loop,c)}return h}function di(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function pi(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
class gi{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=ft.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var mi=new gi;const vi="transparent",bi={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=ve(t||vi),r=i.valid&&ve(e||vi);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class yi{constructor(t,e,n,i){const r=e[n];i=Ye([t.to,i,r,t.from]);const s=Ye([t.from,r,i]);this._active=!0,this._fn=t.fn||bi[t.type||typeof s],this._easing=kt[t.easing]||kt.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ye([t.to,e,i,t.from]),this._from=Ye([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}const wi=["x","y","borderWidth","radius","tension"],xi=["color","borderColor","backgroundColor"];Se.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const _i=Object.keys(Se.animation);Se.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),Se.set("animations",{colors:{type:"color",properties:xi},numbers:{type:"number",properties:wi}}),Se.describe("animations",{_fallback:"animation"}),Se.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class ki{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!a(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const i=t[n];if(!a(i))return;const r={};for(const t of _i)r[t]=i[t];(o(i.properties)&&i.properties||[n]).forEach((t=>{t!==n&&e.has(t)||e.set(t,r)}))}))}_animateOptions(t,e){const n=e.options,i=Mi(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&Si(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const h=e[l];let c=r[l];const u=n.get(l);if(c){if(u&&c.active()){c.update(u,h,o);continue}c.cancel()}u&&u.duration?(r[l]=c=new yi(u,t,l,h),i.push(c)):t[l]=h}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(mi.add(this._chart,n),!0):void 0}}function Si(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}function Mi(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}function Oi(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function Ci(t,e,n){if(!1===n)return!1;const i=Oi(t,n),r=Oi(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Ai(t){let e,n,i,r;return a(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}function Ti(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Ei(t,e,n,i={}){const r=t.keys,s="single"===i.mode;let o,a,h,c;if(null!==e){for(o=0,a=r.length;o<a;++o){if(h=+r[o],h===n){if(i.all)continue;break}c=t.values[h],l(c)&&(s||0===e||z(e)===z(c))&&(e+=c)}return e}}function Di(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function Pi(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Ri(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Ii(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Li(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Ni(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Bi(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,h=o.axis,c=Ri(s,o,i),u=e.length;let f;for(let d=0;d<u;++d){const t=e[d],{[l]:n,[h]:s}=t,u=t._stacks||(t._stacks={});f=u[h]=Li(r,c,n),f[a]=s,f._top=Ni(f,o,!0,i.type),f._bottom=Ni(f,o,!1,i.type)}}function ji(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Fi(t,e){return Xe(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zi(t,e,n){return Xe(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vi(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n]}}}const Wi=t=>"reset"===t||"none"===t,Hi=(t,e)=>e?t:Object.assign({},t),$i=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ti(n,!0),values:null};class Ui{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Pi(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Vi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=c(n.xAxisID,ji(t,"x")),s=e.yAxisID=c(n.yAxisID,ji(t,"y")),o=e.rAxisID=c(n.rAxisID,ji(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),h=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ct(this._data,this),t._stacked&&Vi(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(a(e))this._data=Di(e);else if(n!==e){if(n){ct(n,this);const t=this._cachedMeta;Vi(t),t._parsed=[]}e&&Object.isExtensible(e)&&ht(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Pi(e.vScale,e),e.stack!==n.stack&&(i=!0,Vi(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&Bi(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,l=r.axis;let h,c,u,f=0===t&&e===i.length||n._sorted,d=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,u=i;else{u=o(i[t])?this.parseArrayData(n,i,t,e):a(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===c[l]||d&&c[l]<d[l];for(h=0;h<e;++h)n._parsed[h+t]=c=u[h],f&&(r()&&(f=!1),d=c);n._sorted=f}s&&Bi(this,u)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),h=r===s,c=new Array(i);let u,f,d;for(u=0,f=i;u<f;++u)d=u+n,c[u]={[o]:h||r.parse(l[d],d),[a]:s.parse(e[d],d)};return c}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,h,c;for(a=0,l=i;a<l;++a)h=a+n,c=e[h],o[a]={x:r.parse(c[0],h),y:s.parse(c[1],h)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let h,c,u,f;for(h=0,c=i;h<c;++h)u=h+n,f=e[u],l[h]={x:r.parse(k(f,o),u),y:s.parse(k(f,a),u)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis],o={keys:Ti(i,!0),values:e._stacks[t.axis]};return Ei(o,s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=Ei(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=$i(e,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=Ii(o);let f,d;function p(){d=i[f];const e=d[o.axis];return!l(d[t.axis])||c>e||u<e}for(f=0;f<s;++f)if(!p()&&(this.updateRangeFromParsed(h,t,d,a),r))break;if(r)for(f=s-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(h,t,d,a);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],l(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Ai(c(this.options.clip,Ci(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(t,r,o,a),h=o;h<o+a;++h){const e=i[h];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(h=0;h<s.length;++h)s[h].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=zi(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Fi(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&C(n);if(o)return Hi(o,a);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=i?[`${t}Hover`,"hover",t,""]:[t,""],u=l.getOptionScopes(this.getDataset(),h),f=Object.keys(Se.elements[t]),d=()=>this.getContext(n,i),p=l.resolveNamedOptions(u,f,d,c);return p.$shared&&(p.$shared=a,r[s]=Object.freeze(Hi(p,a))),p}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s=`animation-${e}`,o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new ki(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Wi(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){Wi(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Wi(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,n=!0){const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Vi(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function qi(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=ut(i.sort(((t,e)=>t-e)))}return t._cache.$bar}function Ji(t){const e=t.iScale,n=qi(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(C(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function Qi(t,e,n,i){const r=n.barThickness;let o,a;return s(r)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=r*i,a=1),{chunk:o/i,ratio:a,start:e.pixels[t]-o/2}}function Gi(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const h=s-(s-Math.min(o,a))/2*l,c=Math.abs(a-o)/2*l;return{chunk:c/i,ratio:n.barPercentage,start:h}}function Yi(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),e[n.axis]=h,e._custom={barStart:l,barEnd:h,start:r,end:s,min:o,max:a}}function Ki(t,e,n,i){return o(t)?Yi(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Xi(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let h,c,u,f;for(h=n,c=n+i;h<c;++h)f=e[h],u={},u[r.axis]=a||r.parse(o[h],h),l.push(Ki(f,u,s,h));return l}function Zi(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function tr(t,e,n){return 0!==t?z(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function er(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function nr(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:h,bottom:c}=er(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=c:(s[ir(c,o,a,l)]=!0,r=h)),s[ir(r,o,a,l)]=!0,t.borderSkipped=s}function ir(t,e,n,i){return i?(t=rr(t,e,n),t=sr(t,n,e)):t=sr(t,e,n),t}function rr(t,e,n){return t===e?n:t===n?e:t}function sr(t,e,n){return"start"===t?e:"end"===t?n:t}function or(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}Ui.defaults={},Ui.prototype.datasetElementType=null,Ui.prototype.dataElementType=null;class ar extends Ui{parsePrimitiveData(t,e,n,i){return Xi(t,e,n,i)}parseArrayData(t,e,n,i){return Xi(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,h="x"===s.axis?o:a,c=[];let u,f,d,p;for(u=n,f=n+i;u<f;++u)p=e[u],d={},d[r.axis]=r.parse(k(p,l),u),c.push(Ki(k(p,h),d,s,u));return c}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=Zi(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),h=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||s(e[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,c),g=(e._stacks||{})[a.axis],m={horizontal:h,base:n.base,enableBorderRadius:!g||Zi(e._custom)||o===g._top||o===g._bottom,x:h?n.head:p.center,y:h?p.center:n.head,height:h?p.size:Math.abs(n.size),width:h?Math.abs(n.size):p.size};f&&(m.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const v=m.options||t[d].options;nr(m,v,g,o),or(m,v,c.ratio),this.updateElement(t[d],d,m,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,o=[],a=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(s(i)||isNaN(i))return!0};for(const s of i)if((void 0===e||!a(s))&&((!1===r||-1===o.indexOf(s.stack)||void 0===r&&void 0===s.stack)&&o.push(s.stack),s.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness,a=o||Ji(e);return{min:a,pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:i,minBarLength:r}}=this,o=i||0,a=this.getParsed(t),l=a._custom,h=Zi(l);let c,u,f=a[e.axis],d=0,p=n?this.applyStack(e,a,n):f;p!==f&&(d=p-f,p=f),h&&(f=l.barStart,p=l.barEnd-l.barStart,0!==f&&z(f)!==z(l.barEnd)&&(d=0),d+=f);const g=s(i)||h?d:i;let m=e.getPixelForValue(g);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(d+p):m,u=c-m,Math.abs(u)<r){u=tr(u,e,o)*r,f===o&&(m-=u/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),i=Math.min(t,n),s=Math.max(t,n);m=Math.max(Math.min(m,s),i),c=m+u}if(m===e.getPixelForValue(o)){const t=z(u)*e.getLineWidthForValue(o)/2;m+=t,u-=t}return{size:u,base:m,head:c,center:c+u/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=c(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?Gi(t,e,i,n):Qi(t,e,i,n),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=l.start+l.chunk*h+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[e.axis]&&n[r].draw(this._ctx)}}ar.id="bar",ar.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},ar.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class lr extends Ui{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=c(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=c(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:i}=e,r=this.getParsed(t),s=n.getLabelForValue(r.x),o=i.getLabelForValue(r.y),a=r._custom;return{label:e.label,value:"("+s+", "+o+(a?", "+a:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),h=s.axis,c=o.axis;for(let u=e;u<e+n;u++){const e=t[u],n=!r&&this.getParsed(u),f={},d=f[h]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[h]),p=f[c]=r?o.getBasePixel():o.getPixelForValue(n[c]);f.skip=isNaN(d)||isNaN(p),l&&(f.options=a||this.resolveDataElementOptions(u,e.active?"active":i),r&&(f.options.radius=0)),this.updateElement(e,u,f,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=c(n&&n._custom,r),i}}function hr(t,e,n){let i=1,r=1,s=0,o=0;if(e<P){const a=t,l=a+e,h=Math.cos(a),c=Math.sin(a),u=Math.cos(l),f=Math.sin(l),d=(t,e,i)=>tt(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>tt(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=d(0,h,u),m=d(N,c,f),v=p(D,h,u),b=p(D+N,c,f);i=(g-v)/2,r=(m-b)/2,s=-(g+v)/2,o=-(m+b)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}lr.id="bubble",lr.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},lr.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};class cr extends Ui{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=t=>+n[t];if(a(n[t])){const{key:t="value"}=this._parsing;o=e=>+k(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return J(this.options.rotation-90)}_getCircumference(){return J(this.options.circumference)}_getRotationExtents(){let t=P,e=-P;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min(u(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:h,rotation:c}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:g,offsetY:m}=hr(c,h,a),v=(n.width-s)/d,b=(n.height-s)/p,y=Math.max(Math.min(v,b)/2,0),w=f(this.options.radius,y),x=Math.max(w*a,0),_=(w-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*l,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/P)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options,l=a.animation,h=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&l.animateScale,f=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(e,i);let m,v=this._getRotation();for(m=0;m<e;++m)v+=this._circumference(m,r);for(m=e;m<e+n;++m){const e=this._circumference(m,r),n=t[m],s={x:h+this.offsetX,y:c+this.offsetY,startAngle:v,endAngle:v+e,circumference:e,outerRadius:d,innerRadius:f};g&&(s.options=p||this.resolveDataElementOptions(m,n.active?"active":i)),v+=e,this.updateElement(n,m,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?P*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Kn(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,o,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,o=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(c(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}cr.id="doughnut",cr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},cr.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},cr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,i)=>{const r=t.getDatasetMeta(0),s=r.controller.getStyle(i);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return o(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class ur extends Ui{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=bt(e,i,s);this._drawStart=o,this._drawCount=a,yt(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:a,_stacked:l,_dataset:h}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=H(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let b=e>0&&this.getParsed(e-1);for(let y=e;y<e+n;++y){const e=t[y],n=this.getParsed(y),p=v?e:{},w=s(n[d]),x=p[f]=o.getPixelForValue(n[f],y),_=p[d]=r||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,n,l):n[d],y);p.skip=isNaN(x)||isNaN(_)||w,p.stop=y>0&&Math.abs(n[f]-b[f])>m,g&&(p.parsed=n,p.raw=h.data[y]),u&&(p.options=c||this.resolveDataElementOptions(y,e.active?"active":i)),v||this.updateElement(e,y,p,i),b=n}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ur.id="line",ur.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},ur.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class fr extends Ui{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Kn(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return yn.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),o=(r-s)/t.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.options,a=o.animation,l=this._cachedMeta.rScale,h=l.xCenter,c=l.yCenter,u=l.getIndexAngle(0)-.5*D;let f,d=u;const p=360/this.countVisibleElements();for(f=0;f<e;++f)d+=this._computeAngle(f,i,p);for(f=e;f<e+n;f++){const e=t[f];let n=d,o=d+this._computeAngle(f,i,p),g=s.getDataVisibility(f)?l.getDistanceFromCenterForValue(this.getParsed(f).r):0;d=o,r&&(a.animateScale&&(g=0),a.animateRotate&&(n=o=u));const m={x:h,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:o,options:this.resolveDataElementOptions(f,e.active?"active":i)};this.updateElement(e,f,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?J(this.resolveDataElementOptions(t,e).angle||n):0}}fr.id="polarArea",fr.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},fr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,i)=>{const r=t.getDatasetMeta(0),s=r.controller.getStyle(i);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class dr extends cr{}dr.id="pie",dr.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class pr extends Ui{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return yn.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,h=s?r.yCenter:a.y,c={x:l,y:h,angle:a.angle,skip:isNaN(l)||isNaN(h),options:n};this.updateElement(e,o,c,i)}}}pr.id="radar",pr.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},pr.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class gr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return H(this.x)&&H(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}gr.defaults={},gr.defaultRoutes=void 0;const mr={values(t){return o(t)?t:""+t},numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=vr(t,n)}const o=F(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Kn(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=t/Math.pow(10,Math.floor(F(t)));return 1===i||2===i||5===i?mr.numeric.call(this,t,e,n):""}};function vr(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var br={formatters:mr};function yr(t,e){const n=t.options.ticks,i=n.maxTicksLimit||wr(t),r=n.major.enabled?_r(e):[],o=r.length,a=r[0],l=r[o-1],h=[];if(o>i)return kr(e,h,r,o/i),h;const c=xr(r,e,i);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(Sr(e,h,c,s(i)?0:a-i,a),t=0,n=o-1;t<n;t++)Sr(e,h,c,r[t],r[t+1]);return Sr(e,h,c,l,s(i)?e.length:l+i),h}return Sr(e,h,c),h}function wr(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function xr(t,e,n){const i=Mr(t),r=e.length/n;if(!i)return Math.max(r,1);const s=W(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}function _r(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function kr(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}function Sr(t,e,n,i,r){const s=c(i,0),o=Math.min(c(r,t.length),t.length);let a,l,h,u=0;n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),h=s;while(h<0)u++,h=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===h&&(e.push(t[l]),u++,h=Math.round(s+u*n))}function Mr(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}Se.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:br.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Se.route("scale.ticks","color","","color"),Se.route("scale.grid","color","","borderColor"),Se.route("scale.grid","borderColor","","borderColor"),Se.route("scale.title","color","","color"),Se.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),Se.describe("scales",{_fallback:"scale"}),Se.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const Or=t=>"left"===t?"right":"right"===t?"left":t,Cr=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function Ar(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function Tr(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,h=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(h-s,o-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(r-1))/2,h+=r<e?l:-l,h<s-a||h>o+a)))return h}function Er(t,e){p(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}function Dr(t){return t.drawTicks?t.tickLength:0}function Pr(t,e){if(!t.display)return 0;const n=Ge(t.font,e),i=Qe(t.padding),r=o(t.text)?t.text.length:1;return r*n.lineHeight+i.height}function Rr(t,e){return Xe(t,{scale:e,type:"scale"})}function Ir(t,e,n){return Xe(t,{tick:n,index:e,type:"tick"})}function Lr(t,e,n){let i=gt(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=Or(i)),i}function Nr(t,e,n,i){const{top:r,left:s,bottom:o,right:l,chart:h}=t,{chartArea:c,scales:u}=h;let f,d,p,g=0;const m=o-r,v=l-s;if(t.isHorizontal()){if(d=mt(i,s,l),a(n)){const t=Object.keys(n)[0],i=n[t];p=u[t].getPixelForValue(i)+m-e}else p="center"===n?(c.bottom+c.top)/2+m-e:Cr(t,n,e);f=l-s}else{if(a(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-v+e}else d="center"===n?(c.left+c.right)/2-v+e:Cr(t,n,e);p=mt(i,o,r),g="left"===n?-N:N}return{titleX:d,titleY:p,maxWidth:f,rotation:g}}class Br extends gr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=h(t,Number.POSITIVE_INFINITY),e=h(e,Number.NEGATIVE_INFINITY),n=h(n,Number.POSITIVE_INFINITY),i=h(i,Number.NEGATIVE_INFINITY),{min:h(t,n),max:h(e,i),minDefined:l(t),maxDefined:l(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:h(n,h(i,n)),max:h(i,h(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){d(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ke(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Ar(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=yr(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){d(this.options.afterUpdate,[this])}beforeSetDimensions(){d(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){d(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),d(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){d(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=d(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){d(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){d(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const h=this._getLabelSizes(),c=h.widest.width,u=h.highest.height,f=et(this.chart.width-c,0,this.maxWidth);s=t.offset?this.maxWidth/n:f/(n-1),c+6>s&&(s=f/(n-(t.offset?.5:1)),o=this.maxHeight-Dr(t.grid)-e.padding-Pr(t.title,this.chart.options.font),a=Math.sqrt(c*c+u*u),l=Q(Math.min(Math.asin(et((h.highest.height+6)/s,-1,1)),Math.asin(et(o/a,-1,1))-Math.asin(et(u/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){d(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){d(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=Pr(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=Dr(r)+s):(t.height=this.maxHeight,t.width=Dr(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=J(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(o){const e=n.mirror?0:c*r.width+h*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:h*r.width+c*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,c,h)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,u=0;a?l?(c=i*t.width,u=n*e.height):(c=n*t.height,u=i*e.width):"start"===r?u=e.width:"end"===r?c=t.width:"inner"!==r&&(c=t.width/2,u=e.width/2),this.paddingLeft=Math.max((c-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-h+s)*this.width/(this.width-h),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){d(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)s(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Ar(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:i}=this,r=[],a=[];let l,h,c,u,f,d,p,g,m,v,b,y=0,w=0;for(l=0;l<e;++l){if(u=t[l].label,f=this._resolveTickFontOptions(l),n.font=d=f.string,p=i[d]=i[d]||{data:{},gc:[]},g=f.lineHeight,m=v=0,s(u)||o(u)){if(o(u))for(h=0,c=u.length;h<c;++h)b=u[h],s(b)||o(b)||(m=Oe(n,p.data,p.gc,m,b),v+=g)}else m=Oe(n,p.data,p.gc,m,u),v=g;r.push(m),a.push(v),y=Math.max(m,y),w=Math.max(v,w)}Er(i,e);const x=r.indexOf(y),_=a.indexOf(w),k=t=>({width:r[t]||0,height:a[t]||0});return{first:k(0),last:k(e-1),widest:k(x),highest:k(_),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return nt(this._alignToPixels?Ae(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Ir(this.getContext(),t,n))}return this.$context||(this.$context=Rr(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=J(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s}=i,o=r.offset,l=this.isHorizontal(),h=this.ticks,u=h.length+(o?1:0),f=Dr(r),d=[],p=r.setContext(this.getContext()),g=p.drawBorder?p.borderWidth:0,m=g/2,v=function(t){return Ae(n,t,g)};let b,y,w,x,_,k,S,M,O,C,A,T;if("top"===s)b=v(this.bottom),k=this.bottom-f,M=b-m,C=v(t.top)+m,T=t.bottom;else if("bottom"===s)b=v(this.top),C=t.top,T=v(t.bottom)-m,k=b+m,M=this.top+f;else if("left"===s)b=v(this.right),_=this.right-f,S=b-m,O=v(t.left)+m,A=t.right;else if("right"===s)b=v(this.left),O=t.left,A=v(t.right)-m,_=b+m,S=this.left+f;else if("x"===e){if("center"===s)b=v((t.top+t.bottom)/2+.5);else if(a(s)){const t=Object.keys(s)[0],e=s[t];b=v(this.chart.scales[t].getPixelForValue(e))}C=t.top,T=t.bottom,k=b+m,M=k+f}else if("y"===e){if("center"===s)b=v((t.left+t.right)/2);else if(a(s)){const t=Object.keys(s)[0],e=s[t];b=v(this.chart.scales[t].getPixelForValue(e))}_=b-m,S=_-f,O=t.left,A=t.right}const E=c(i.ticks.maxTicksLimit,u),D=Math.max(1,Math.ceil(u/E));for(y=0;y<u;y+=D){const t=r.setContext(this.getContext(y)),e=t.lineWidth,i=t.color,s=t.borderDash||[],a=t.borderDashOffset,h=t.tickWidth,c=t.tickColor,u=t.tickBorderDash||[],f=t.tickBorderDashOffset;w=Tr(this,y,o),void 0!==w&&(x=Ae(n,w,e),l?_=S=O=A=x:k=M=C=T=x,d.push({tx1:_,ty1:k,tx2:S,ty2:M,x1:O,y1:C,x2:A,y2:T,width:e,color:i,borderDash:s,borderDashOffset:a,tickWidth:h,tickColor:c,tickBorderDash:u,tickBorderDashOffset:f}))}return this._ticksLength=u,this._borderValue=b,d}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:c,padding:u,mirror:f}=r,d=Dr(n.grid),p=d+u,g=f?-u:p,m=-J(this.labelRotation),v=[];let b,y,w,x,_,k,S,M,O,C,A,T,E="middle";if("top"===i)k=this.bottom-g,S=this._getXAxisLabelAlignment();else if("bottom"===i)k=this.top+g,S=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(d);S=t.textAlign,_=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(d);S=t.textAlign,_=t.x}else if("x"===e){if("center"===i)k=(t.top+t.bottom)/2+p;else if(a(i)){const t=Object.keys(i)[0],e=i[t];k=this.chart.scales[t].getPixelForValue(e)+p}S=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)_=(t.left+t.right)/2-p;else if(a(i)){const t=Object.keys(i)[0],e=i[t];_=this.chart.scales[t].getPixelForValue(e)}S=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===h?E="top":"end"===h&&(E="bottom"));const D=this._getLabelSizes();for(b=0,y=l.length;b<y;++b){w=l[b],x=w.label;const t=r.setContext(this.getContext(b));M=this.getPixelForTick(b)+r.labelOffset,O=this._resolveTickFontOptions(b),C=O.lineHeight,A=o(x)?x.length:1;const e=A/2,n=t.color,a=t.textStrokeColor,h=t.textStrokeWidth;let u,d=S;if(s?(_=M,"inner"===S&&(d=b===y-1?this.options.reverse?"left":"right":0===b?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===c||0!==m?-A*C+C/2:"center"===c?-D.highest.height/2-e*C+C:-D.highest.height+C/2:"near"===c||0!==m?C/2:"center"===c?D.highest.height/2-e*C:D.highest.height-A*C,f&&(T*=-1)):(k=M,T=(1-A)*C/2),t.showLabelBackdrop){const e=Qe(t.backdropPadding),n=D.heights[b],i=D.widths[b];let r=k+T-e.top,s=_-e.left;switch(E){case"middle":r-=n/2;break;case"bottom":r-=n;break}switch(S){case"center":s-=i/2;break;case"right":s-=i;break}u={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}v.push({rotation:m,label:x,font:O,color:n,strokeColor:a,strokeWidth:h,textOffset:T,textAlign:d,textBaseline:E,translation:[_,k],backdrop:u})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options,n=-J(this.labelRotation);if(n)return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=this._getLabelSizes(),o=t+r,a=s.widest.width;let l,h;return"left"===e?i?(h=this.right+r,"near"===n?l="left":"center"===n?(l="center",h+=a/2):(l="right",h+=a)):(h=this.right-o,"near"===n?l="right":"center"===n?(l="center",h-=a/2):(l="left",h=this.left)):"right"===e?i?(h=this.left+r,"near"===n?l="right":"center"===n?(l="center",h-=a/2):(l="left",h-=a)):(h=this.left+o,"near"===n?l="left":"center"===n?(l="center",h+=a/2):(l="right",h=this.right)):l="right",{textAlign:l,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks,i=n.findIndex((e=>e.value===t));if(i>=0){const t=e.setContext(this.getContext(i));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,i=n.setContext(this.getContext()),r=n.drawBorder?i.borderWidth:0;if(!r)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,l,h,c;this.isHorizontal()?(a=Ae(t,this.left,r)-r/2,l=Ae(t,this.right,s)+s/2,h=c=o):(h=Ae(t,this.top,r)-r/2,c=Ae(t,this.bottom,s)+s/2,a=l=o),e.save(),e.lineWidth=i.borderWidth,e.strokeStyle=i.borderColor,e.beginPath(),e.moveTo(a,h),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Re(n,i);const r=this._labelItems||(this._labelItems=this._computeLabelItems(t));let s,o;for(s=0,o=r.length;s<o;++s){const t=r[s],e=t.font,i=t.label;t.backdrop&&(n.fillStyle=t.backdrop.color,n.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height));let o=t.textOffset;Be(n,i,0,o,e,t)}i&&Ie(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=Ge(n.font),s=Qe(n.padding),l=n.align;let h=r.lineHeight/2;"bottom"===e||"center"===e||a(e)?(h+=s.bottom,o(n.text)&&(h+=r.lineHeight*(n.text.length-1))):h+=s.top;const{titleX:c,titleY:u,maxWidth:f,rotation:d}=Nr(this,h,e,l);Be(t,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:d,textAlign:Lr(l,e,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=c(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Br.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ge(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class jr{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Vr(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,Fr(t,s,n),this.override&&Se.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in Se[i]&&(delete Se[i][n],this.override&&delete ye[n])}}function Fr(t,e,n){const i=y(Object.create(null),[n?Se.get(n):{},Se.get(e),t.defaults]);Se.set(e,i),t.defaultRoutes&&zr(e,t.defaultRoutes),t.descriptors&&Se.describe(e,t.descriptors)}function zr(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Se.route(s,r,l,a)}))}function Vr(t){return"id"in t&&"defaults"in t}class Wr{constructor(){this.controllers=new jr(Ui,"datasets",!0),this.elements=new jr(gr,"elements"),this.plugins=new jr(Object,"plugins"),this.scales=new jr(Br,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):p(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=O(t);d(n["before"+i],[],n),e[t](n),d(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Hr=new Wr;class $r extends Ui{update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=bt(e,n,i);if(this._drawStart=r,this._drawCount=s,yt(e)&&(r=0,s=n.length),this.options.showLine){const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},t)}this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Hr.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:a,_stacked:l,_dataset:h}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),f=this.includeOptions(i,u),d=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,v=H(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||"none"===i;let y=e>0&&this.getParsed(e-1);for(let w=e;w<e+n;++w){const e=t[w],n=this.getParsed(w),c=b?e:{},g=s(n[p]),x=c[d]=o.getPixelForValue(n[d],w),_=c[p]=r||g?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,n,l):n[p],w);c.skip=isNaN(x)||isNaN(_)||g,c.stop=w>0&&Math.abs(n[d]-y[d])>v,m&&(c.parsed=n,c.raw=h.data[w]),f&&(c.options=u||this.resolveDataElementOptions(w,e.active?"active":i)),b||this.updateElement(e,w,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}$r.id="scatter",$r.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},$r.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Ur=Object.freeze({__proto__:null,BarController:ar,BubbleController:lr,DoughnutController:cr,LineController:ur,PolarAreaController:fr,PieController:dr,RadarController:pr,ScatterController:$r});function qr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jr{constructor(t){this.options=t||{}}init(t){}formats(){return qr()}parse(t,e){return qr()}format(t,e){return qr()}add(t,e,n){return qr()}diff(t,e,n){return qr()}startOf(t,e,n){return qr()}endOf(t,e){return qr()}}Jr.override=function(t){Object.assign(Jr.prototype,t)};var Qr={_date:Jr};function Gr(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?ot:st;if(!i)return t(s,e,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(s,e,n-r),o=t(s,e,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function Yr(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:h}=Gr(s[a],e,o,r);for(let e=l;e<=h;++e){const r=n[e];r.skip||i(r,t,e)}}}function Kr(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function Xr(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;const o=function(n,o,a){(r||Pe(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})};return Yr(t,n,e,o,!0),s}function Zr(t,e,n,i){let r=[];function s(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=Y(t,{x:e.x,y:e.y});tt(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})}return Yr(t,n,e,s),r}function ts(t,e,n,i,r,s){let o=[];const a=Kr(n);let l=Number.POSITIVE_INFINITY;function h(n,h,c){const u=n.inRange(e.x,e.y,r);if(i&&!u)return;const f=n.getCenterPoint(r),d=!!s||t.isPointInArea(f);if(!d&&!u)return;const p=a(e,f);p<l?(o=[{element:n,datasetIndex:h,index:c}],l=p):p===l&&o.push({element:n,datasetIndex:h,index:c})}return Yr(t,n,e,h),o}function es(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?ts(t,e,n,i,r,s):Zr(t,e,n,r):[]}function ns(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Yr(t,n,e,((t,i,l)=>{t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:s}var is={evaluateInteractionItems:Yr,modes:{index(t,e,n,i){const r=Fn(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Xr(t,r,s,i,o):es(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=Fn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Xr(t,r,s,i,o):es(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point(t,e,n,i){const r=Fn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Xr(t,r,s,i,o)},nearest(t,e,n,i){const r=Fn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return es(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Fn(e,t);return ns(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Fn(e,t);return ns(t,r,"y",n.intersect,i)}}};const rs=["left","top","right","bottom"];function ss(t,e){return t.filter((t=>t.pos===e))}function os(t,e){return t.filter((t=>-1===rs.indexOf(t.pos)&&t.box.axis===e))}function as(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function ls(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function hs(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!rs.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}function cs(t,e){const n=hs(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:o&&e.availableHeight)}return n}function us(t){const e=ls(t),n=as(e.filter((t=>t.box.fullSize)),!0),i=as(ss(e,"left"),!0),r=as(ss(e,"right")),s=as(ss(e,"top"),!0),o=as(ss(e,"bottom")),a=os(e,"x"),l=os(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:ss(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function fs(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ds(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ps(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!a(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&ds(o,s.getPadding());const l=Math.max(0,e.outerWidth-fs(o,t,"left","right")),h=Math.max(0,e.outerHeight-fs(o,t,"top","bottom")),c=l!==t.w,u=h!==t.h;return t.w=l,t.h=h,n.horizontal?{same:c,other:u}:{same:u,other:c}}function gs(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ms(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function vs(t,e,n,i){const r=[];let s,o,a,l,h,c;for(s=0,o=t.length,h=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,ms(a.horizontal,e));const{same:o,other:u}=ps(e,n,a,i);h|=o&&r.length,c=c||u,l.fullSize||r.push(a)}return h&&vs(r,e,n,i)||c}function bs(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function ys(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*h,s=l.size||t.height;C(l.start)&&(o=l.start),t.fullSize?bs(t,r.left,o,n.outerWidth-r.right-r.left,s):bs(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*h,o=l.size||t.width;C(l.start)&&(s=l.start),t.fullSize?bs(t,s,r.top,o,n.outerHeight-r.bottom-r.top):bs(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}Se.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ws={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Qe(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=us(t.boxes),l=a.vertical,h=a.horizontal;p(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);ds(f,Qe(i));const d=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=cs(l.concat(h),u);vs(a.fullSize,d,u,g),vs(l,d,u,g),vs(h,d,u,g)&&vs(l,d,u,g),gs(d),ys(a.leftAndTop,d,u,g),d.x+=d.w,d.y+=d.h,ys(a.rightAndBottom,d,u,g),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},p(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}};class xs{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class _s extends xs{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ks="$chartjs",Ss={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ms=t=>null===t||""===t;function Os(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[ks]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ms(r)){const e=Un(t,"width");void 0!==e&&(t.width=e)}if(Ms(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Un(t,"height");void 0!==e&&(t.height=e)}return t}const Cs=!!$n&&{passive:!0};function As(t,e,n){t.addEventListener(e,n,Cs)}function Ts(t,e,n){t.canvas.removeEventListener(e,n,Cs)}function Es(t,e){const n=Ss[t.type]||t.type,{x:i,y:r}=Fn(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}function Ds(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Ps(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Ds(n.addedNodes,i),e=e&&!Ds(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Rs(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Ds(n.removedNodes,i),e=e&&!Ds(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Is=new Map;let Ls=0;function Ns(){const t=window.devicePixelRatio;t!==Ls&&(Ls=t,Is.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Bs(t,e){Is.size||window.addEventListener("resize",Ns),Is.set(t,e)}function js(t){Is.delete(t),Is.size||window.removeEventListener("resize",Ns)}function Fs(t,e,n){const i=t.canvas,r=i&&Dn(i);if(!r)return;const s=dt(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),Bs(t,s),o}function zs(t,e,n){n&&n.disconnect(),"resize"===e&&js(t)}function Vs(t,e,n){const i=t.canvas,r=dt((e=>{null!==t.ctx&&n(Es(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return As(i,e,r),r}class Ws extends xs{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Os(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[ks])return!1;const n=e[ks].initial;["height","width"].forEach((t=>{const i=n[t];s(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[ks],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:Ps,detach:Rs,resize:Fs},s=r[e]||Vs;i[e]=s(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;const r={attach:zs,detach:zs,resize:zs},s=r[e]||Ts;s(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Wn(t,e,n,i)}isAttached(t){const e=Dn(t);return!(!e||!e.isConnected)}}function Hs(t){return!En()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?_s:Ws}class $s{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin,s=t[n],o=[e,i,r.options];if(!1===d(s,o,t)&&i.cancelable)return!1}return!0}invalidate(){s(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=c(n.options&&n.options.plugins,{}),r=Us(n);return!1!==i||e?Js(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Us(t){const e={},n=[],i=Object.keys(Hr.plugins.items);for(let s=0;s<i.length;s++)n.push(Hr.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}function qs(t,e){return e||!1!==t?!0===t?{}:t:null}function Js(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const e=a.id,l=qs(i[e],r);null!==l&&s.push({plugin:a,options:Qs(t.config,{plugin:a,local:n[e]},l,o)})}return s}function Qs(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gs(t,e){const n=Se.datasets[t]||{},i=(e.datasets||{})[t]||{};return i.indexAxis||e.indexAxis||n.indexAxis||"x"}function Ys(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}function Ks(t,e){return t===e?"_index_":"_value_"}function Xs(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function Zs(t,e){return"x"===t||"y"===t?t:e.axis||Xs(e.position)||t.charAt(0).toLowerCase()}function to(t,e){const n=ye[t.type]||{scales:{}},i=e.scales||{},r=Gs(t.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach((t=>{const e=i[t];if(!a(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const l=Zs(t,e),h=Ks(l,r),c=n.scales||{};s[l]=s[l]||t,o[t]=w(Object.create(null),[{axis:l},e,c[l],c[h]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,a=n.indexAxis||Gs(r,e),l=ye[r]||{},h=l.scales||{};Object.keys(h).forEach((t=>{const e=Ys(t,a),r=n[e+"AxisID"]||s[e]||e;o[r]=o[r]||Object.create(null),w(o[r],[{axis:e},i[r],h[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];w(e,[Se.scales[e.type],Se.scale])})),o}function eo(t){const e=t.options||(t.options={});e.plugins=c(e.plugins,{}),e.scales=to(t,e)}function no(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function io(t){return t=t||{},t.data=no(t.data),eo(t),t}const ro=new Map,so=new Set;function oo(t,e){let n=ro.get(t);return n||(n=e(),ro.set(t,n),so.add(n)),n}const ao=(t,e,n)=>{const i=k(e,n);void 0!==i&&t.add(i)};class lo{constructor(t){this._config=io(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=no(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eo(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return oo(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return oo(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return oo(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return oo(`${n}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>ao(a,t,e)))),e.forEach((t=>ao(a,i,t))),e.forEach((t=>ao(a,ye[r]||{},t))),e.forEach((t=>ao(a,Se,t))),e.forEach((t=>ao(a,we,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),so.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,ye[e]||{},Se.datasets[e]||{},{type:e},Se,we]}resolveNamedOptions(t,e,n,i=[""]){const r={$shared:!0},{resolver:s,subPrefixes:o}=ho(this._resolverCache,t,i);let a=s;if(uo(s,e)){r.$shared=!1,n=A(n)?n():n;const e=this.createResolver(t,n,o);a=tn(s,n,e)}for(const l of e)r[l]=a[l];return r}createResolver(t,e,n=[""],i){const{resolver:r}=ho(this._resolverCache,t,n);return a(e)?tn(r,e,void 0,i):r}}function ho(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){const t=Ze(e,n);s={resolver:t,subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,s)}return s}const co=t=>a(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||A(t[n])),!1);function uo(t,e){const{isScriptable:n,isIndexable:i}=en(t);for(const r of e){const e=n(r),s=i(r),a=(s||e)&&t[r];if(e&&(A(a)||co(a))||s&&o(a))return!0}return!1}var fo="3.9.1";const po=["top","bottom","left","right","chartArea"];function go(t,e){return"top"===t||"bottom"===t||-1===po.indexOf(t)&&"x"===e}function mo(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function vo(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),d(n&&n.onComplete,[t],e)}function bo(t){const e=t.chart,n=e.options.animation;d(n&&n.onProgress,[t],e)}function yo(t){return En()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wo={},xo=t=>{const e=yo(t);return Object.values(wo).filter((t=>t.canvas===e)).pop()};function _o(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}function ko(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}class So{constructor(t,e){const n=this.config=new lo(e),i=yo(t),s=xo(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Hs(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,h=l&&l.height,c=l&&l.width;this.id=r(),this.ctx=a,this.canvas=l,this.width=c,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $s,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pt((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],wo[this.id]=this,a&&l?(mi.listen(this,"complete",vo),mi.listen(this,"progress",bo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return s(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Te(this.canvas,this.ctx),this}stop(){return mi.stop(this),this}resize(t,e){mi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Hn(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),d(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};p(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=Zs(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),p(r,(e=>{const r=e.options,s=r.id,o=Zs(s,r),a=c(r.type,e.dtype);void 0!==r.position&&go(r.position,o)===go(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{const t=Hr.getScale(a);l=new t({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),p(i,((t,e)=>{t||delete n[e]})),p(n,(t=>{ws.configure(this,t,t.options),ws.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(mo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||Gs(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=Hr.getController(s),{datasetElementType:i,dataElementType:o}=Se.datasets[s];Object.assign(e.prototype,{dataElementType:Hr.getElement(o),datasetElementType:i&&Hr.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){p(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,h=this.data.datasets.length;l<h;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||p(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mo("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){p(this.scales,(t=>{ws.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);T(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){const e="_removeElements"===n?-r:r;_o(t,i,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!T(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ws.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],p(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,A(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(mi.has(this)?this.attached&&!mi.running(this)&&mi.start(this):(this.draw(),vo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=this.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&Re(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&Ie(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Pe(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=is.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Xe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);C(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),mi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Te(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete wo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};p(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){p(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},p(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),i=!g(n,e);i&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=E(t),l=ko(t,this._lastEvent,n,a);n&&(this._lastEvent=null,d(r.onHover,[t,o,this],this),a&&d(r.onClick,[t,o,this],this));const h=!g(o,i);return(h||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,h}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}const Mo=()=>p(So.instances,(t=>t._plugins.invalidate())),Oo=!0;function Co(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let h=r/a;t.beginPath(),t.arc(s,o,a,i-h,n+h),l>r?(h=r/l,t.arc(s,o,l,n+h,i-h,!0)):t.arc(s,o,r,n+N,i-N),t.closePath(),t.clip()}function Ao(t){return Ue(t,["outerStart","outerEnd","innerStart","innerEnd"])}function To(t,e,n,i){const r=Ao(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=t=>{const e=(n-Math.min(s,t))*i/2;return et(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:et(r.innerStart,0,o),innerEnd:et(r.innerEnd,0,o)}}function Eo(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Do(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:h,innerRadius:c}=e,u=Math.max(e.outerRadius+i+n-h,0),f=c>0?c+i+n+h:0;let d=0;const p=r-l;if(i){const t=c>0?c-i:0,e=u>0?u-i:0,n=(t+e)/2,r=0!==n?p*n/(n+i):p;d=(p-r)/2}const g=Math.max(.001,p*u-n/D)/u,m=(p-g)/2,v=l+m+d,b=r-m-d,{outerStart:y,outerEnd:w,innerStart:x,innerEnd:_}=To(e,f,u,b-v),k=u-y,S=u-w,M=v+y/k,O=b-w/S,C=f+x,A=f+_,T=v+x/C,E=b-_/A;if(t.beginPath(),s){if(t.arc(o,a,u,M,O),w>0){const e=Eo(S,O,o,a);t.arc(e.x,e.y,w,O,b+N)}const e=Eo(A,b,o,a);if(t.lineTo(e.x,e.y),_>0){const e=Eo(A,E,o,a);t.arc(e.x,e.y,_,b+N,E+Math.PI)}if(t.arc(o,a,f,b-_/f,v+x/f,!0),x>0){const e=Eo(C,T,o,a);t.arc(e.x,e.y,x,T+Math.PI,v-N)}const n=Eo(k,v,o,a);if(t.lineTo(n.x,n.y),y>0){const e=Eo(k,M,o,a);t.arc(e.x,e.y,y,v-N,M)}}else{t.moveTo(o,a);const e=Math.cos(M)*u+o,n=Math.sin(M)*u+a;t.lineTo(e,n);const i=Math.cos(O)*u+o,r=Math.sin(O)*u+a;t.lineTo(i,r)}t.closePath()}function Po(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Do(t,e,n,i,o+P,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+a%P,a%P===0&&(l+=P))}return Do(t,e,n,i,l,r),t.fill(),l}function Ro(t,e,n){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),h=e.innerRadius+o;let c;for(n&&Co(t,e,s+P),t.beginPath(),t.arc(i,r,h,s+P,s,!0),c=0;c<a;++c)t.stroke();for(t.beginPath(),t.arc(i,r,l,s,s+P),c=0;c<a;++c)t.stroke()}function Io(t,e,n,i,r,s){const{options:o}=e,{borderWidth:a,borderJoinStyle:l}=o,h="inner"===o.borderAlign;a&&(h?(t.lineWidth=2*a,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),e.fullCircles&&Ro(t,e,h),h&&Co(t,e,r),Do(t,e,n,i,r,s),t.stroke())}Object.defineProperties(So,{defaults:{enumerable:Oo,value:Se},instances:{enumerable:Oo,value:wo},overrides:{enumerable:Oo,value:ye},registry:{enumerable:Oo,value:Hr},version:{enumerable:Oo,value:fo},getChart:{enumerable:Oo,value:xo},register:{enumerable:Oo,value:(...t)=>{Hr.add(...t),Mo()}},unregister:{enumerable:Oo,value:(...t)=>{Hr.remove(...t),Mo()}}});class Lo extends gr{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=Y(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=this.options.spacing/2,d=c(u,a-o),p=d>=P||tt(r,o,a),g=it(s,l+f,h+f);return p&&g}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:a,spacing:l}=this.options,h=(i+r)/2,c=(s+o+l+a)/2;return{x:e+Math.cos(h)*c,y:n+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/2,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>P?Math.floor(n/P):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(i){o=i/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*o,Math.sin(e)*o),this.circumference>=D&&(o=i)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const a=Po(t,this,o,r,s);Io(t,this,o,r,a,s),t.restore()}}function No(t,e,n=e){t.lineCap=c(n.borderCapStyle,e.borderCapStyle),t.setLineDash(c(n.borderDash,e.borderDash)),t.lineDashOffset=c(n.borderDashOffset,e.borderDashOffset),t.lineJoin=c(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=c(n.borderWidth,e.borderWidth),t.strokeStyle=c(n.borderColor,e.borderColor)}function Bo(t,e,n){t.lineTo(n.x,n.y)}function jo(t){return t.stepped?Le:t.tension||"monotone"===t.cubicInterpolationMode?Ne:Bo}function Fo(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),h=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:h<l&&!c?i+h-l:h-l}}function zo(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:h}=Fo(r,n,i),c=jo(s);let u,f,d,{move:p=!0,reverse:g}=i||{};for(u=0;u<=h;++u)f=r[(a+(g?h-u:u))%o],f.skip||(p?(t.moveTo(f.x,f.y),p=!1):c(t,d,f,g,s.stepped),d=f);return l&&(f=r[(a+(g?h:0))%o],c(t,d,f,g,s.stepped)),!!l}function Vo(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=Fo(r,n,i),{move:l=!0,reverse:h}=i||{};let c,u,f,d,p,g,m=0,v=0;const b=t=>(o+(h?a-t:t))%s,y=()=>{d!==p&&(t.lineTo(m,p),t.lineTo(m,d),t.lineTo(m,g))};for(l&&(u=r[b(0)],t.moveTo(u.x,u.y)),c=0;c<=a;++c){if(u=r[b(c)],u.skip)continue;const e=u.x,n=u.y,i=0|e;i===f?(n<d?d=n:n>p&&(p=n),m=(v*m+e)/++v):(y(),t.lineTo(e,n),f=i,v=0,d=p=n),g=n}y()}function Wo(t){const e=t.options,n=e.borderDash&&e.borderDash.length,i=!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n;return i?Vo:zo}function Ho(t){return t.stepped?Jn:t.tension||"monotone"===t.cubicInterpolationMode?Qn:qn}function $o(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),No(t,e.options),t.stroke(r)}function Uo(t,e,n,i){const{segments:r,options:s}=e,o=Wo(e);for(const a of r)No(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}Lo.id="arc",Lo.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Lo.defaultRoutes={backgroundColor:"backgroundColor"};const qo="function"===typeof Path2D;function Jo(t,e,n,i){qo&&!e.options.segment?$o(t,e,n,i):Uo(t,e,n,i)}class Qo extends gr{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Tn(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ci(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=ai(this,{property:e,start:i,end:i});if(!s.length)return;const o=[],a=Ho(n);let l,h;for(l=0,h=s.length;l<h;++l){const{start:h,end:c}=s[l],u=r[h],f=r[c];if(u===f){o.push(u);continue}const d=Math.abs((i-u[e])/(f[e]-u[e])),p=a(u,f,d,n.stepped);p[e]=t[e],o.push(p)}return 1===o.length?o[0]:o}pathSegment(t,e,n){const i=Wo(this);return i(t,this,e,n)}path(t,e,n){const i=this.segments,r=Wo(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)s&=r(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{},s=this.points||[];s.length&&r.borderWidth&&(t.save(),Jo(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Go(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}Qo.id="line",Qo.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Qo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Qo.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class Yo extends gr{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return Go(this,t,"x",e)}inYRange(t,e){return Go(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return 2*(e+n)}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Pe(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Ee(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Ko(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,h,c,u;return t.horizontal?(u=o/2,a=Math.min(n,r),l=Math.max(n,r),h=i-u,c=i+u):(u=s/2,a=n-u,l=n+u,h=Math.min(i,r),c=Math.max(i,r)),{left:a,top:h,right:l,bottom:c}}function Xo(t,e,n,i){return t?0:et(e,n,i)}function Zo(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=qe(i);return{t:Xo(r.top,s.top,0,n),r:Xo(r.right,s.right,0,e),b:Xo(r.bottom,s.bottom,0,n),l:Xo(r.left,s.left,0,e)}}function ta(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Je(r),o=Math.min(e,n),l=t.borderSkipped,h=i||a(r);return{topLeft:Xo(!h||l.top||l.left,s.topLeft,0,o),topRight:Xo(!h||l.top||l.right,s.topRight,0,o),bottomLeft:Xo(!h||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:Xo(!h||l.bottom||l.right,s.bottomRight,0,o)}}function ea(t){const e=Ko(t),n=e.right-e.left,i=e.bottom-e.top,r=Zo(t,n/2,i/2),s=ta(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function na(t,e,n,i){const r=null===e,s=null===n,o=r&&s,a=t&&!o&&Ko(t,i);return a&&(r||it(e,a.left,a.right))&&(s||it(n,a.top,a.bottom))}function ia(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function ra(t,e){t.rect(e.x,e.y,e.w,e.h)}function sa(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}Yo.id="point",Yo.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Yo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class oa extends gr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=ea(this),o=ia(s.radius)?ze:ra;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,sa(s,e,r)),t.clip(),o(t,sa(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,sa(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return na(this,t,e,n)}inXRange(t,e){return na(this,t,null,e)}inYRange(t,e){return na(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}oa.id="bar",oa.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},oa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var aa=Object.freeze({__proto__:null,ArcElement:Lo,LineElement:Qo,PointElement:Yo,BarElement:oa});function la(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const h=e+n-1;let c,u,f,d,p,g=e;for(o[l++]=t[g],c=0;c<s-2;c++){let i,r=0,s=0;const h=Math.floor((c+1)*a)+1+e,m=Math.min(Math.floor((c+2)*a)+1,n)+e,v=m-h;for(i=h;i<m;i++)r+=t[i].x,s+=t[i].y;r/=v,s/=v;const b=Math.floor(c*a)+1+e,y=Math.min(Math.floor((c+1)*a)+1,n)+e,{x:w,y:x}=t[g];for(f=d=-1,i=b;i<y;i++)d=.5*Math.abs((w-r)*(t[i].y-x)-(w-t[i].x)*(s-x)),d>f&&(f=d,u=t[i],p=i);o[l++]=u,g=p}return o[l++]=t[h],o}function ha(t,e,n,i){let r,o,a,l,h,c,u,f,d,p,g=0,m=0;const v=[],b=e+n-1,y=t[e].x,w=t[b].x,x=w-y;for(r=e;r<e+n;++r){o=t[r],a=(o.x-y)/x*i,l=o.y;const e=0|a;if(e===h)l<d?(d=l,c=r):l>p&&(p=l,u=r),g=(m*g+o.x)/++m;else{const n=r-1;if(!s(c)&&!s(u)){const e=Math.min(c,u),i=Math.max(c,u);e!==f&&e!==n&&v.push({...t[e],x:g}),i!==f&&i!==n&&v.push({...t[i],x:g})}r>0&&n!==f&&v.push(t[n]),v.push(o),h=e,m=0,d=p=l,c=u=f=r}}return v}function ca(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function ua(t){t.data.datasets.forEach((t=>{ca(t)}))}function fa(t,e){const n=e.length;let i,r=0;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:h}=s.getUserBounds();return l&&(r=et(st(e,s.axis,o).lo,0,n-1)),i=h?et(st(e,s.axis,a).hi+1,r,n)-r:n-r,{start:r,count:i}}var da={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void ua(t);const i=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:o,indexAxis:a}=e,l=t.getDatasetMeta(r),h=o||e.data;if("y"===Ye([a,t.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:u,count:f}=fa(l,h);const d=n.threshold||4*i;if(f<=d)return void ca(e);let p;switch(s(o)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=la(h,u,f,i,n);break;case"min-max":p=ha(h,u,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=p}))},destroy(t){ua(t)}};function pa(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:t,end:i}=a;i=va(t,i,r);const l=ga(n,r[t],r[i],a.loop);if(!e.segments){o.push({source:a,target:l,start:r[t],end:r[i]});continue}const h=ai(e,l);for(const e of h){const t=ga(n,s[e.start],s[e.end],e.loop),i=oi(a,r,t);for(const r of i)o.push({source:r,target:e,start:{[n]:ba(l,t,"start",Math.max)},end:{[n]:ba(l,t,"end",Math.min)}})}}return o}function ga(t,e,n,i){if(i)return;let r=e[t],s=n[t];return"angle"===t&&(r=Z(r),s=Z(s)),{property:t,start:r,end:s}}function ma(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach((({start:t,end:e})=>{e=va(t,e,r);const o=r[t],a=r[e];null!==i?(s.push({x:o.x,y:i}),s.push({x:a.x,y:i})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:a.y}))})),s}function va(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function ba(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function ya(t,e){let n=[],i=!1;return o(t)?(i=!0,n=t):n=ma(t,e),n.length?new Qo({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function wa(t){return t&&!1!==t.fill}function xa(t,e,n){const i=t[e];let r=i.fill;const s=[e];let o;if(!n)return r;while(!1!==r&&-1===s.indexOf(r)){if(!l(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function _a(t,e,n){const i=Oa(t);if(a(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return l(r)&&Math.floor(r)===r?ka(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ka(t,e,n,i){return"-"!==t&&"+"!==t||(n=e+n),!(n===e||n<0||n>=i)&&n}function Sa(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:a(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Ma(t,e,n){let i;return i="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:a(t)?t.value:e.getBaseValue(),i}function Oa(t){const e=t.options,n=e.fill;let i=c(n&&n.target,n);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}function Ca(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=Aa(e,n);a.push(ya({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const t=s[l];for(let e=t.start;e<=t.end;e++)Ta(r,o[e],a)}return new Qo({points:r,options:{}})}function Aa(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const t=i[r];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}function Ta(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=Ea(s,e,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(t.push(l),!a)break}t.push(...i)}function Ea(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let h=0;h<s.length;h++){const t=s[h],e=o[t.start][n],i=o[t.end][n];if(it(r,e,i)){a=r===e,l=r===i;break}}return{first:a,last:l,point:i}}class Da{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:s}=this;return e=e||{start:0,end:P},t.arc(i,r,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function Pa(t){const{chart:e,fill:n,line:i}=t;if(l(n))return Ra(e,n);if("stack"===n)return Ca(t);if("shape"===n)return!0;const r=Ia(t);return r instanceof Da?r:ya(r,i)}function Ra(t,e){const n=t.getDatasetMeta(e),i=n&&t.isDatasetVisible(e);return i?n.dataset:null}function Ia(t){const e=t.scale||{};return e.getPointPositionForValue?Na(t):La(t)}function La(t){const{scale:e={},fill:n}=t,i=Sa(n,e);if(l(i)){const t=e.isHorizontal();return{x:t?i:null,y:t?null:i}}return null}function Na(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=Ma(n,e,s),a=[];if(i.grid.circular){const t=e.getPointPositionForValue(0,s);return new Da({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Ba(t,e,n){const i=Pa(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,h=a.backgroundColor,{above:c=h,below:u=h}=l||{};i&&r.points.length&&(Re(t,n),ja(t,{line:r,target:i,above:c,below:u,area:n,scale:s,axis:o}),Ie(t))}function ja(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&s!==r&&(Fa(t,i,o.top),za(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),Fa(t,i,o.bottom)),za(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function Fa(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:i,end:l}=a,h=r[i],c=r[va(i,l,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(c.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function za(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=pa(n,i,r);for(const{source:l,target:h,start:c,end:u}of a){const{style:{backgroundColor:e=s}={}}=l,a=!0!==i;t.save(),t.fillStyle=e,Va(t,o,a&&ga(r,c,u)),t.beginPath();const f=!!n.pathSegment(t,l);let d;if(a){f?t.closePath():Wa(t,i,u,r);const e=!!i.pathSegment(t,h,{move:f,reverse:!0});d=f&&e,d||Wa(t,i,c,r)}t.closePath(),t.fill(d?"evenodd":"nonzero"),t.restore()}}function Va(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function Wa(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var Ha={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Qo&&(l={visible:t.isDatasetVisible(o),index:o,fill:_a(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=xa(r,o,n.propagate))},beforeDraw(t,e,n){const i="beforeDraw"===n.drawTime,r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const e=r[o].$filler;e&&(e.line.updateControlPoints(s,e.axis),i&&e.fill&&Ba(t.ctx,e,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const e=i[r].$filler;wa(e)&&Ba(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;wa(i)&&"beforeDatasetDraw"===n.drawTime&&Ba(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $a=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},Ua=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qa extends gr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=d(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=Ge(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=$a(n,r);let l,h;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(s,r,o,a)+10):(h=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],h=i+o;let c=t;r.textAlign="left",r.textBaseline="middle";let u=-1,f=-h;return this.legendItems.forEach(((t,d)=>{const p=n+e/2+r.measureText(t.text).width;(0===d||l[l.length-1]+p+2*o>s)&&(c+=h,l[l.length-(d>0?0:1)]=0,f+=h,u++),a[d]={left:0,top:f,row:u,width:p,height:i},l[l.length-1]+=p+o})),c}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],h=s-t;let c=o,u=0,f=0,d=0,p=0;return this.legendItems.forEach(((t,s)=>{const g=n+e/2+r.measureText(t.text).width;s>0&&f+i+2*o>h&&(c+=u+o,l.push({width:u,height:f}),d+=u+o,p++,u=f=0),a[s]={left:d,top:f,col:p,width:g,height:i},u=Math.max(u,g),f+=i+o})),c+=u,l.push({width:u,height:f}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=ti(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=mt(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=mt(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=mt(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=mt(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Re(t,this),this._draw(),Ie(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,o=Se.color,a=ti(t.rtl,this.left,this.width),l=Ge(s.font),{color:h,padding:u}=s,f=l.size,d=f/2;let p;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:g,boxHeight:m,itemHeight:v}=$a(s,f),b=function(t,e,n){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const r=c(n.lineWidth,1);if(i.fillStyle=c(n.fillStyle,o),i.lineCap=c(n.lineCap,"butt"),i.lineDashOffset=c(n.lineDashOffset,0),i.lineJoin=c(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=c(n.strokeStyle,o),i.setLineDash(c(n.lineDash,[])),s.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,g/2),h=e+d;De(i,o,l,h,s.pointStyleWidth&&g)}else{const s=e+Math.max((f-m)/2,0),o=a.leftForLtr(t,g),l=Je(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?ze(i,{x:o,y:s,w:g,h:m,radius:l}):i.rect(o,s,g,m),i.fill(),0!==r&&i.stroke()}i.restore()},y=function(t,e,n){Be(i,n.text,t,e+v/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();p=w?{x:mt(r,this.left+u,this.right-n[0]),y:this.top+u+x,line:0}:{x:this.left+u,y:mt(r,this.top+x+u,this.bottom-e[0].height),line:0},ei(this.ctx,t.textDirection);const _=v+u;this.legendItems.forEach(((o,l)=>{i.strokeStyle=o.fontColor||h,i.fillStyle=o.fontColor||h;const c=i.measureText(o.text).width,f=a.textAlign(o.textAlign||(o.textAlign=s.textAlign)),m=g+d+c;let v=p.x,k=p.y;a.setWidth(this.width),w?l>0&&v+m+u>this.right&&(k=p.y+=_,p.line++,v=p.x=mt(r,this.left+u,this.right-n[p.line])):l>0&&k+_>this.bottom&&(v=p.x=v+e[p.line].width+u,p.line++,k=p.y=mt(r,this.top+x+u,this.bottom-e[p.line].height));const S=a.x(v);b(S,k,o),v=vt(f,v+g+d,w?v+m:this.right,t.rtl),y(a.x(v),k,o),w?p.x+=m+u:p.y+=_})),ni(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Ge(e.font),i=Qe(e.padding);if(!e.display)return;const r=ti(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let h,c=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),h=this.top+l,c=mt(t.align,c,this.right-u);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+mt(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const f=mt(o,c,c+u);s.textAlign=r.textAlign(gt(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Be(s,e.text,f,h,n)}_computeTitleHeight(){const t=this.options.title,e=Ge(t.font),n=Qe(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(it(t,this.left,this.right)&&it(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],it(t,i.left,i.left+i.width)&&it(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!Ja(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=Ua(i,n);i&&!r&&d(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&d(e.onHover,[t,n,this],this)}else n&&d(e.onClick,[t,n,this],this)}}function Ja(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var Qa={id:"legend",_element:qa,start(t,e,n){const i=t.legend=new qa({ctx:t.ctx,options:n,chart:t});ws.configure(t,i,n),ws.addBox(t,i)},stop(t){ws.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ws.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const o=t.controller.getStyle(n?0:void 0),a=Qe(o.borderWidth);return{text:e[t.index].label,fillStyle:o.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:o.borderColor,pointStyle:i||o.pointStyle,rotation:o.rotation,textAlign:r||o.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ga extends gr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=o(n.text)?n.text.length:1;this._padding=Qe(n.padding);const r=i*Ge(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,h,c=0;return this.isHorizontal()?(l=mt(o,n,r),h=e+t,a=r-n):("left"===s.position?(l=n+t,h=mt(o,i,e),c=-.5*D):(l=r-t,h=mt(o,e,i),c=.5*D),a=i-e),{titleX:l,titleY:h,maxWidth:a,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Ge(e.font),i=n.lineHeight,r=i/2+this._padding.top,{titleX:s,titleY:o,maxWidth:a,rotation:l}=this._drawArgs(r);Be(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:l,textAlign:gt(e.align),textBaseline:"middle",translation:[s,o]})}}function Ya(t,e){const n=new Ga({ctx:t.ctx,options:e,chart:t});ws.configure(t,n,e),ws.addBox(t,n),t.titleBlock=n}var Ka={id:"title",_element:Ga,start(t,e,n){Ya(t,n)},stop(t){const e=t.titleBlock;ws.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ws.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xa=new WeakMap;var Za={id:"subtitle",start(t,e,n){const i=new Ga({ctx:t.ctx,options:n,chart:t});ws.configure(t,i,n),ws.addBox(t,i),Xa.set(t,i)},stop(t){ws.removeBox(t,Xa.get(t)),Xa.delete(t)},beforeUpdate(t,e,n){const i=Xa.get(t);ws.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tl={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i+=t.x,r+=t.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=i.getCenterPoint(),n=K(e,t);n<a&&(a=n,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function el(t,e){return e&&(o(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function nl(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function il(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function rl(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Ge(e.bodyFont),h=Ge(e.titleFont),c=Ge(e.footerFont),u=s.length,f=r.length,d=i.length,g=Qe(e.padding);let m=g.height,v=0,b=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(b+=t.beforeBody.length+t.afterBody.length,u&&(m+=u*h.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),b){const t=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=d*t+(b-d)*l.lineHeight+(b-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let y=0;const w=function(t){v=Math.max(v,n.measureText(t).width+y)};return n.save(),n.font=h.string,p(t.title,w),n.font=l.string,p(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?o+2+e.boxPadding:0,p(i,(t=>{p(t.before,w),p(t.lines,w),p(t.after,w)})),y=0,n.font=c.string,p(t.footer,w),n.restore(),v+=g.width,{width:v,height:m}}function sl(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function ol(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||("right"===t&&r-s-o<0||void 0)}function al(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let h="center";return"center"===i?h=r<=(a+l)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),ol(h,t,e,n)&&(h="center"),h}function ll(t,e,n){const i=n.yAlign||e.yAlign||sl(t,n);return{xAlign:n.xAlign||e.xAlign||al(t,e,n,i),yAlign:i}}function hl(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}function cl(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}function ul(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,h=r+s,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:d}=Je(o);let p=hl(e,a);const g=cl(e,l,h);return"center"===l?"left"===a?p+=h:"right"===a&&(p-=h):"left"===a?p-=Math.max(c,f)+r:"right"===a&&(p+=Math.max(u,d)+r),{x:et(p,0,i.width-e.width),y:et(g,0,i.height-e.height)}}function fl(t,e,n){const i=Qe(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function dl(t){return el([],nl(t))}function pl(t,e,n){return Xe(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function gl(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class ml extends gr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new ki(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=pl(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=n.beforeTitle.apply(this,[t]),r=n.title.apply(this,[t]),s=n.afterTitle.apply(this,[t]);let o=[];return o=el(o,nl(i)),o=el(o,nl(r)),o=el(o,nl(s)),o}getBeforeBody(t,e){return dl(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,i=[];return p(t,(t=>{const e={before:[],lines:[],after:[]},r=gl(n,t);el(e.before,nl(r.beforeLabel.call(this,t))),el(e.lines,r.label.call(this,t)),el(e.after,nl(r.afterLabel.call(this,t))),i.push(e)})),i}getAfterBody(t,e){return dl(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,i=n.beforeFooter.apply(this,[t]),r=n.footer.apply(this,[t]),s=n.afterFooter.apply(this,[t]);let o=[];return o=el(o,nl(i)),o=el(o,nl(r)),o=el(o,nl(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(il(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),p(l,(e=>{const n=gl(t.callbacks,e);i.push(n.labelColor.call(this,e)),r.push(n.labelPointStyle.call(this,e)),s.push(n.labelTextColor.call(this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=tl[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=rl(this,n),o=Object.assign({},t,e),a=ll(this.chart,n,o),l=ul(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:h,bottomRight:c}=Je(o),{x:u,y:f}=t,{width:d,height:p}=e;let g,m,v,b,y,w;return"center"===r?(y=f+p/2,"left"===i?(g=u,m=g-s,b=y+s,w=y-s):(g=u+d,m=g+s,b=y-s,w=y+s),v=g):(m="left"===i?u+Math.max(a,h)+s:"right"===i?u+d-Math.max(l,c)-s:this.caretX,"top"===r?(b=f,y=b-s,g=m-s,v=m+s):(b=f+p,y=b+s,g=m+s,v=m-s),w=b),{x1:g,x2:m,x3:v,y1:b,y2:y,y3:w}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=ti(n.rtl,this.x,this.width);for(t.x=fl(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=Ge(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:h,boxPadding:c}=r,u=Ge(r.bodyFont),f=fl(this,"left",r),d=i.x(f),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=e.y+p;if(r.usePointStyle){const e={radius:Math.min(h,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,h)+h/2,a=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Ee(t,e,n,a),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Ee(t,e,n,a)}else{t.lineWidth=a(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(d,h-c),n=i.leftForLtr(i.xPlus(d,1),h-c-2),o=Je(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ze(t,{x:e,y:g,w:h,h:l,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),ze(t,{x:n,y:g+1,w:h-2,h:l-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,g,h,l),t.strokeRect(e,g,h,l),t.fillStyle=s.backgroundColor,t.fillRect(n,g+1,h-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:h}=n,c=Ge(n.bodyFont);let u=c.lineHeight,f=0;const d=ti(n.rtl,this.x,this.width),g=function(n){e.fillText(n,d.x(t.x+f),t.y+u/2),t.y+=u+r},m=d.textAlign(s);let v,b,y,w,x,_,k;for(e.textAlign=s,e.textBaseline="middle",e.font=c.string,t.x=fl(this,m,n),e.fillStyle=n.bodyColor,p(this.beforeBody,g),f=o&&"right"!==m?"center"===s?l/2+h:l+2+h:0,w=0,_=i.length;w<_;++w){for(v=i[w],b=this.labelTextColors[w],e.fillStyle=b,p(v.before,g),y=v.lines,o&&y.length&&(this._drawColorBox(e,t,w,d,n),u=Math.max(c.lineHeight,a)),x=0,k=y.length;x<k;++x)g(y[x]),u=c.lineHeight;p(v.after,g)}f=0,u=c.lineHeight,p(this.afterBody,g),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=ti(n.rtl,this.x,this.width);for(t.x=fl(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=Ge(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:h}=n,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:d}=Je(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+c,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-u,a),e.quadraticCurveTo(o+l,a,o+l,a+u),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+h-d),e.quadraticCurveTo(o+l,a+h,o+l-d,a+h),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+f,a+h),e.quadraticCurveTo(o,a+h,o,a+h-f),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+c),e.quadraticCurveTo(o,a,o+c,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=tl[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=rl(this,t),o=Object.assign({},n,this._size),a=ll(e,t,o),l=ul(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Qe(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),ei(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),ni(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),r=!g(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!g(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e;const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=tl[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}ml.positioners=tl;var vl={id:"tooltip",_element:ml,positioners:tl,afterInit(t,e,n){n&&(t.tooltip=new ml({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",n))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:i,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:i,beforeBody:i,beforeLabel:i,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return s(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:i,afterBody:i,beforeFooter:i,footer:i,afterFooter:i}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},bl=Object.freeze({__proto__:null,Decimation:da,Filler:Ha,Legend:Qa,SubTitle:Za,Title:Ka,Tooltip:vl});const yl=(t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function wl(t,e,n,i){const r=t.indexOf(e);if(-1===r)return yl(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const xl=(t,e)=>null===t?null:et(Math.round(t),0,e);class _l extends Br{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(s(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:wl(n,t,c(e,t),this._addedLabels),xl(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function kl(t,e){const n=[],i=1e-14,{bounds:r,step:o,min:a,max:l,precision:h,count:c,maxTicks:u,maxDigits:f,includeBounds:d}=t,p=o||1,g=u-1,{min:m,max:v}=e,b=!s(a),y=!s(l),w=!s(c),x=(v-m)/(f+1);let _,k,S,M,O=V((v-m)/g/p)*p;if(O<i&&!b&&!y)return[{value:m},{value:v}];M=Math.ceil(v/O)-Math.floor(m/O),M>g&&(O=V(M*O/g/p)*p),s(h)||(_=Math.pow(10,h),O=Math.ceil(O*_)/_),"ticks"===r?(k=Math.floor(m/O)*O,S=Math.ceil(v/O)*O):(k=m,S=v),b&&y&&o&&U((l-a)/o,O/1e3)?(M=Math.round(Math.min((l-a)/O,u)),O=(l-a)/M,k=a,S=l):w?(k=b?a:k,S=y?l:S,M=c-1,O=(S-k)/M):(M=(S-k)/O,M=$(M,Math.round(M),O/1e3)?Math.round(M):Math.ceil(M));const C=Math.max(G(O),G(k));_=Math.pow(10,s(h)?C:h),k=Math.round(k*_)/_,S=Math.round(S*_)/_;let A=0;for(b&&(d&&k!==a?(n.push({value:a}),k<a&&A++,$(Math.round((k+A*O)*_)/_,a,Sl(a,x,t))&&A++):k<a&&A++);A<M;++A)n.push({value:Math.round((k+A*O)*_)/_});return y&&d&&S!==l?n.length&&$(n[n.length-1].value,l,Sl(l,x,t))?n[n.length-1].value=l:n.push({value:l}):y&&S!==l||n.push({value:S}),n}function Sl(t,e,{horizontal:n,minRotation:i}){const r=J(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}_l.id="category",_l.defaults={ticks:{callback:_l.prototype.getLabelForValue}};class Ml extends Br{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return s(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=z(i),e=z(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=1;(r>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*r)),o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},r=this._range||this,s=kl(i,r);return"ticks"===t.bounds&&q(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Kn(t,this.chart.options.locale,this.options.ticks.format)}}class Ol extends Ml{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=l(t)?t:0,this.max=l(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=J(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Cl(t){const e=t/Math.pow(10,Math.floor(F(t)));return 1===e}function Al(t,e){const n=Math.floor(F(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),r=[];let s=h(t.min,Math.pow(10,Math.floor(F(e.min)))),o=Math.floor(F(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{r.push({value:s,major:Cl(s)}),++a,10===a&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l}while(o<n||o===n&&a<i);const c=h(t.max,s);return r.push({value:c,major:Cl(s)}),r}Ol.id="linear",Ol.defaults={ticks:{callback:br.formatters.numeric}};class Tl extends Br{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Ml.prototype.parse.apply(this,[t,e]);if(0!==n)return l(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=l(t)?Math.max(0,t):null,this.max=l(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t,o=(t,e)=>Math.pow(10,Math.floor(F(t))+e);n===i&&(n<=0?(r(1),s(10)):(r(o(n,-1)),s(o(i,1)))),n<=0&&r(o(i,-1)),i<=0&&s(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&r(o(n,-1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=Al(e,this);return"ticks"===t.bounds&&q(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return void 0===t?"0":Kn(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=F(t),this._valueRange=F(this.max)-F(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(F(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function El(t){const e=t.ticks;if(e.display&&t.display){const t=Qe(e.backdropPadding);return c(e.font&&e.font.size,Se.font.size)+t.height}return 0}function Dl(t,e,n){return n=o(n)?n:[n],{w:Ce(t,e.string,n),h:n.length*e.lineHeight}}function Pl(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function Rl(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?D/s:0;for(let l=0;l<s;l++){const s=o.setContext(t.getPointLabelContext(l));r[l]=s.padding;const h=t.getPointPosition(l,t.drawingArea+r[l],a),c=Ge(s.font),u=Dl(t.ctx,c,t._pointLabels[l]);i[l]=u;const f=Z(t.getIndexAngle(l)+a),d=Math.round(Q(f)),p=Pl(d,h.x,u.w,0,180),g=Pl(d,h.y,u.h,90,270);Il(n,e,f,p,g)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Ll(t,i,r)}function Il(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Ll(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,o=El(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?D/r:0;for(let h=0;h<r;h++){const r=t.getPointPosition(h,a+o+n[h],l),s=Math.round(Q(Z(r.angle+N))),c=e[h],u=jl(r.y,c.h,s),f=Nl(s),d=Bl(r.x,c.w,f);i.push({x:r.x,y:u,textAlign:f,left:d,top:u,right:d+c.w,bottom:u+c.h})}return i}function Nl(t){return 0===t||180===t?"center":t<180?"left":"right"}function Bl(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function jl(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function Fl(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=i.setContext(t.getPointLabelContext(r)),o=Ge(e.font),{x:a,y:l,textAlign:h,left:c,top:u,right:f,bottom:d}=t._pointLabelItems[r],{backdropColor:p}=e;if(!s(p)){const t=Je(e.borderRadius),i=Qe(e.backdropPadding);n.fillStyle=p;const r=c-i.left,s=u-i.top,o=f-c+i.width,a=d-u+i.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),ze(n,{x:r,y:s,w:o,h:a,radius:t}),n.fill()):n.fillRect(r,s,o,a)}Be(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:e.color,textAlign:h,textBaseline:"middle"})}}function zl(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,P);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}function Vl(t,e,n,i){const r=t.ctx,s=e.circular,{color:o,lineWidth:a}=e;!s&&!i||!o||!a||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),zl(t,n,s,i),r.closePath(),r.stroke(),r.restore())}function Wl(t,e,n){return Xe(t,{label:n,index:e,type:"pointLabel"})}Tl.id="logarithmic",Tl.defaults={ticks:{callback:br.formatters.logarithmic,major:{enabled:!0}}};class Hl extends Ml{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Qe(El(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=l(t)&&!isNaN(t)?t:0,this.max=l(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/El(this.options))}generateTickLabels(t){Ml.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=d(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Rl(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){const e=P/(this._pointLabels.length||1),n=this.options.startAngle||0;return Z(t*e+J(n))}getDistanceFromCenterForValue(t){if(s(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(s(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return Wl(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-N+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),zl(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i}=e,r=this._pointLabels.length;let s,o,a;if(e.pointLabels.display&&Fl(this,r),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e){o=this.getDistanceFromCenterForValue(t.value);const n=i.setContext(this.getContext(e-1));Vl(this,n,o,r)}})),n.display){for(t.save(),s=r-1;s>=0;s--){const i=n.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:l}=i;l&&r&&(t.lineWidth=l,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,o=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),a=this.getPointPosition(s,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(a.x,a.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=Ge(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=Qe(a.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}Be(t,i.label,0,-r,l,{color:a.color})})),t.restore()}drawTitle(){}}Hl.id="radialLinear",Hl.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:br.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}},Hl.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Hl.descriptors={angleLines:{_fallback:"grid"}};const $l={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ul=Object.keys($l);function ql(t,e){return t-e}function Jl(t,e){if(s(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let a=e;return"function"===typeof i&&(a=i(a)),l(a)||(a="string"===typeof i?n.parse(a,i):n.parse(a)),null===a?null:(r&&(a="week"!==r||!H(o)&&!0!==o?n.startOf(a,r):n.startOf(a,"isoWeek",o)),+a)}function Ql(t,e,n,i){const r=Ul.length;for(let s=Ul.indexOf(t);s<r-1;++s){const t=$l[Ul[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return Ul[s]}return Ul[r-1]}function Gl(t,e,n,i,r){for(let s=Ul.length-1;s>=Ul.indexOf(n);s--){const n=Ul[s];if($l[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return Ul[n?Ul.indexOf(n):0]}function Yl(t){for(let e=Ul.indexOf(t)+1,n=Ul.length;e<n;++e)if($l[Ul[e]].common)return Ul[e]}function Kl(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=rt(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}else t[e]=!0}function Xl(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Zl(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?Xl(t,i,r,n):i}class th extends Br{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),i=this._adapter=new Qr._date(t.adapters.date);i.init(e),w(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Jl(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=l(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=l(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=this.max,o=at(i,r,s);return this._unit=e.unit||(n.autoSkip?Ql(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):Gl(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?Yl(this._unit):void 0,this.initOffsets(i),t.reverse&&o.reverse(),Zl(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t){let e,n,i=0,r=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),i=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),r=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;i=et(i,0,s),r=et(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||Ql(r.minUnit,e,n,this._getLabelCapacity(e)),o=c(r.stepSize,1),a="week"===s&&r.isoWeekday,l=H(a)||!0===a,h={};let u,f,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const p="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,f=0;u<n;u=+t.add(u,o,s),f++)Kl(h,u,p);return u!==n&&"ticks"!==i.bounds&&1!==f||Kl(h,u,p),Object.keys(h).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.time.displayFormats,o=this._unit,a=this._majorUnit,l=o&&s[o],h=a&&s[a],c=n[e],u=a&&h&&c&&c.major,f=this._adapter.format(t,i||(u?h:l)),p=r.ticks.callback;return p?d(p,[f,e,n],this):f}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=J(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,Zl(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Jl(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ut(t.sort(ql))}}function eh(t,e,n){let i,r,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=st(t,"pos",e)),({pos:i,time:s}=t[a]),({pos:r,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=st(t,"time",e)),({time:i,pos:s}=t[a]),({time:r,pos:o}=t[l]));const h=r-i;return h?s+(o-s)*(e-i)/h:s}th.id="time",th.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class nh extends th{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=eh(e,this.min),this._tableRange=eh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,o,a,l,h;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)h=i[s+1],a=i[s-1],l=i[s],Math.round((h+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(eh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return eh(this._table,n*this._tableRange+this._minPos,!0)}}nh.id="timeseries",nh.defaults=th.defaults;var ih=Object.freeze({__proto__:null,CategoryScale:_l,LinearScale:Ol,LogarithmicScale:Tl,RadialLinearScale:Hl,TimeScale:th,TimeSeriesScale:nh});const rh=[Ur,aa,bl,ih]},3066:function(t,e,n){"use strict";n.d(e,{Xy:function(){return Wt}});var i=n(1901),r=n(8045),s=n(2235),o=n(5266);n(1703);function a(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];"string"==typeof r?t.setAttribute(i,r):null!=r&&(t[i]=r)}e++}for(;e<arguments.length;e++)l(t,arguments[e]);return t}function l(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)l(t,e[n])}}const h="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class c{constructor(t,e,n=0,i=t.length,r){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,i),this.bufferStart=n,this.normalize=r?t=>r(h(t)):h,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,r.gm)(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=(0,r.bg)(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,r.nZ)(t);let i=this.normalize(e);for(let r=0,s=n;;r++){let t=i.charCodeAt(r),o=this.match(t,s);if(o)return this.value=o,this;if(r==i.length-1)break;s==n&&r<e.length&&e.charCodeAt(r)==t&&s++}}}match(t,e){let n=null;for(let i=0;i<this.matches.length;i+=2){let r=this.matches[i],s=!1;this.query.charCodeAt(r)==t&&(r==this.query.length-1?n={from:this.matches[i+1],to:e+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n}}"undefined"!=typeof Symbol&&(c.prototype[Symbol.iterator]=function(){return this});const u={from:-1,to:-1,match:/.*/.exec("")},f="gm"+(null==/x/.unicode?"":"u");class d{constructor(t,e,n,i=0,r=t.length){if(this.to=r,this.curLine="",this.done=!1,this.value=u,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new m(t,e,n,i,r);this.re=new RegExp(e,f+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.iter=t.iter();let s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=i,this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,i=n+e[0].length;if(this.matchPos=i+(n==i?1:0),n==this.curLine.length&&this.nextLine(),n<i||n>this.value.to)return this.value={from:n,to:i,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const p=new WeakMap;class g{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let i=p.get(t);if(!i||i.from>=n||i.to<=e){let i=new g(e,t.sliceString(e,n));return p.set(t,i),i}if(i.from==e&&i.to==n)return i;let{text:r,from:s}=i;return s>e&&(r=t.sliceString(e,s)+r,s=e),i.to<n&&(r+=t.sliceString(i.to,n)),p.set(t,new g(s,r)),new g(e,r.slice(e-s,n-s))}}class m{constructor(t,e,n,i,r){this.text=t,this.to=r,this.done=!1,this.value=u,this.matchPos=i,this.re=new RegExp(e,f+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.flat=g.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e&&this.flat.to<this.to&&e.index+e[0].length>this.flat.text.length-10&&(e=null),e){let t=this.flat.from+e.index,n=t+e[0].length;return this.value={from:t,to:n,match:e},this.matchPos=n+(t==n?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=g.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function v(t){try{return new RegExp(t,f),!0}catch(e){return!1}}function b(t){let e=a("input",{class:"cm-textfield",name:"line"}),n=a("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:y.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),i())},onsubmit:t=>{t.preventDefault(),i()}},a("label",t.state.phrase("Go to line"),": ",e)," ",a("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:i}=t,s=i.doc.lineAt(i.selection.main.head),[,o,a,l,h]=n,c=l?+l.slice(1):0,u=a?+a:s.number;if(a&&h){let t=u/100;o&&(t=t*("-"==o?-1:1)+s.number/i.doc.lines),u=Math.round(i.doc.lines*t)}else a&&o&&(u=u*("-"==o?-1:1)+s.number);let f=i.doc.line(Math.max(1,Math.min(i.doc.lines,u)));t.dispatch({effects:y.of(!1),selection:r.jT.cursor(f.from+Math.max(0,Math.min(c,f.length))),scrollIntoView:!0}),t.focus()}return{dom:n}}"undefined"!=typeof Symbol&&(d.prototype[Symbol.iterator]=m.prototype[Symbol.iterator]=function(){return this});const y=r.Py.define(),w=r.QQ.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(y)&&(t=n.value);return t},provide:t=>i.mH.from(t,(t=>t?b:null))}),x=t=>{let e=(0,i.Sd)(t,b);if(!e){let n=[y.of(!0)];null==t.state.field(w,!1)&&n.push(r.Py.appendConfig.of([w,_])),t.dispatch({effects:n}),e=(0,i.Sd)(t,b)}return e&&e.dom.querySelector("input").focus(),!0},_=i.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),k={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},S=r.r$.define({combine(t){return(0,r.BO)(t,k,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function M(t){let e=[D,E];return t&&e.push(S.of(t)),e}const O=i.p.mark({class:"cm-selectionMatch"}),C=i.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function A(t,e,n,i){return(0==n||t(e.sliceDoc(n-1,n))!=r.D0.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=r.D0.Word)}function T(t,e,n,i){return t(e.sliceDoc(n,n+1))==r.D0.Word&&t(e.sliceDoc(i-1,i))==r.D0.Word}const E=i.lg.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(S),{state:n}=t,r=n.selection;if(r.ranges.length>1)return i.p.none;let s,o=r.main,a=null;if(o.empty){if(!e.highlightWordAroundCursor)return i.p.none;let t=n.wordAt(o.head);if(!t)return i.p.none;a=n.charCategorizer(o.head),s=n.sliceDoc(t.from,t.to)}else{let t=o.to-o.from;if(t<e.minSelectionLength||t>200)return i.p.none;if(e.wholeWords){if(s=n.sliceDoc(o.from,o.to),a=n.charCategorizer(o.head),!A(a,n,o.from,o.to)||!T(a,n,o.from,o.to))return i.p.none}else if(s=n.sliceDoc(o.from,o.to).trim(),!s)return i.p.none}let l=[];for(let h of t.visibleRanges){let t=new c(n.doc,s,h.from,h.to);while(!t.next().done){let{from:r,to:s}=t.value;if((!a||A(a,n,r,s))&&(o.empty&&r<=o.from&&s>=o.to?l.push(C.range(r,s)):(r>=o.to||s<=o.from)&&l.push(O.range(r,s)),l.length>e.maxMatches))return i.p.none}}return i.p.set(l)}},{decorations:t=>t.decorations}),D=i.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),P=({state:t,dispatch:e})=>{let{selection:n}=t,i=r.jT.create(n.ranges.map((e=>t.wordAt(e.head)||r.jT.cursor(e.head))),n.mainIndex);return!i.eq(n)&&(e(t.update({selection:i})),!0)};function R(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,a=new c(t.doc,e,i[i.length-1].to);;){if(a.next(),!a.done){if(o&&i.some((t=>t.from==a.value.from)))continue;if(s){let e=t.wordAt(a.value.from);if(!e||e.from!=a.value.from||e.to!=a.value.to)continue}return a.value}if(o)return null;a=new c(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}}const I=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return P({state:t,dispatch:e});let s=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=s)))return!1;let o=R(t,s);return!!o&&(e(t.update({selection:t.selection.addRange(r.jT.range(o.from,o.to),!1),effects:i.tk.scrollIntoView(o.to)})),!0)},L=r.r$.define({combine(t){var e;return{top:t.reduce(((t,e)=>null!==t&&void 0!==t?t:e.top),void 0)||!1,caseSensitive:t.reduce(((t,e)=>null!==t&&void 0!==t?t:e.caseSensitive),void 0)||!1,createPanel:(null===(e=t.find((t=>t.createPanel)))||void 0===e?void 0:e.createPanel)||(t=>new at(t))}}});class N{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||v(this.search)),this.unquoted=t.literal?this.search:this.search.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp}create(){return this.regexp?new V(this):new F(this)}getCursor(t,e=0,n=t.length){return this.regexp?z(this,t,e,n):j(this,t,e,n)}}class B{constructor(t){this.spec=t}}function j(t,e,n,i){return new c(e,t.unquoted,n,i,t.caseSensitive?void 0:t=>t.toLowerCase())}class F extends B{constructor(t){super(t)}nextMatch(t,e,n){let i=j(this.spec,t,n,t.length).nextOverlapping();return i.done&&(i=j(this.spec,t,0,e).nextOverlapping()),i.done?null:i.value}prevMatchInRange(t,e,n){for(let i=n;;){let n=Math.max(e,i-1e4-this.spec.unquoted.length),r=j(this.spec,t,n,i),s=null;while(!r.nextOverlapping().done)s=r.value;if(s)return s;if(n==e)return null;i-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.spec.replace}matchAll(t,e){let n=j(this.spec,t,0,t.length),i=[];while(!n.next().done){if(i.length>=e)return null;i.push(n.value)}return i}highlight(t,e,n,i){let r=j(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.length));while(!r.next().done)i(r.value.from,r.value.to)}}function z(t,e,n,i){return new d(e,t.search,t.caseSensitive?void 0:{ignoreCase:!0},n,i)}class V extends B{nextMatch(t,e,n){let i=z(this.spec,t,n,t.length).next();return i.done&&(i=z(this.spec,t,0,e).next()),i.done?null:i.value}prevMatchInRange(t,e,n){for(let i=1;;i++){let r=Math.max(e,n-1e4*i),s=z(this.spec,t,r,n),o=null;while(!s.next().done)o=s.value;if(o&&(r==e||o.from>r+10))return o;if(r==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.spec.replace.replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=z(this.spec,t,0,t.length),i=[];while(!n.next().done){if(i.length>=e)return null;i.push(n.value)}return i}highlight(t,e,n,i){let r=z(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.length));while(!r.next().done)i(r.value.from,r.value.to)}}const W=r.Py.define(),H=r.Py.define(),$=r.QQ.define({create(t){return new U(it(t).create(),null)},update(t,e){for(let n of e.effects)n.is(W)?t=new U(n.value.create(),t.panel):n.is(H)&&(t=new U(t.query,n.value?nt:null));return t},provide:t=>i.mH.from(t,(t=>t.panel))});class U{constructor(t,e){this.query=t,this.panel=e}}const q=i.p.mark({class:"cm-searchMatch"}),J=i.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Q=i.lg.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field($))}update(t){let e=t.state.field($);(e!=t.startState.field($)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return i.p.none;let{view:n}=this,s=new r.f_;for(let i=0,r=n.visibleRanges,o=r.length;i<o;i++){let{from:e,to:a}=r[i];while(i<o-1&&a>r[i+1].from-500)a=r[++i].to;t.highlight(n.state.doc,e,a,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));s.add(t,e,i?J:q)}))}return s.finish()}},{decorations:t=>t.decorations});function G(t){return e=>{let n=e.state.field($,!1);return n&&n.query.spec.valid?t(e,n):rt(e)}}const Y=G(((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state.doc,n,n);return!!i&&(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:ut(t,i),userEvent:"select.search"}),!0)})),K=G(((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,r=e.prevMatch(n.doc,i,i);return!!r&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:ut(t,r),userEvent:"select.search"}),!0)})),X=G(((t,{query:e})=>{let n=e.matchAll(t.state.doc,1e3);return!(!n||!n.length)&&(t.dispatch({selection:r.jT.create(n.map((t=>r.jT.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),Z=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:s}=n.main,o=[],a=0;for(let l=new c(t.doc,t.sliceDoc(i,s));!l.next().done;){if(o.length>1e3)return!1;l.value.from==i&&(a=o.length),o.push(r.jT.range(l.value.from,l.value.to))}return e(t.update({selection:r.jT.create(o,a),userEvent:"select.search.matches"})),!0},tt=G(((t,{query:e})=>{let{state:n}=t,{from:r,to:s}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n.doc,r,r);if(!o)return!1;let a,l,h=[],c=[];if(o.from==r&&o.to==s&&(l=n.toText(e.getReplacement(o)),h.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(n.doc,o.from,o.to),c.push(i.tk.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let e=0==h.length||h[0].from>=o.to?0:o.to-o.from-l.length;a={anchor:o.from-e,head:o.to-e},c.push(ut(t,o))}return t.dispatch({changes:h,selection:a,scrollIntoView:!!a,effects:c,userEvent:"input.replace"}),!0})),et=G(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state.doc,1e9).map((t=>{let{from:n,to:i}=t;return{from:n,to:i,insert:e.getReplacement(t)}}));if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:i.tk.announce.of(r),userEvent:"input.replace.all"}),!0}));function nt(t){return t.state.facet(L).createPanel(t)}function it(t,e){var n;let i=t.selection.main,r=i.empty||i.to>i.from+100?"":t.sliceDoc(i.from,i.to),s=null!==(n=null===e||void 0===e?void 0:e.caseSensitive)&&void 0!==n?n:t.facet(L).caseSensitive;return e&&!r?e:new N({search:r.replace(/\n/g,"\\n"),caseSensitive:s})}const rt=t=>{let e=t.state.field($,!1);if(e&&e.panel){let n=(0,i.Sd)(t,nt);if(!n)return!1;let r=n.dom.querySelector("[main-field]");if(r&&r!=t.root.activeElement){let n=it(t.state,e.query.spec);n.valid&&t.dispatch({effects:W.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[H.of(!0),e?W.of(it(t.state,e.query.spec)):r.Py.appendConfig.of(dt)]});return!0},st=t=>{let e=t.state.field($,!1);if(!e||!e.panel)return!1;let n=(0,i.Sd)(t,nt);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:H.of(!1)}),!0},ot=[{key:"Mod-f",run:rt,scope:"editor search-panel"},{key:"F3",run:Y,shift:K,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Y,shift:K,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:st,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Z},{key:"Alt-g",run:x},{key:"Mod-d",run:I,preventDefault:!0}];class at{constructor(t){this.view=t;let e=this.query=t.state.field($).query.spec;function n(t,e,n){return a("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=a("input",{value:e.search,placeholder:lt(t,"Find"),"aria-label":lt(t,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=a("input",{value:e.replace,placeholder:lt(t,"Replace"),"aria-label":lt(t,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=a("input",{type:"checkbox",name:"case",checked:e.caseSensitive,onchange:this.commit}),this.reField=a("input",{type:"checkbox",name:"re",checked:e.regexp,onchange:this.commit}),this.dom=a("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>Y(t)),[lt(t,"next")]),n("prev",(()=>K(t)),[lt(t,"previous")]),n("select",(()=>X(t)),[lt(t,"all")]),a("label",null,[this.caseField,lt(t,"match case")]),a("label",null,[this.reField,lt(t,"regexp")]),...t.state.readOnly?[]:[a("br"),this.replaceField,n("replace",(()=>tt(t)),[lt(t,"replace")]),n("replaceAll",(()=>et(t)),[lt(t,"replace all")]),a("button",{name:"close",onclick:()=>st(t),"aria-label":lt(t,"close"),type:"button"},["×"])]])}commit(){let t=new N({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:W.of(t)}))}keydown(t){(0,i.$1)(this.view,t,"search-panel")?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?K:Y)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),tt(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(W)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(L).top}}function lt(t,e){return t.state.phrase(e)}const ht=30,ct=/[\s\.,:;?!]/;function ut(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),s=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-ht),a=Math.min(s,n+ht),l=t.state.sliceDoc(o,a);if(o!=r.from)for(let i=0;i<ht;i++)if(!ct.test(l[i+1])&&ct.test(l[i])){l=l.slice(i);break}if(a!=s)for(let i=l.length-1;i>l.length-ht;i--)if(!ct.test(l[i-1])&&ct.test(l[i])){l=l.slice(0,i);break}return i.tk.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const ft=i.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),dt=[$,r.Wl.lowest(Q),ft];var pt=n(3152);class gt{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class mt{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=t,s=n.facet(Rt).markerFilter;s&&(r=s(r));let o=i.p.set(r.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?i.p.widget({widget:new Nt(t),diagnostic:t}).range(t.from):i.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to))),!0);return new mt(o,e,vt(o))}}function vt(t,e=null,n=0){let i=null;return t.between(n,1e9,((t,n,{spec:r})=>{if(!e||r.diagnostic==e)return i=new gt(t,n,r.diagnostic),!1})),i}function bt(t,e){return!(!t.effects.some((t=>t.is(xt)))&&!t.changes.touchesRange(e.pos))}function yt(t,e){return t.field(St,!1)?e:e.concat(r.Py.appendConfig.of([St,i.tk.decorations.compute([St],(t=>{let{selected:e,panel:n}=t.field(St);return e&&n&&e.from!=e.to?i.p.set([Mt.range(e.from,e.to)]):i.p.none})),(0,i.bF)(Ot,{hideOn:bt}),Vt]))}function wt(t,e){return{effects:yt(t,[xt.of(e)])}}const xt=r.Py.define(),_t=r.Py.define(),kt=r.Py.define(),St=r.QQ.define({create(){return new mt(i.p.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),i=null;if(t.selected){let r=e.changes.mapPos(t.selected.from,1);i=vt(n,t.selected.diagnostic,r)||vt(n,null,r)}t=new mt(n,t.panel,i)}for(let n of e.effects)n.is(xt)?t=mt.init(n.value,t.panel,e.state):n.is(_t)?t=new mt(t.diagnostics,n.value?jt.open:null,t.selected):n.is(kt)&&(t=new mt(t.diagnostics,t.panel,n.value));return t},provide:t=>[i.mH.from(t,(t=>t.panel)),i.tk.decorations.from(t,(t=>t.diagnostics))]});const Mt=i.p.mark({class:"cm-lintRange cm-lintRange-active"});function Ot(t,e,n){let{diagnostics:i}=t.state.field(St),r=[],s=2e8,o=0;i.between(e-(n<0?1:0),e+(n>0?1:0),((t,i,{spec:a})=>{e>=t&&e<=i&&(t==i||(e>t||n>0)&&(e<i||n<0))&&(r.push(a.diagnostic),s=Math.min(t,s),o=Math.max(i,o))}));let a=t.state.facet(Rt).tooltipFilter;return a&&(r=a(r)),r.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:Ct(t,r)}}}:null}function Ct(t,e){return a("ul",{class:"cm-tooltip-lint"},e.map((e=>Lt(t,e,!1))))}const At=t=>{let e=t.state.field(St,!1);e&&e.panel||t.dispatch({effects:yt(t.state,[_t.of(!0)])});let n=(0,i.Sd)(t,jt.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},Tt=t=>{let e=t.state.field(St,!1);return!(!e||!e.panel)&&(t.dispatch({effects:_t.of(!1)}),!0)},Et=t=>{let e=t.state.field(St,!1);if(!e)return!1;let n=t.state.selection.main,i=e.diagnostics.iter(n.to+1);return!(!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to))&&(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},Dt=[{key:"Mod-Shift-m",run:At},{key:"F8",run:Et}],Pt=i.lg.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Rt);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:t}=this.view,{sources:e}=t.facet(Rt);Promise.all(e.map((t=>Promise.resolve(t(this.view))))).then((e=>{let n=e.reduce(((t,e)=>t.concat(e)));this.view.state.doc==t.doc&&this.view.dispatch(wt(this.view.state,n))}),(t=>{(0,i.OO)(this.view.state,t)}))}}update(t){let e=t.state.facet(Rt);(t.docChanged||e!=t.startState.facet(Rt))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Rt=r.r$.define({combine(t){return Object.assign({sources:t.map((t=>t.source))},(0,r.BO)(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:Pt});function It(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let i=n[t];if(/[a-zA-Z]/.test(i)&&!e.some((t=>t.toLowerCase()==i.toLowerCase()))){e.push(i);continue t}}e.push("")}return e}function Lt(t,e,n){var i;let r=n?It(e.actions):[];return a("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},a("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(i=e.actions)||void 0===i?void 0:i.map(((n,i)=>{let s=i=>{i.preventDefault();let r=vt(t.state.field(St).diagnostics,e);r&&n.apply(t,r.from,r.to)},{name:o}=n,l=r[i]?o.indexOf(r[i]):-1,h=l<0?o:[o.slice(0,l),a("u",o.slice(l,l+1)),o.slice(l+1)];return a("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":` Action: ${o}${l<0?"":` (access key "${r[i]})"`}.`},h)})),e.source&&a("div",{class:"cm-diagnosticSource"},e.source))}class Nt extends i.l9{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return a("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Bt{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Lt(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class jt{constructor(t){this.view=t,this.items=[];let e=e=>{if(27==e.keyCode)Tt(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],i=It(n.actions);for(let r=0;r<i.length;r++)if(i[r].toUpperCase().charCodeAt(0)==e.keyCode){let e=vt(this.view.state.field(St).diagnostics,n);e&&n.actions[r].apply(t,e.from,e.to)}}}e.preventDefault()},n=t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)};this.list=a("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e,onclick:n}),this.dom=a("div",{class:"cm-panel-lint"},this.list,a("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Tt(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(St).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(St),n=0,i=!1,r=null;t.between(0,this.view.state.doc.length,((t,s,{spec:o})=>{let a,l=-1;for(let e=n;e<this.items.length;e++)if(this.items[e].diagnostic==o.diagnostic){l=e;break}l<0?(a=new Bt(this.view,o.diagnostic),this.items.splice(n,0,a),i=!0):(a=this.items[l],l>n&&(this.items.splice(n,l-n),i=!0)),e&&a.diagnostic==e.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),r=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));while(n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0))i=!0,this.items.pop();0==this.items.length&&(this.items.push(new Bt(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),r?(this.list.setAttribute("aria-activedescendant",r.id),this.view.requestMeasure({key:this,read:()=>({sel:r.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{t.top<e.top?this.list.scrollTop-=e.top-t.top:t.bottom>e.bottom&&(this.list.scrollTop+=t.bottom-e.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){while(t!=n.dom)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);while(t)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=this.view.state.field(St),n=vt(e.diagnostics,this.items[t].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:kt.of(n)})}static open(t){return new jt(t)}}function Ft(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function zt(t){return Ft(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Vt=i.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:zt("#d11")},".cm-lintRange-warning":{backgroundImage:zt("orange")},".cm-lintRange-info":{backgroundImage:zt("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});i.SJ;const Wt=(()=>[(0,i.Eu)(),(0,i.HQ)(),(0,i.AE)(),(0,o.m8)(),(0,s.mi)(),(0,i.Uw)(),(0,i.qr)(),r.yy.allowMultipleSelections.of(!0),(0,s.nY)(),(0,s.nF)(s.R_,{fallback:!0}),(0,s.n$)(),(0,pt.vQ)(),(0,pt.ys)(),(0,i.Zs)(),(0,i.S2)(),(0,i.ZO)(),M(),i.$f.of([...pt.GA,...o.wQ,...ot,...o.f$,...s.e7,...pt.B1,...Dt])])()},6064:function(t,e,n){"use strict";n.d(e,{Qc:function(){return Ei}});n(8675),n(3462),n(7380),n(1118),n(1703),n(4633);var i="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},r=[],s=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a=!1;function l(){a=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)r[e]=t[e],s[t.charCodeAt(e)]=e;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}function h(t){var e,n,i,r,h,c;a||l();var u=t.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");h="="===t[u-2]?2:"="===t[u-1]?1:0,c=new o(3*u/4-h),i=h>0?u-4:u;var f=0;for(e=0,n=0;e<i;e+=4,n+=3)r=s[t.charCodeAt(e)]<<18|s[t.charCodeAt(e+1)]<<12|s[t.charCodeAt(e+2)]<<6|s[t.charCodeAt(e+3)],c[f++]=r>>16&255,c[f++]=r>>8&255,c[f++]=255&r;return 2===h?(r=s[t.charCodeAt(e)]<<2|s[t.charCodeAt(e+1)]>>4,c[f++]=255&r):1===h&&(r=s[t.charCodeAt(e)]<<10|s[t.charCodeAt(e+1)]<<4|s[t.charCodeAt(e+2)]>>2,c[f++]=r>>8&255,c[f++]=255&r),c}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function u(t,e,n){for(var i,r=[],s=e;s<n;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],r.push(c(i));return r.join("")}function f(t){var e;a||l();for(var n=t.length,i=n%3,s="",o=[],h=16383,c=0,f=n-i;c<f;c+=h)o.push(u(t,c,c+h>f?f:c+h));return 1===i?(e=t[n-1],s+=r[e>>2],s+=r[e<<4&63],s+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],s+=r[e>>10],s+=r[e>>4&63],s+=r[e<<2&63],s+="="),o.push(s),o.join("")}function d(t,e,n,i,r){var s,o,a=8*r-i-1,l=(1<<a)-1,h=l>>1,c=-7,u=n?r-1:0,f=n?-1:1,d=t[e+u];for(u+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+u],u+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;o=256*o+t[e+u],u+=f,c-=8);if(0===s)s=1-h;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),s-=h}return(d?-1:1)*o*Math.pow(2,s-i)}function p(t,e,n,i,r,s){var o,a,l,h=8*s-r-1,c=(1<<h)-1,u=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+u>=1?f/l:f*Math.pow(2,1-u),e*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(o=o<<r|a,h+=r;h>0;t[n+d]=255&o,d+=p,o/=256,h-=8);t[n+d-p]|=128*g}var g={}.toString,m=Array.isArray||function(t){return"[object Array]"==g.call(t)},v=50;function b(){return w.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(t,e){if(b()<e)throw new RangeError("Invalid typed array length");return w.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=w.prototype):(null===t&&(t=new w(e)),t.length=e),t}function w(t,e,n){if(!w.TYPED_ARRAY_SUPPORT&&!(this instanceof w))return new w(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return S(this,t)}return x(this,t,e,n)}function x(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?C(t,e,n,i):"string"===typeof e?M(t,e,n):A(t,e)}function _(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function k(t,e,n,i){return _(e),e<=0?y(t,e):void 0!==n?"string"===typeof i?y(t,e).fill(n,i):y(t,e).fill(n):y(t,e)}function S(t,e){if(_(e),t=y(t,e<0?0:0|T(e)),!w.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function M(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!w.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|D(e,n);t=y(t,i);var r=t.write(e,n);return r!==i&&(t=t.slice(0,r)),t}function O(t,e){var n=e.length<0?0:0|T(e.length);t=y(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function C(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),w.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=w.prototype):t=O(t,e),t}function A(t,e){if(E(e)){var n=0|T(e.length);return t=y(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||dt(e.length)?y(t,0):O(t,e);if("Buffer"===e.type&&m(e.data))return O(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function T(t){if(t>=b())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b().toString(16)+" bytes");return 0|t}function E(t){return!(null==t||!t._isBuffer)}function D(t,e){if(E(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return lt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ut(t).length;default:if(i)return lt(t).length;e=(""+e).toLowerCase(),i=!0}}function P(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return Q(this,e,n);case"utf8":case"utf-8":return H(this,e,n);case"ascii":return q(this,e,n);case"latin1":case"binary":return J(this,e,n);case"base64":return W(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function R(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function I(t,e,n,i,r){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof e&&(e=w.from(e,i)),E(e))return 0===e.length?-1:L(t,e,n,i,r);if("number"===typeof e)return e&=255,w.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):L(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function L(t,e,n,i,r){var s,o=1,a=t.length,l=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,n/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(s=n;s<a;s++)if(h(t,s)===h(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){for(var u=!0,f=0;f<l;f++)if(h(t,s+f)!==h(e,f)){u=!1;break}if(u)return s}return-1}function N(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function B(t,e,n,i){return ft(lt(e,t.length-n),t,n,i)}function j(t,e,n,i){return ft(ht(e),t,n,i)}function F(t,e,n,i){return j(t,e,n,i)}function z(t,e,n,i){return ft(ut(e),t,n,i)}function V(t,e,n,i){return ft(ct(e,t.length-n),t,n,i)}function W(t,e,n){return 0===e&&n===t.length?f(t):f(t.slice(e,n))}function H(t,e,n){n=Math.min(t.length,n);var i=[],r=e;while(r<n){var s,o,a,l,h=t[r],c=null,u=h>239?4:h>223?3:h>191?2:1;if(r+u<=n)switch(u){case 1:h<128&&(c=h);break;case 2:s=t[r+1],128===(192&s)&&(l=(31&h)<<6|63&s,l>127&&(c=l));break;case 3:s=t[r+1],o=t[r+2],128===(192&s)&&128===(192&o)&&(l=(15&h)<<12|(63&s)<<6|63&o,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(l=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,u=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=u}return U(i)}w.TYPED_ARRAY_SUPPORT=void 0===i.TYPED_ARRAY_SUPPORT||i.TYPED_ARRAY_SUPPORT,b(),w.poolSize=8192,w._augment=function(t){return t.__proto__=w.prototype,t},w.from=function(t,e,n){return x(null,t,e,n)},w.TYPED_ARRAY_SUPPORT&&(w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&w[Symbol.species]),w.alloc=function(t,e,n){return k(null,t,e,n)},w.allocUnsafe=function(t){return S(null,t)},w.allocUnsafeSlow=function(t){return S(null,t)},w.isBuffer=pt,w.compare=function(t,e){if(!E(t)||!E(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},w.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(t,e){if(!m(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return w.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=w.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!E(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},w.byteLength=D,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)R(this,e,e+1);return this},w.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)R(this,e,e+3),R(this,e+1,e+2);return this},w.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)R(this,e,e+7),R(this,e+1,e+6),R(this,e+2,e+5),R(this,e+3,e+4);return this},w.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?H(this,0,t):P.apply(this,arguments)},w.prototype.equals=function(t){if(!E(t))throw new TypeError("Argument must be a Buffer");return this===t||0===w.compare(this,t)},w.prototype.inspect=function(){var t="",e=v;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},w.prototype.compare=function(t,e,n,i,r){if(!E(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var s=r-i,o=n-e,a=Math.min(s,o),l=this.slice(i,r),h=t.slice(e,n),c=0;c<a;++c)if(l[c]!==h[c]){s=l[c],o=h[c];break}return s<o?-1:o<s?1:0},w.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},w.prototype.indexOf=function(t,e,n){return I(this,t,e,n,!0)},w.prototype.lastIndexOf=function(t,e,n){return I(this,t,e,n,!1)},w.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return N(this,t,e,n);case"utf8":case"utf-8":return B(this,t,e,n);case"ascii":return j(this,t,e,n);case"latin1":case"binary":return F(this,t,e,n);case"base64":return z(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;function U(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);var n="",i=0;while(i<e)n+=String.fromCharCode.apply(String,t.slice(i,i+=$));return n}function q(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function J(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function Q(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=e;s<n;++s)r+=at(t[s]);return r}function G(t,e,n){for(var i=t.slice(e,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function Y(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function K(t,e,n,i,r,s){if(!E(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function X(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-n,2);r<s;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function Z(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-n,4);r<s;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function tt(t,e,n,i,r,s){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function et(t,e,n,i,r){return r||tt(t,e,n,4),p(t,e,n,i,23,4),n+4}function nt(t,e,n,i,r){return r||tt(t,e,n,8),p(t,e,n,i,52,8),n+8}w.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),w.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=w.prototype;else{var r=e-t;n=new w(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+t]}return n},w.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Y(t,e,this.length);var i=this[t],r=1,s=0;while(++s<e&&(r*=256))i+=this[t+s]*r;return i},w.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Y(t,e,this.length);var i=this[t+--e],r=1;while(e>0&&(r*=256))i+=this[t+--e]*r;return i},w.prototype.readUInt8=function(t,e){return e||Y(t,1,this.length),this[t]},w.prototype.readUInt16LE=function(t,e){return e||Y(t,2,this.length),this[t]|this[t+1]<<8},w.prototype.readUInt16BE=function(t,e){return e||Y(t,2,this.length),this[t]<<8|this[t+1]},w.prototype.readUInt32LE=function(t,e){return e||Y(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},w.prototype.readUInt32BE=function(t,e){return e||Y(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},w.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Y(t,e,this.length);var i=this[t],r=1,s=0;while(++s<e&&(r*=256))i+=this[t+s]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},w.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Y(t,e,this.length);var i=e,r=1,s=this[t+--i];while(i>0&&(r*=256))s+=this[t+--i]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},w.prototype.readInt8=function(t,e){return e||Y(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},w.prototype.readInt16LE=function(t,e){e||Y(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},w.prototype.readInt16BE=function(t,e){e||Y(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},w.prototype.readInt32LE=function(t,e){return e||Y(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},w.prototype.readInt32BE=function(t,e){return e||Y(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},w.prototype.readFloatLE=function(t,e){return e||Y(t,4,this.length),d(this,t,!0,23,4)},w.prototype.readFloatBE=function(t,e){return e||Y(t,4,this.length),d(this,t,!1,23,4)},w.prototype.readDoubleLE=function(t,e){return e||Y(t,8,this.length),d(this,t,!0,52,8)},w.prototype.readDoubleBE=function(t,e){return e||Y(t,8,this.length),d(this,t,!1,52,8)},w.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;K(this,t,e,n,r,0)}var s=1,o=0;this[e]=255&t;while(++o<n&&(s*=256))this[e+o]=t/s&255;return e+n},w.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;K(this,t,e,n,r,0)}var s=n-1,o=1;this[e+s]=255&t;while(--s>=0&&(o*=256))this[e+s]=t/o&255;return e+n},w.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,1,255,0),w.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},w.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,2,65535,0),w.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):X(this,t,e,!0),e+2},w.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,2,65535,0),w.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):X(this,t,e,!1),e+2},w.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,4,4294967295,0),w.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Z(this,t,e,!0),e+4},w.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,4,4294967295,0),w.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Z(this,t,e,!1),e+4},w.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);K(this,t,e,n,r-1,-r)}var s=0,o=1,a=0;this[e]=255&t;while(++s<n&&(o*=256))t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},w.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);K(this,t,e,n,r-1,-r)}var s=n-1,o=1,a=0;this[e+s]=255&t;while(--s>=0&&(o*=256))t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},w.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,1,127,-128),w.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},w.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,2,32767,-32768),w.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):X(this,t,e,!0),e+2},w.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,2,32767,-32768),w.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):X(this,t,e,!1),e+2},w.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,4,2147483647,-2147483648),w.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Z(this,t,e,!0),e+4},w.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||K(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),w.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Z(this,t,e,!1),e+4},w.prototype.writeFloatLE=function(t,e,n){return et(this,t,e,!0,n)},w.prototype.writeFloatBE=function(t,e,n){return et(this,t,e,!1,n)},w.prototype.writeDoubleLE=function(t,e,n){return nt(this,t,e,!0,n)},w.prototype.writeDoubleBE=function(t,e,n){return nt(this,t,e,!1,n)},w.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,s=i-n;if(this===t&&n<e&&e<i)for(r=s-1;r>=0;--r)t[r+e]=this[r+n];else if(s<1e3||!w.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},w.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!w.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=E(t)?t:lt(new w(t,i).toString()),a=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%a]}return this};var it,rt=/[^+\/0-9A-Za-z-_]/g;function st(t){if(t=ot(t).replace(rt,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function ot(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function at(t){return t<16?"0"+t.toString(16):t.toString(16)}function lt(t,e){var n;e=e||1/0;for(var i=t.length,r=null,s=[],o=0;o<i;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function ht(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function ct(t,e){for(var n,i,r,s=[],o=0;o<t.length;++o){if((e-=2)<0)break;n=t.charCodeAt(o),i=n>>8,r=n%256,s.push(r),s.push(i)}return s}function ut(t){return h(st(t))}function ft(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function dt(t){return t!==t}function pt(t){return null!=t&&(!!t._isBuffer||gt(t)||mt(t))}function gt(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function mt(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&gt(t.slice(0,0))}function vt(){}function bt(){bt.init.call(this)}function yt(t){return void 0===t._maxListeners?bt.defaultMaxListeners:t._maxListeners}function wt(t,e,n){if(e)t.call(n);else for(var i=t.length,r=Et(t,i),s=0;s<i;++s)r[s].call(n)}function xt(t,e,n,i){if(e)t.call(n,i);else for(var r=t.length,s=Et(t,r),o=0;o<r;++o)s[o].call(n,i)}function _t(t,e,n,i,r){if(e)t.call(n,i,r);else for(var s=t.length,o=Et(t,s),a=0;a<s;++a)o[a].call(n,i,r)}function kt(t,e,n,i,r,s){if(e)t.call(n,i,r,s);else for(var o=t.length,a=Et(t,o),l=0;l<o;++l)a[l].call(n,i,r,s)}function St(t,e,n,i){if(e)t.apply(n,i);else for(var r=t.length,s=Et(t,r),o=0;o<r;++o)s[o].apply(n,i)}function Mt(t,e,n,i){var r,s,o;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if(s=t._events,s?(s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]):(s=t._events=new vt,t._eventsCount=0),o){if("function"===typeof o?o=s[e]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),!o.warned&&(r=yt(t),r&&r>0&&o.length>r)){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Ot(a)}}else o=s[e]=n,++t._eventsCount;return t}function Ot(t){"function"===typeof console.warn?console.warn(t):console.log(t)}function Ct(t,e,n){var i=!1;function r(){t.removeListener(e,r),i||(i=!0,n.apply(t,arguments))}return r.listener=n,r}function At(t){var e=this._events;if(e){var n=e[t];if("function"===typeof n)return 1;if(n)return n.length}return 0}function Tt(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function Et(t,e){var n=new Array(e);while(e--)n[e]=t[e];return n}function Dt(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Pt(){throw new Error("setTimeout has not been defined")}function Rt(){throw new Error("clearTimeout has not been defined")}vt.prototype=Object.create(null),bt.EventEmitter=bt,bt.usingDomains=!1,bt.prototype.domain=void 0,bt.prototype._events=void 0,bt.prototype._maxListeners=void 0,bt.defaultMaxListeners=10,bt.init=function(){this.domain=null,bt.usingDomains&&it.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new vt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},bt.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},bt.prototype.getMaxListeners=function(){return yt(this)},bt.prototype.emit=function(t){var e,n,i,r,s,o,a,l="error"===t;if(o=this._events,o)l=l&&null==o.error;else if(!l)return!1;if(a=this.domain,l){if(e=arguments[1],!a){if(e instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(n=o[t],!n)return!1;var c="function"===typeof n;switch(i=arguments.length,i){case 1:wt(n,c,this);break;case 2:xt(n,c,this,arguments[1]);break;case 3:_t(n,c,this,arguments[1],arguments[2]);break;case 4:kt(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),s=1;s<i;s++)r[s-1]=arguments[s];St(n,c,this,r)}return!0},bt.prototype.addListener=function(t,e){return Mt(this,t,e,!1)},bt.prototype.on=bt.prototype.addListener,bt.prototype.prependListener=function(t,e){return Mt(this,t,e,!0)},bt.prototype.once=function(t,e){if("function"!==typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Ct(this,t,e)),this},bt.prototype.prependOnceListener=function(t,e){if("function"!==typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Ct(this,t,e)),this},bt.prototype.removeListener=function(t,e){var n,i,r,s,o;if("function"!==typeof e)throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[t],!n)return this;if(n===e||n.listener&&n.listener===e)0===--this._eventsCount?this._events=new vt:(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(r=-1,s=n.length;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=n[s].listener,r=s;break}if(r<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new vt,this;delete i[t]}else Tt(n,r);i.removeListener&&this.emit("removeListener",t,o||e)}return this},bt.prototype.removeAllListeners=function(t){var e,n;if(n=this._events,!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=new vt,this._eventsCount=0):n[t]&&(0===--this._eventsCount?this._events=new vt:delete n[t]),this;if(0===arguments.length){for(var i,r=Object.keys(n),s=0;s<r.length;++s)i=r[s],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new vt,this._eventsCount=0,this}if(e=n[t],"function"===typeof e)this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},bt.prototype.listeners=function(t){var e,n,i=this._events;return i?(e=i[t],n=e?"function"===typeof e?[e.listener||e]:Dt(e):[]):n=[],n},bt.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):At.call(t,e)},bt.prototype.listenerCount=At,bt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var It=Pt,Lt=Rt;function Nt(t){if(It===setTimeout)return setTimeout(t,0);if((It===Pt||!It)&&setTimeout)return It=setTimeout,setTimeout(t,0);try{return It(t,0)}catch(e){try{return It.call(null,t,0)}catch(e){return It.call(this,t,0)}}}function Bt(t){if(Lt===clearTimeout)return clearTimeout(t);if((Lt===Rt||!Lt)&&clearTimeout)return Lt=clearTimeout,clearTimeout(t);try{return Lt(t)}catch(e){try{return Lt.call(null,t)}catch(e){return Lt.call(this,t)}}}"function"===typeof i.setTimeout&&(It=setTimeout),"function"===typeof i.clearTimeout&&(Lt=clearTimeout);var jt,Ft=[],zt=!1,Vt=-1;function Wt(){zt&&jt&&(zt=!1,jt.length?Ft=jt.concat(Ft):Vt=-1,Ft.length&&Ht())}function Ht(){if(!zt){var t=Nt(Wt);zt=!0;var e=Ft.length;while(e){jt=Ft,Ft=[];while(++Vt<e)jt&&jt[Vt].run();Vt=-1,e=Ft.length}jt=null,zt=!1,Bt(t)}}function $t(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ft.push(new Ut(t,e)),1!==Ft.length||zt||Nt(Ht)}function Ut(t,e){this.fun=t,this.array=e}Ut.prototype.run=function(){this.fun.apply(null,this.array)};var qt="browser",Jt="browser",Qt=!0,Gt={},Yt=[],Kt="",Xt={},Zt={},te={};function ee(){}var ne=ee,ie=ee,re=ee,se=ee,oe=ee,ae=ee,le=ee;function he(t){throw new Error("process.binding is not supported")}function ce(){return"/"}function ue(t){throw new Error("process.chdir is not supported")}function fe(){return 0}var de=i.performance||{},pe=de.now||de.mozNow||de.msNow||de.oNow||de.webkitNow||function(){return(new Date).getTime()};function ge(t){var e=.001*pe.call(de),n=Math.floor(e),i=Math.floor(e%1*1e9);return t&&(n-=t[0],i-=t[1],i<0&&(n--,i+=1e9)),[n,i]}var me=new Date;function ve(){var t=new Date,e=t-me;return e/1e3}var be,ye={nextTick:$t,title:qt,browser:Qt,env:Gt,argv:Yt,version:Kt,versions:Xt,on:ne,addListener:ie,once:re,off:se,removeListener:oe,removeAllListeners:ae,emit:le,binding:he,cwd:ce,chdir:ue,umask:fe,hrtime:ge,platform:Jt,release:Zt,config:te,uptime:ve};be="function"===typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var we=be,xe=/%[sdj%]/g;function _e(t){if(!Ve(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(Ce(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(t).replace(xe,(function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}})),o=i[n];n<r;o=i[++n])Fe(o)||!$e(o)?s+=" "+o:s+=" "+Ce(o);return s}function ke(t,e){if(We(i.process))return function(){return ke(t,e).apply(this,arguments)};if(!0===ye.noDeprecation)return t;var n=!1;function r(){if(!n){if(ye.throwDeprecation)throw new Error(e);ye.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}return r}var Se,Me={};function Oe(t){if(We(Se)&&(Se=ye.env.NODE_DEBUG||""),t=t.toUpperCase(),!Me[t])if(new RegExp("\\b"+t+"\\b","i").test(Se)){var e=0;Me[t]=function(){var n=_e.apply(null,arguments);console.error("%s %d: %s",t,e,n)}}else Me[t]=function(){};return Me[t]}function Ce(t,e){var n={seen:[],stylize:Te};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),je(e)?n.showHidden=e:e&&Ge(n,e),We(n.showHidden)&&(n.showHidden=!1),We(n.depth)&&(n.depth=2),We(n.colors)&&(n.colors=!1),We(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Ae),De(n,t,n.depth)}function Ae(t,e){var n=Ce.styles[e];return n?"["+Ce.colors[n][0]+"m"+t+"["+Ce.colors[n][1]+"m":t}function Te(t,e){return t}function Ee(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}function De(t,e,n){if(t.customInspect&&e&&Je(e.inspect)&&e.inspect!==Ce&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return Ve(i)||(i=De(t,i,n)),i}var r=Pe(t,e);if(r)return r;var s=Object.keys(e),o=Ee(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),qe(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Re(e);if(0===s.length){if(Je(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(He(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ue(e))return t.stylize(Date.prototype.toString.call(e),"date");if(qe(e))return Re(e)}var l,h="",c=!1,u=["{","}"];if(Be(e)&&(c=!0,u=["[","]"]),Je(e)){var f=e.name?": "+e.name:"";h=" [Function"+f+"]"}return He(e)&&(h=" "+RegExp.prototype.toString.call(e)),Ue(e)&&(h=" "+Date.prototype.toUTCString.call(e)),qe(e)&&(h=" "+Re(e)),0!==s.length||c&&0!=e.length?n<0?He(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),l=c?Ie(t,e,n,o,s):s.map((function(i){return Le(t,e,n,o,i,c)})),t.seen.pop(),Ne(l,h,u)):u[0]+h+u[1]}function Pe(t,e){if(We(e))return t.stylize("undefined","undefined");if(Ve(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return ze(e)?t.stylize(""+e,"number"):je(e)?t.stylize(""+e,"boolean"):Fe(e)?t.stylize("null","null"):void 0}function Re(t){return"["+Error.prototype.toString.call(t)+"]"}function Ie(t,e,n,i,r){for(var s=[],o=0,a=e.length;o<a;++o)Ye(e,String(o))?s.push(Le(t,e,n,i,String(o),!0)):s.push("");return r.forEach((function(r){r.match(/^\d+$/)||s.push(Le(t,e,n,i,r,!0))})),s}function Le(t,e,n,i,r,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),Ye(i,r)||(o="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=Fe(n)?De(t,l.value,null):De(t,l.value,n-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n"))):a=t.stylize("[Circular]","special")),We(o)){if(s&&r.match(/^\d+$/))return a;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function Ne(t,e,n){var i=t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function Be(t){return Array.isArray(t)}function je(t){return"boolean"===typeof t}function Fe(t){return null===t}function ze(t){return"number"===typeof t}function Ve(t){return"string"===typeof t}function We(t){return void 0===t}function He(t){return $e(t)&&"[object RegExp]"===Qe(t)}function $e(t){return"object"===typeof t&&null!==t}function Ue(t){return $e(t)&&"[object Date]"===Qe(t)}function qe(t){return $e(t)&&("[object Error]"===Qe(t)||t instanceof Error)}function Je(t){return"function"===typeof t}function Qe(t){return Object.prototype.toString.call(t)}function Ge(t,e){if(!e||!$e(e))return t;var n=Object.keys(e),i=n.length;while(i--)t[n[i]]=e[n[i]];return t}function Ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ke(){this.head=null,this.tail=null,this.length=0}Ce.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ce.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Ke.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},Ke.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},Ke.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},Ke.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ke.prototype.join=function(t){if(0===this.length)return"";var e=this.head,n=""+e.data;while(e=e.next)n+=t+e.data;return n},Ke.prototype.concat=function(t){if(0===this.length)return w.alloc(0);if(1===this.length)return this.head.data;var e=w.allocUnsafe(t>>>0),n=this.head,i=0;while(n)n.data.copy(e,i),i+=n.data.length,n=n.next;return e};var Xe=w.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ze(t){if(t&&!Xe(t))throw new Error("Unknown encoding: "+t)}function tn(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),Ze(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=nn;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=rn;break;default:return void(this.write=en)}this.charBuffer=new w(6),this.charReceived=0,this.charLength=0}function en(t){return t.toString(this.encoding)}function nn(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function rn(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}tn.prototype.write=function(t){var e="";while(this.charLength){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(!(i>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r);r=e.length-1,i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,r)}return e},tn.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},tn.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;e+=i.slice(0,n).toString(r)}return e},hn.ReadableState=ln;var sn=Oe("stream");function on(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function an(t,e){return t.listeners(e).length}function ln(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof ii&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ke,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new tn(t.encoding),this.encoding=t.encoding)}function hn(t){if(!(this instanceof hn))return new hn(t);this._readableState=new ln(t,this),this.readable=!0,t&&"function"===typeof t.read&&(this._read=t.read),bt.call(this)}function cn(t,e,n,i,r){var s=gn(e,n);if(s)t.emit("error",s);else if(null===n)e.reading=!1,mn(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var o=new Error("stream.push() after EOF");t.emit("error",o)}else if(e.endEmitted&&r){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var l;!e.decoder||r||i||(n=e.decoder.write(n),l=!e.objectMode&&0===n.length),r||(e.reading=!1),l||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&vn(t))),yn(t,e)}else r||(e.reading=!1);return un(e)}function un(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}we(hn,bt),hn.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!==typeof t||(e=e||n.defaultEncoding,e!==n.encoding&&(t=w.from(t,e),e="")),cn(this,n,t,e,!1)},hn.prototype.unshift=function(t){var e=this._readableState;return cn(this,e,t,"",!0)},hn.prototype.isPaused=function(){return!1===this._readableState.flowing},hn.prototype.setEncoding=function(t){return this._readableState.decoder=new tn(t),this._readableState.encoding=t,this};var fn=8388608;function dn(t){return t>=fn?t=fn:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function pn(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=dn(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function gn(t,e){var n=null;return pt(e)||"string"===typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function mn(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,vn(t)}}function vn(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(sn("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?$t(bn,t):bn(t))}function bn(t){sn("emit readable"),t.emit("readable"),Mn(t)}function yn(t,e){e.readingMore||(e.readingMore=!0,$t(wn,t,e))}function wn(t,e){var n=e.length;while(!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark){if(sn("maybeReadMore read 0"),t.read(0),n===e.length)break;n=e.length}e.readingMore=!1}function xn(t){return function(){var e=t._readableState;sn("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Mn(t))}}function _n(t){sn("readable nexttick read 0"),t.read(0)}function kn(t,e){e.resumeScheduled||(e.resumeScheduled=!0,$t(Sn,t,e))}function Sn(t,e){e.reading||(sn("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Mn(t),e.flowing&&!e.reading&&t.read(0)}function Mn(t){var e=t._readableState;sn("flow",e.flowing);while(e.flowing&&null!==t.read());}function On(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=Cn(t,e.buffer,e.decoder),n);var n}function Cn(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?An(t,e):Tn(t,e),i}function An(t,e){var n=e.head,i=1,r=n.data;t-=r.length;while(n=n.next){var s=n.data,o=t>s.length?s.length:t;if(o===s.length?r+=s:r+=s.slice(0,t),t-=o,0===t){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function Tn(t,e){var n=w.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;while(i=i.next){var s=i.data,o=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,o),t-=o,0===t){o===s.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++r}return e.length-=r,n}function En(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,$t(Dn,e,t))}function Dn(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Pn(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}function Rn(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function In(){}function Ln(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function Nn(t,e){Object.defineProperty(this,"buffer",{get:ke((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof ii&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=!1===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){Un(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Zn(this)}function Bn(t){if(!(this instanceof Bn)&&!(this instanceof ii))return new Bn(t);this._writableState=new Nn(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev)),bt.call(this)}function jn(t,e){var n=new Error("write after end");t.emit("error",n),$t(e,n)}function Fn(t,e,n,i){var r=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):w.isBuffer(n)||"string"===typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),$t(i,s),r=!1),r}function zn(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=w.from(e,n)),e}function Vn(t,e,n,i,r){n=zn(e,n,i),w.isBuffer(n)&&(i="buffer");var s=e.objectMode?1:n.length;e.length+=s;var o=e.length<e.highWaterMark;if(o||(e.needDrain=!0),e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new Ln(n,i,r),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Wn(t,e,!1,s,n,i,r);return o}function Wn(t,e,n,i,r,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function Hn(t,e,n,i,r){--e.pendingcb,n?$t(r,i):r(i),t._writableState.errorEmitted=!0,t.emit("error",i)}function $n(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Un(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if($n(n),e)Hn(t,n,i,e,r);else{var s=Gn(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||Qn(t,n),i?$t(qn,t,n,s,r):qn(t,n,s,r)}}function qn(t,e,n,i){n||Jn(t,e),e.pendingcb--,i(),Kn(t,e)}function Jn(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Qn(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),s=e.corkedRequestsFree;s.entry=n;var o=0;while(n)r[o]=n,n=n.next,o+=1;Wn(t,e,!0,e.length,r,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Zn(e)}else{while(n){var a=n.chunk,l=n.encoding,h=n.callback,c=e.objectMode?1:a.length;if(Wn(t,e,!1,c,a,l,h),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function Gn(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function Yn(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function Kn(t,e){var n=Gn(e);return n&&(0===e.pendingcb?(Yn(t,e),e.finished=!0,t.emit("finish")):Yn(t,e)),n}function Xn(t,e,n){e.ending=!0,Kn(t,e),n&&(e.finished?$t(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function Zn(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;e.entry=null;while(i){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}hn.prototype.read=function(t){sn("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return sn("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?En(this):vn(this),null;if(t=pn(t,e),0===t&&e.ended)return 0===e.length&&En(this),null;var i,r=e.needReadable;return sn("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,sn("length less than watermark",r)),e.ended||e.reading?(r=!1,sn("reading or ended",r)):r&&(sn("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=pn(n,e))),i=t>0?On(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&En(this)),null!==i&&this.emit("data",i),i},hn.prototype._read=function(t){this.emit("error",new Error("not implemented"))},hn.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,sn("pipe count=%d opts=%j",i.pipesCount,e);var r=!e||!1!==e.end,s=r?a:c;function o(t){sn("onunpipe"),t===n&&c()}function a(){sn("onend"),t.end()}i.endEmitted?$t(s):n.once("end",s),t.on("unpipe",o);var l=xn(n);t.on("drain",l);var h=!1;function c(){sn("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",c),n.removeListener("data",f),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}var u=!1;function f(e){sn("ondata"),u=!1;var r=t.write(e);!1!==r||u||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==Rn(i.pipes,t))&&!h&&(sn("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,u=!0),n.pause())}function d(e){sn("onerror",e),m(),t.removeListener("error",d),0===an(t,"error")&&t.emit("error",e)}function p(){t.removeListener("finish",g),m()}function g(){sn("onfinish"),t.removeListener("close",p),m()}function m(){sn("unpipe"),n.unpipe(t)}return n.on("data",f),on(t,"error",d),t.once("close",p),t.once("finish",g),t.emit("pipe",n),i.flowing||(sn("pipe resume"),n.resume()),t},hn.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var s=Rn(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},hn.prototype.on=function(t,e){var n=bt.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&vn(this):$t(_n,this))}return n},hn.prototype.addListener=hn.prototype.on,hn.prototype.resume=function(){var t=this._readableState;return t.flowing||(sn("resume"),t.flowing=!0,kn(this,t)),this},hn.prototype.pause=function(){return sn("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(sn("pause"),this._readableState.flowing=!1,this.emit("pause")),this},hn.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;for(var r in t.on("end",(function(){if(sn("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)})),t.on("data",(function(r){if(sn("wrapped data"),e.decoder&&(r=e.decoder.write(r)),(!e.objectMode||null!==r&&void 0!==r)&&(e.objectMode||r&&r.length)){var s=i.push(r);s||(n=!0,t.pause())}})),t)void 0===this[r]&&"function"===typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));var s=["error","close","destroy","pause","resume"];return Pn(s,(function(e){t.on(e,i.emit.bind(i,e))})),i._read=function(e){sn("wrapped _read",e),n&&(n=!1,t.resume())},i},hn._fromList=On,Bn.WritableState=Nn,we(Bn,bt),Nn.prototype.getBuffer=function(){var t=this.bufferedRequest,e=[];while(t)e.push(t),t=t.next;return e},Bn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Bn.prototype.write=function(t,e,n){var i=this._writableState,r=!1;return"function"===typeof e&&(n=e,e=null),w.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!==typeof n&&(n=In),i.ended?jn(this,n):Fn(this,i,t,n)&&(i.pendingcb++,r=Vn(this,i,t,e,n)),r},Bn.prototype.cork=function(){var t=this._writableState;t.corked++},Bn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||Qn(this,t))},Bn.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Bn.prototype._write=function(t,e,n){n(new Error("not implemented"))},Bn.prototype._writev=null,Bn.prototype.end=function(t,e,n){var i=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||Xn(this,i,n)},we(ii,hn);for(var ti=Object.keys(Bn.prototype),ei=0;ei<ti.length;ei++){var ni=ti[ei];ii.prototype[ni]||(ii.prototype[ni]=Bn.prototype[ni])}function ii(t){if(!(this instanceof ii))return new ii(t);hn.call(this,t),Bn.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",ri)}function ri(){this.allowHalfOpen||this._writableState.ended||$t(si,this)}function si(t){t.end()}function oi(t){this.afterTransform=function(e,n){return ai(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function ai(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&t.push(n),r(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function li(t){if(!(this instanceof li))return new li(t);ii.call(this,t),this._transformState=new oi(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"===typeof this._flush?this._flush((function(t){hi(e,t)})):hi(e)}))}function hi(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}function ci(t){if(!(this instanceof ci))return new ci(t);li.call(this,t)}function ui(){bt.call(this)}we(li,ii),li.prototype.push=function(t,e){return this._transformState.needTransform=!1,ii.prototype.push.call(this,t,e)},li.prototype._transform=function(t,e,n){throw new Error("Not implemented")},li.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},li.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},we(ci,li),ci.prototype._transform=function(t,e,n){n(null,t)},we(ui,bt),ui.Readable=hn,ui.Writable=Bn,ui.Duplex=ii,ui.Transform=li,ui.PassThrough=ci,ui.Stream=ui,ui.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",r),t._isStdio||e&&!1===e.end||(n.on("end",o),n.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,"function"===typeof t.destroy&&t.destroy())}function l(t){if(h(),0===bt.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",i),t.removeListener("drain",r),n.removeListener("end",o),n.removeListener("close",a),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",l),t.on("error",l),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t};const fi=function(t){return"object"===typeof t&&null!==t&&!Array.isArray(t)};class di extends Error{constructor(t,e,n,...i){Array.isArray(e)&&(e=e.join(" ")),super(e),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,di),this.code=t;for(const r of i)for(const t in r){const e=r[t];this[t]=pt(e)?e.toString(n.encoding):null==e?e:JSON.parse(JSON.stringify(e))}}}const pi=function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];if(void 0===i||null===i||!1===i)e[n]={disabled:!0};else if("string"===typeof i)e[n]={name:i};else{if(!fi(i))throw new di("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(i)} at position ${n}`]);if("string"!==typeof i.name)throw new di("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${n}`,"when column is an object literal"]);e[n]=i}}return e};class gi{constructor(t=100){this.size=t,this.length=0,this.buf=w.allocUnsafe(t)}prepend(t){if(pt(t)){const e=this.length+t.length;if(e>=this.size&&(this.resize(),e>=this.size))throw Error("INVALID_BUFFER_STATE");const n=this.buf;this.buf=w.allocUnsafe(this.size),t.copy(this.buf,0),n.copy(this.buf,t.length),this.length+=t.length}else{const e=this.length++;e===this.size&&this.resize();const n=this.clone();this.buf[0]=t,n.copy(this.buf,1,0,e)}}append(t){const e=this.length++;e===this.size&&this.resize(),this.buf[e]=t}clone(){return w.from(this.buf.slice(0,this.length))}resize(){const t=this.length;this.size=2*this.size;const e=w.allocUnsafe(this.size);this.buf.copy(e,0,0,t),this.buf=e}toString(t){return t?this.buf.slice(0,this.length).toString(t):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const mi=12,vi=13,bi=10,yi=32,wi=9,xi=function(t){return{bomSkipped:!1,bufBytesStart:0,castField:t.cast_function,commenting:!1,error:void 0,enabled:1===t.from_line,escaping:!1,escapeIsQuote:pt(t.escape)&&pt(t.quote)&&0===w.compare(t.escape,t.quote),expectedRecordLength:Array.isArray(t.columns)?t.columns.length:void 0,field:new gi(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(null!==t.comment?t.comment.length:0,...t.delimiter.map((t=>t.length)),null!==t.quote?t.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new gi(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===t.record_delimiter.length?2:Math.max(...t.record_delimiter.map((t=>t.length))),trimChars:[w.from(" ",t.encoding)[0],w.from("\t",t.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[w.from(w.from([vi],"utf8").toString(),t.encoding),w.from(w.from([bi],"utf8").toString(),t.encoding),w.from(w.from([mi],"utf8").toString(),t.encoding),w.from(w.from([yi],"utf8").toString(),t.encoding),w.from(w.from([wi],"utf8").toString(),t.encoding)]}},_i=function(t){return t.replace(/([A-Z])/g,(function(t,e){return"_"+e.toLowerCase()}))},ki=function(t){const e={};for(const i in t)e[_i(i)]=t[i];if(void 0===e.encoding||!0===e.encoding)e.encoding="utf8";else if(null===e.encoding||!1===e.encoding)e.encoding=null;else if("string"!==typeof e.encoding&&null!==e.encoding)throw new di("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(void 0===e.bom||null===e.bom||!1===e.bom)e.bom=!1;else if(!0!==e.bom)throw new di("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,void 0===e.cast||null===e.cast||!1===e.cast||""===e.cast)e.cast=void 0;else if("function"===typeof e.cast)e.cast_function=e.cast,e.cast=!0;else if(!0!==e.cast)throw new di("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(void 0===e.cast_date||null===e.cast_date||!1===e.cast_date||""===e.cast_date)e.cast_date=!1;else if(!0===e.cast_date)e.cast_date=function(t){const e=Date.parse(t);return isNaN(e)?t:new Date(e)};else if("function"!==typeof e.cast_date)throw new di("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,!0===e.columns)e.cast_first_line_to_header=void 0;else if("function"===typeof e.columns)e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=pi(e.columns);else{if(void 0!==e.columns&&null!==e.columns&&!1!==e.columns)throw new di("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);e.columns=!1}if(void 0===e.group_columns_by_name||null===e.group_columns_by_name||!1===e.group_columns_by_name)e.group_columns_by_name=!1;else{if(!0!==e.group_columns_by_name)throw new di("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(!1===e.columns)throw new di("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(void 0===e.comment||null===e.comment||!1===e.comment||""===e.comment)e.comment=null;else if("string"===typeof e.comment&&(e.comment=w.from(e.comment,e.encoding)),!pt(e.comment))throw new di("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);const n=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),0===e.delimiter.length)throw new di("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);if(e.delimiter=e.delimiter.map((function(t){if(void 0===t||null===t||!1===t)return w.from(",",e.encoding);if("string"===typeof t&&(t=w.from(t,e.encoding)),!pt(t)||0===t.length)throw new di("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);return t})),void 0===e.escape||!0===e.escape?e.escape=w.from('"',e.encoding):"string"===typeof e.escape?e.escape=w.from(e.escape,e.encoding):null!==e.escape&&!1!==e.escape||(e.escape=null),null!==e.escape&&!pt(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(void 0===e.from||null===e.from)e.from=1;else{if("string"===typeof e.from&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),!Number.isInteger(e.from))throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}if(void 0===e.from_line||null===e.from_line)e.from_line=1;else{if("string"===typeof e.from_line&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),!Number.isInteger(e.from_line))throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`);if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}if(void 0===e.ignore_last_delimiters||null===e.ignore_last_delimiters)e.ignore_last_delimiters=!1;else if("number"===typeof e.ignore_last_delimiters)e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),0===e.ignore_last_delimiters&&(e.ignore_last_delimiters=!1);else if("boolean"!==typeof e.ignore_last_delimiters)throw new di("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(!0===e.ignore_last_delimiters&&!1===e.columns)throw new di("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(void 0===e.info||null===e.info||!1===e.info)e.info=!1;else if(!0!==e.info)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(void 0===e.max_record_size||null===e.max_record_size||!1===e.max_record_size)e.max_record_size=0;else if(Number.isInteger(e.max_record_size)&&e.max_record_size>=0);else{if("string"!==typeof e.max_record_size||!/\d+/.test(e.max_record_size))throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);e.max_record_size=parseInt(e.max_record_size)}if(void 0===e.objname||null===e.objname||!1===e.objname)e.objname=void 0;else if(pt(e.objname)){if(0===e.objname.length)throw new Error("Invalid Option: objname must be a non empty buffer");null===e.encoding||(e.objname=e.objname.toString(e.encoding))}else if("string"===typeof e.objname){if(0===e.objname.length)throw new Error("Invalid Option: objname must be a non empty string")}else if("number"!==typeof e.objname)throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(void 0!==e.objname)if("number"===typeof e.objname){if(!1!==e.columns)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(!1===e.columns)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index");if(void 0===e.on_record||null===e.on_record)e.on_record=void 0;else if("function"!==typeof e.on_record)throw new di("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(null===e.quote||!1===e.quote||""===e.quote)e.quote=null;else if(void 0===e.quote||!0===e.quote?e.quote=w.from('"',e.encoding):"string"===typeof e.quote&&(e.quote=w.from(e.quote,e.encoding)),!pt(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(void 0===e.raw||null===e.raw||!1===e.raw)e.raw=!1;else if(!0!==e.raw)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(void 0===e.record_delimiter)e.record_delimiter=[];else if("string"===typeof e.record_delimiter||pt(e.record_delimiter)){if(0===e.record_delimiter.length)throw new di("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new di("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map((function(t,n){if("string"!==typeof t&&!pt(t))throw new di("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${n},`,`got ${JSON.stringify(t)}`],e);if(0===t.length)throw new di("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${n},`,`got ${JSON.stringify(t)}`],e);return"string"===typeof t&&(t=w.from(t,e.encoding)),t})),"boolean"===typeof e.relax_column_count);else{if(void 0!==e.relax_column_count&&null!==e.relax_column_count)throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);e.relax_column_count=!1}if("boolean"===typeof e.relax_column_count_less);else{if(void 0!==e.relax_column_count_less&&null!==e.relax_column_count_less)throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);e.relax_column_count_less=!1}if("boolean"===typeof e.relax_column_count_more);else{if(void 0!==e.relax_column_count_more&&null!==e.relax_column_count_more)throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);e.relax_column_count_more=!1}if("boolean"===typeof e.relax_quotes);else{if(void 0!==e.relax_quotes&&null!==e.relax_quotes)throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);e.relax_quotes=!1}if("boolean"===typeof e.skip_empty_lines);else{if(void 0!==e.skip_empty_lines&&null!==e.skip_empty_lines)throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);e.skip_empty_lines=!1}if("boolean"===typeof e.skip_records_with_empty_values);else{if(void 0!==e.skip_records_with_empty_values&&null!==e.skip_records_with_empty_values)throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);e.skip_records_with_empty_values=!1}if("boolean"===typeof e.skip_records_with_error);else{if(void 0!==e.skip_records_with_error&&null!==e.skip_records_with_error)throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);e.skip_records_with_error=!1}if(void 0===e.rtrim||null===e.rtrim||!1===e.rtrim)e.rtrim=!1;else if(!0!==e.rtrim)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(void 0===e.ltrim||null===e.ltrim||!1===e.ltrim)e.ltrim=!1;else if(!0!==e.ltrim)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(void 0===e.trim||null===e.trim||!1===e.trim)e.trim=!1;else if(!0!==e.trim)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(!0===e.trim&&!1!==t.ltrim?e.ltrim=!0:!0!==e.ltrim&&(e.ltrim=!1),!0===e.trim&&!1!==t.rtrim?e.rtrim=!0:!0!==e.rtrim&&(e.rtrim=!1),void 0===e.to||null===e.to)e.to=-1;else{if("string"===typeof e.to&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),!Number.isInteger(e.to))throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`);if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}if(void 0===e.to_line||null===e.to_line)e.to_line=-1;else{if("string"===typeof e.to_line&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),!Number.isInteger(e.to_line))throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`);if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}return e},Si=function(t){return t.every((t=>null==t||t.toString&&""===t.toString().trim()))},Mi=13,Oi=10,Ci={utf8:w.from([239,187,191]),utf16le:w.from([255,254])},Ai=function(t={}){const e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},n=ki(t);return{info:e,original_options:t,options:n,state:xi(n),__needMoreData:function(t,e,n){if(n)return!1;const{quote:i}=this.options,{quoting:r,needMoreDataSize:s,recordDelimiterMaxLength:o}=this.state,a=e-t-1,l=Math.max(s,o,r?i.length+o:0);return a<l},parse:function(t,e,n,i){const{bom:r,from_line:s,ltrim:o,max_record_size:a,raw:l,relax_quotes:h,rtrim:c,skip_empty_lines:u,to:f,to_line:d}=this.options;let{comment:p,escape:g,quote:m,record_delimiter:v}=this.options;const{bomSkipped:b,previousBuf:y,rawBuffer:x,escapeIsQuote:_}=this.state;let k;if(void 0===y){if(void 0===t)return void i();k=t}else k=void 0!==y&&void 0===t?y:w.concat([y,t]);if(!1===b)if(!1===r)this.state.bomSkipped=!0;else if(k.length<3){if(!1===e)return void(this.state.previousBuf=k)}else{for(const t in Ci)if(0===Ci[t].compare(k,0,Ci[t].length)){const e=Ci[t].length;this.state.bufBytesStart+=e,k=k.slice(e),this.options=ki({...this.original_options,encoding:t}),({comment:p,escape:g,quote:m}=this.options);break}this.state.bomSkipped=!0}const S=k.length;let M;for(M=0;M<S;M++){if(this.__needMoreData(M,S,e))break;if(!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1),-1!==d&&this.info.lines>d)return this.state.stop=!0,void i();if(!1===this.state.quoting&&0===v.length){const t=this.__autoDiscoverRecordDelimiter(k,M);t&&(v=this.options.record_delimiter)}const t=k[M];if(!0===l&&x.append(t),t!==Mi&&t!==Oi||!1!==this.state.wasRowDelimiter||(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==g&&!0===this.state.quoting&&this.__isEscape(k,M,t)&&M+g.length<S){if(!_){this.state.escaping=!0,M+=g.length-1;continue}if(this.__isQuote(k,M+g.length)){this.state.escaping=!0,M+=g.length-1;continue}}if(!1===this.state.commenting&&this.__isQuote(k,M))if(!0===this.state.quoting){const e=k[M+m.length],n=c&&this.__isCharTrimable(k,M+m.length),i=null!==p&&this.__compareBytes(p,k,M+m.length,e),r=this.__isDelimiter(k,M+m.length,e),s=0===v.length?this.__autoDiscoverRecordDelimiter(k,M+m.length):this.__isRecordDelimiter(e,k,M+m.length);if(null!==g&&this.__isEscape(k,M,t)&&this.__isQuote(k,M+g.length))M+=g.length-1;else{if(!e||r||s||i||n){this.state.quoting=!1,this.state.wasQuoting=!0,M+=m.length-1;continue}if(!1===h){const t=this.__error(new di("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(e)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(void 0!==t)return t}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(m),M+=m.length-1}}else{if(0===this.state.field.length){this.state.quoting=!0,M+=m.length-1;continue}if(!1===h){const t=this.__error(new di("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found inside a field at line ${this.info.lines}`],this.options,this.__infoField(),{field:this.state.field}));if(void 0!==t)return t}}if(!1===this.state.quoting){const e=this.__isRecordDelimiter(t,k,M);if(0!==e){const t=this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length;if(t)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=s){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),M+=e-1;continue}if(!0===u&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,M+=e-1;continue}this.info.bytes=this.state.bufBytesStart+M;const t=this.__onField();if(void 0!==t)return t;this.info.bytes=this.state.bufBytesStart+M+e;const r=this.__onRecord(n);if(void 0!==r)return r;if(-1!==f&&this.info.records>=f)return this.state.stop=!0,void i()}this.state.commenting=!1,M+=e-1;continue}if(this.state.commenting)continue;const r=null===p?0:this.__compareBytes(p,k,M,t);if(0!==r){this.state.commenting=!0;continue}const o=this.__isDelimiter(k,M,t);if(0!==o){this.info.bytes=this.state.bufBytesStart+M;const t=this.__onField();if(void 0!==t)return t;M+=o-1;continue}}}if(!1===this.state.commenting&&0!==a&&this.state.record_length+this.state.field.length>a)return this.__error(new di("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${a}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const r=!1===o||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(k,M),b=!1===c||!1===this.state.wasQuoting;if(!0!==r||!0!==b){if(!0!==c||this.__isCharTrimable(k,M)){!1===r&&(M+=this.__isCharTrimable(k,M)-1);continue}return this.__error(new di("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()))}this.state.field.append(t)}if(!0===e)if(!0===this.state.quoting){const t=this.__error(new di("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==t)return t}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){this.info.bytes=this.state.bufBytesStart+M;const t=this.__onField();if(void 0!==t)return t;const e=this.__onRecord(n);if(void 0!==e)return e}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.bufBytesStart+=M,this.state.previousBuf=k.slice(M);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(t){const{columns:e,group_columns_by_name:n,encoding:i,info:r,from:s,relax_column_count:o,relax_column_count_less:a,relax_column_count_more:l,raw:h,skip_records_with_empty_values:c}=this.options,{enabled:u,record:f}=this.state;if(!1===u)return this.__resetRecord();const d=f.length;if(!0===e)return!0===c&&Si(f)?void this.__resetRecord():this.__firstLineToColumns(f);if(!1===e&&0===this.info.records&&(this.state.expectedRecordLength=d),d!==this.state.expectedRecordLength){const t=!1===e?new di("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${d} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f}):new di("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${e.length},`,`got ${d} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f});if(!0===o||!0===a&&d<this.state.expectedRecordLength||!0===l&&d>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=t;else{const e=this.__error(t);if(e)return e}}if(!0===c&&Si(f))this.__resetRecord();else{if(!0===this.state.recordHasError)return this.__resetRecord(),void(this.state.recordHasError=!1);if(this.info.records++,1===s||this.info.records>=s){const{objname:s}=this.options;if(!1!==e){const o={};for(let t=0,i=f.length;t<i;t++)void 0===e[t]||e[t].disabled||(!0===n&&void 0!==o[e[t].name]?Array.isArray(o[e[t].name])?o[e[t].name]=o[e[t].name].concat(f[t]):o[e[t].name]=[o[e[t].name],f[t]]:o[e[t].name]=f[t]);if(!0===h||!0===r){const e=Object.assign({record:o},!0===h?{raw:this.state.rawBuffer.toString(i)}:{},!0===r?{info:this.__infoRecord()}:{}),n=this.__push(void 0===s?e:[o[s],e],t);if(n)return n}else{const e=this.__push(void 0===s?o:[o[s],o],t);if(e)return e}}else if(!0===h||!0===r){const e=Object.assign({record:f},!0===h?{raw:this.state.rawBuffer.toString(i)}:{},!0===r?{info:this.__infoRecord()}:{}),n=this.__push(void 0===s?e:[f[s],e],t);if(n)return n}else{const e=this.__push(void 0===s?f:[f[s],f],t);if(e)return e}}this.__resetRecord()}},__firstLineToColumns:function(t){const{firstLineToHeaders:e}=this.state;try{const n=void 0===e?t:e.call(null,t);if(!Array.isArray(n))return this.__error(new di("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(n)}`],this.options,this.__infoField(),{headers:n}));const i=pi(n);return this.state.expectedRecordLength=i.length,this.options.columns=i,void this.__resetRecord()}catch(n){return n}},__resetRecord:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:t,encoding:e,rtrim:n,max_record_size:i}=this.options,{enabled:r,wasQuoting:s}=this.state;if(!1===r)return this.__resetField();let o=this.state.field.toString(e);if(!0===n&&!1===s&&(o=o.trimRight()),!0===t){const[t,e]=this.__cast(o);if(void 0!==t)return t;o=e}this.state.record.push(o),0!==i&&"string"===typeof o&&(this.state.record_length+=o.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(t,e){const{on_record:n}=this.options;if(void 0!==n){const e=this.__infoRecord();try{t=n.call(null,t,e)}catch(i){return i}if(void 0===t||null===t)return}e(t)},__cast:function(t){const{columns:e,relax_column_count:n}=this.options,i=Array.isArray(e);if(!0===i&&n&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(null!==this.state.castField)try{const e=this.__infoField();return[void 0,this.state.castField.call(null,t,e)]}catch(r){return[r]}if(this.__isFloat(t))return[void 0,parseFloat(t)];if(!1!==this.options.cast_date){const e=this.__infoField();return[void 0,this.options.cast_date.call(null,t,e)]}return[void 0,t]},__isCharTrimable:function(t,e){const n=(t,e)=>{const{timchars:n}=this.state;t:for(let i=0;i<n.length;i++){const r=n[i];for(let n=0;n<r.length;n++)if(r[n]!==t[e+n])continue t;return r.length}return 0};return n(t,e)},__isFloat:function(t){return t-parseFloat(t)+1>=0},__compareBytes:function(t,e,n,i){if(t[0]!==i)return 0;const r=t.length;for(let s=1;s<r;s++)if(t[s]!==e[n+s])return 0;return r},__isDelimiter:function(t,e,n){const{delimiter:i,ignore_last_delimiters:r}=this.options;if(!0===r&&this.state.record.length===this.options.columns.length-1)return 0;if(!1!==r&&"number"===typeof r&&this.state.record.length===r-1)return 0;t:for(let s=0;s<i.length;s++){const r=i[s];if(r[0]===n){for(let n=1;n<r.length;n++)if(r[n]!==t[e+n])continue t;return r.length}}return 0},__isRecordDelimiter:function(t,e,n){const{record_delimiter:i}=this.options,r=i.length;t:for(let s=0;s<r;s++){const r=i[s],o=r.length;if(r[0]===t){for(let t=1;t<o;t++)if(r[t]!==e[n+t])continue t;return r.length}}return 0},__isEscape:function(t,e,n){const{escape:i}=this.options;if(null===i)return!1;const r=i.length;if(i[0]===n){for(let n=0;n<r;n++)if(i[n]!==t[e+n])return!1;return!0}return!1},__isQuote:function(t,e){const{quote:n}=this.options;if(null===n)return!1;const i=n.length;for(let r=0;r<i;r++)if(n[r]!==t[e+r])return!1;return!0},__autoDiscoverRecordDelimiter:function(t,e){const{encoding:n}=this.options,i=t[e];return i===Mi?t[e+1]===Oi?(this.options.record_delimiter.push(w.from("\r\n",n)),this.state.recordDelimiterMaxLength=2,2):(this.options.record_delimiter.push(w.from("\r",n)),this.state.recordDelimiterMaxLength=1,1):i===Oi?(this.options.record_delimiter.push(w.from("\n",n)),this.state.recordDelimiterMaxLength=1,1):0},__error:function(t){const{encoding:e,raw:n,skip_records_with_error:i}=this.options,r="string"===typeof t?new Error(t):t;return i?(this.state.recordHasError=!0,void(void 0!==this.options.on_skip&&this.options.on_skip(r,n?this.state.rawBuffer.toString(e):void 0))):r},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:t,raw:e,encoding:n}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:!0===t,index:this.state.record.length,raw:e?this.state.rawBuffer.toString(n):void 0}},__infoField:function(){const{columns:t}=this.options,e=Array.isArray(t);return{...this.__infoRecord(),column:!0===e?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};class Ti extends li{constructor(t={}){super({readableObjectMode:!0,...t,encoding:null}),this.api=Ai(t),this.api.options.on_skip=(t,e)=>{this.emit("skip",t,e)},this.state=this.api.state,this.options=this.api.options,this.info=this.api.info}_transform(t,e,n){if(!0===this.state.stop)return;const i=this.api.parse(t,!1,(t=>{this.push.call(this,t)}),(()=>{this.push.call(this,null)}));void 0!==i&&(this.state.stop=!0),n(i)}_flush(t){if(!0===this.state.stop)return;const e=this.api.parse(void 0,!0,(t=>{this.push.call(this,t)}),(()=>{this.push.call(this,null)}));t(e)}}const Ei=function(){let t,e,n;for(const r in arguments){const i=arguments[r],s=typeof i;if(void 0!==t||"string"!==typeof i&&!pt(i))if(void 0===e&&fi(i))e=i;else{if(void 0!==n||"function"!==s)throw new di("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(i)} at index ${r}`],e||{});n=i}else t=i}const i=new Ti(e);if(n){const t=void 0===e||void 0===e.objname?[]:{};i.on("readable",(function(){let n;while(null!==(n=this.read()))void 0===e||void 0===e.objname?t.push(n):t[n[0]]=n[1]})),i.on("error",(function(t){n(t,void 0,i.api.__infoDataSet())})),i.on("end",(function(){n(void 0,t,i.api.__infoDataSet())}))}if(void 0!==t){const e=function(){i.write(t),i.end()};"function"===typeof setImmediate?setImmediate(e):setTimeout(e,0)}return i}},6776:function(t,e,n){"use strict";n.d(e,{V:function(){return a}});n(1703);const i="ͼ",r="undefined"==typeof Symbol?"__"+i:Symbol.for(i),s="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class a{constructor(t,e){this.rules=[];let{finish:n}=e||{};function i(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function r(t,e,s,o){let a=[],l=/^@(\w+)\b/.exec(t[0]),h=l&&"keyframes"==l[1];if(l&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))r(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(i(n),o,a,h)}else null!=o&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(a.length||h)&&s.push((!n||l||o?t:t.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let s in t)r(i(s),t[s],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=o[r]||1;return o[r]=t+1,i+t.toString(36)}static mount(t,e){(t[s]||new h(t)).mount(Array.isArray(e)?e:[e])}}let l=null;class h{constructor(t){if(!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(l)return t.adoptedStyleSheets=[l.sheet].concat(t.adoptedStyleSheets),t[s]=l;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),l=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[],t[s]=this}mount(t){let e=this.sheet,n=0,i=0;for(let r=0;r<t.length;r++){let s=t[r],o=this.modules.indexOf(s);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),-1==o){if(this.modules.splice(i++,0,s),e)for(let t=0;t<s.rules.length;t++)e.insertRule(s.rules[t],n++)}else{while(i<o)n+=this.modules[i++].rules.length;n+=s.rules.length,i++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}}},2483:function(t,e,n){"use strict";n.d(e,{PO:function(){return F},p7:function(){return ee}});n(1703);var i=n(3396),r=n(4870);
/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const s="undefined"!==typeof window;function o(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const n={};for(const i in e){const r=e[i];n[i]=c(r)?r.map(t):t(r)}return n}const h=()=>{},c=Array.isArray;const u=/\/$/,f=t=>t.replace(u,"");function d(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=x(null!=i?i:e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function p(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function g(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function m(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&v(e.matched[i],n.matched[r])&&b(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function v(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function b(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!y(t[n],e[n]))return!1;return!0}function y(t,e){return c(t)?w(t,e):c(e)?w(e,t):t===e}function w(t,e){return c(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function x(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let r,s,o=n.length-1;for(r=0;r<i.length;r++)if(s=i[r],"."!==s){if(".."!==s)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var _,k;(function(t){t["pop"]="pop",t["push"]="push"})(_||(_={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(k||(k={}));function S(t){if(!t)if(s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),f(t)}const M=/^[^#]+#/;function O(t,e){return t.replace(M,"#")+e}function C(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const A=()=>({left:window.pageXOffset,top:window.pageYOffset});function T(t){let e;if("el"in t){const n=t.el,i="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=C(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function E(t,e){const n=history.state?history.state.position-e:-1;return n+t}const D=new Map;function P(t,e){D.set(t,e)}function R(t){const e=D.get(t);return D.delete(t),e}let I=()=>location.protocol+"//"+location.host;function L(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let e=r.includes(t.slice(s))?t.slice(s).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),g(n,"")}const o=g(n,t);return o+i+r}function N(t,e,n,i){let r=[],s=[],o=null;const l=({state:s})=>{const a=L(t,location),l=n.value,h=e.value;let c=0;if(s){if(n.value=a,e.value=s,o&&o===l)return void(o=null);c=h?s.position-h.position:0}else i(a);r.forEach((t=>{t(n.value,l,{delta:c,type:_.pop,direction:c?c>0?k.forward:k.back:k.unknown})}))};function h(){o=n.value}function c(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return s.push(e),e}function u(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:A()}),"")}function f(){for(const t of s)t();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:h,listen:c,destroy:f}}function B(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?A():null}}function j(t){const{history:e,location:n}=window,i={value:L(t,n)},r={value:e.state};function s(i,s,o){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+i:I()+t+i;try{e[o?"replaceState":"pushState"](s,"",l),r.value=s}catch(h){console.error(h),n[o?"replace":"assign"](l)}}function o(t,n){const o=a({},e.state,B(r.value.back,t,r.value.forward,!0),n,{position:r.value.position});s(t,o,!0),i.value=t}function l(t,n){const o=a({},r.value,e.state,{forward:t,scroll:A()});s(o.current,o,!0);const l=a({},B(i.value,t,null),{position:o.position+1},n);s(t,l,!1),i.value=t}return r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:l,replace:o}}function F(t){t=S(t);const e=j(t),n=N(t,e.state,e.location,e.replace);function i(t,e=!0){e||n.pauseListeners(),history.go(t)}const r=a({location:"",base:t,go:i,createHref:O.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function z(t){return"string"===typeof t||t&&"object"===typeof t}function V(t){return"string"===typeof t||"symbol"===typeof t}const W={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},H=Symbol("");var $;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})($||($={}));function U(t,e){return a(new Error,{type:t,[H]:!0},e)}function q(t,e){return t instanceof Error&&H in t&&(null==e||!!(t.type&e))}const J="[^/]+?",Q={sensitive:!1,strict:!1,start:!0,end:!0},G=/[.+*?^${}()[\]/\\]/g;function Y(t,e){const n=a({},Q,e),i=[];let r=n.start?"^":"";const s=[];for(const a of t){const t=a.length?[]:[90];n.strict&&!a.length&&(r+="/");for(let e=0;e<a.length;e++){const i=a[e];let o=40+(n.sensitive?.25:0);if(0===i.type)e||(r+="/"),r+=i.value.replace(G,"\\$&"),o+=40;else if(1===i.type){const{value:t,repeatable:n,optional:l,regexp:h}=i;s.push({name:t,repeatable:n,optional:l});const c=h||J;if(c!==J){o+=10;try{new RegExp(`(${c})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${t}" (${c}): `+u.message)}}let f=n?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;e||(f=l&&a.length<2?`(?:/${f})`:"/"+f),l&&(f+="?"),r+=f,o+=20,l&&(o+=-8),n&&(o+=-20),".*"===c&&(o+=-50)}t.push(o)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(t){const e=t.match(o),n={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",r=s[i-1];n[r.name]=t&&r.repeatable?t.split("/"):t}return n}function h(e){let n="",i=!1;for(const r of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:s,repeatable:o,optional:a}=t,l=s in e?e[s]:"";if(c(l)&&!o)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const h=c(l)?l.join("/"):l;if(!h){if(!a)throw new Error(`Missing required param "${s}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=h}}return n||"/"}return{re:o,score:i,keys:s,parse:l,stringify:h}}function K(t,e){let n=0;while(n<t.length&&n<e.length){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function X(t,e){let n=0;const i=t.score,r=e.score;while(n<i.length&&n<r.length){const t=K(i[n],r[n]);if(t)return t;n++}if(1===Math.abs(r.length-i.length)){if(Z(i))return 1;if(Z(r))return-1}return r.length-i.length}function Z(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tt={type:0,value:""},et=/[a-zA-Z0-9_]/;function nt(t){if(!t)return[[]];if("/"===t)return[[tt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${h}": ${t}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a,l=0,h="",c="";function u(){h&&(0===n?s.push({type:0,value:h}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),h="")}function f(){h+=a}while(l<t.length)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(h&&u(),o()):":"===a?(u(),n=1):f();break;case 4:f(),n=i;break;case 1:"("===a?n=2:et.test(a)?f():(u(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:u(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:e("Unknown state");break}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${h}"`),u(),o(),r}function it(t,e,n){const i=Y(nt(t.path),n);const r=a(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf===!e.record.aliasOf&&e.children.push(r),r}function rt(t,e){const n=[],i=new Map;function r(t){return i.get(t)}function s(t,n,i){const r=!i,l=ot(t);l.aliasOf=i&&i.record;const u=ct(e,t),f=[l];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)f.push(a({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l}))}let d,p;for(const e of f){const{path:a}=e;if(n&&"/"!==a[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(a&&i+a)}if(d=it(e,n,u),i?i.alias.push(d):(p=p||d,p!==d&&p.alias.push(d),r&&t.name&&!lt(d)&&o(t.name)),l.children){const t=l.children;for(let e=0;e<t.length;e++)s(t[e],d,i&&i.children[e])}i=i||d,c(d)}return p?()=>{o(p)}:h}function o(t){if(V(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function l(){return n}function c(t){let e=0;while(e<n.length&&X(t,n[e])>=0&&(t.record.path!==n[e].record.path||!ut(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!lt(t)&&i.set(t.record.name,t)}function u(t,e){let r,s,o,l={};if("name"in t&&t.name){if(r=i.get(t.name),!r)throw U(1,{location:t});o=r.record.name,l=a(st(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),s=r.stringify(l)}else if("path"in t)s=t.path,r=n.find((t=>t.re.test(s))),r&&(l=r.parse(s),o=r.record.name);else{if(r=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw U(1,{location:t,currentLocation:e});o=r.record.name,l=a({},e.params,t.params),s=r.stringify(l)}const h=[];let c=r;while(c)h.unshift(c.record),c=c.parent;return{name:o,path:s,params:l,matched:h,meta:ht(h)}}return e=ct({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>s(t))),{addRoute:s,resolve:u,removeRoute:o,getRoutes:l,getRecordMatcher:r}}function st(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ot(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:at(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function at(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="boolean"===typeof n?n:n[i];return e}function lt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ht(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function ct(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function ut(t,e){return e.children.some((e=>e===t||ut(t,e)))}const ft=/#/g,dt=/&/g,pt=/\//g,gt=/=/g,mt=/\?/g,vt=/\+/g,bt=/%5B/g,yt=/%5D/g,wt=/%5E/g,xt=/%60/g,_t=/%7B/g,kt=/%7C/g,St=/%7D/g,Mt=/%20/g;function Ot(t){return encodeURI(""+t).replace(kt,"|").replace(bt,"[").replace(yt,"]")}function Ct(t){return Ot(t).replace(_t,"{").replace(St,"}").replace(wt,"^")}function At(t){return Ot(t).replace(vt,"%2B").replace(Mt,"+").replace(ft,"%23").replace(dt,"%26").replace(xt,"`").replace(_t,"{").replace(St,"}").replace(wt,"^")}function Tt(t){return At(t).replace(gt,"%3D")}function Et(t){return Ot(t).replace(ft,"%23").replace(mt,"%3F")}function Dt(t){return null==t?"":Et(t).replace(pt,"%2F")}function Pt(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Rt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],i=(n?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const t=i[r].replace(vt," "),n=t.indexOf("="),s=Pt(n<0?t:t.slice(0,n)),o=n<0?null:Pt(t.slice(n+1));if(s in e){let t=e[s];c(t)||(t=e[s]=[t]),t.push(o)}else e[s]=o}return e}function It(t){let e="";for(let n in t){const i=t[n];if(n=Tt(n),null==i){void 0!==i&&(e+=(e.length?"&":"")+n);continue}const r=c(i)?i.map((t=>t&&At(t))):[i&&At(i)];r.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Lt(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=c(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const Nt=Symbol(""),Bt=Symbol(""),jt=Symbol(""),Ft=Symbol(""),zt=Symbol("");function Vt(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Wt(t,e,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((o,a)=>{const l=t=>{!1===t?a(U(4,{from:n,to:e})):t instanceof Error?a(t):z(t)?a(U(2,{from:e,to:t})):(s&&i.enterCallbacks[r]===s&&"function"===typeof t&&s.push(t),o())},h=t.call(i&&i.instances[r],e,n,l);let c=Promise.resolve(h);t.length<3&&(c=c.then(l)),c.catch((t=>a(t)))}))}function Ht(t,e,n,i){const r=[];for(const s of t){0;for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if($t(a)){const o=a.__vccOpts||a,l=o[e];l&&r.push(Wt(l,n,i,s,t))}else{let l=a();0,r.push((()=>l.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const a=o(r)?r.default:r;s.components[t]=a;const l=a.__vccOpts||a,h=l[e];return h&&Wt(h,n,i,s,t)()}))))}}}return r}function $t(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Ut(t){const e=(0,i.f3)(jt),n=(0,i.f3)(Ft),s=(0,i.Fl)((()=>e.resolve((0,r.SU)(t.to)))),o=(0,i.Fl)((()=>{const{matched:t}=s.value,{length:e}=t,i=t[e-1],r=n.matched;if(!i||!r.length)return-1;const o=r.findIndex(v.bind(null,i));if(o>-1)return o;const a=Yt(t[e-2]);return e>1&&Yt(i)===a&&r[r.length-1].path!==a?r.findIndex(v.bind(null,t[e-2])):o})),a=(0,i.Fl)((()=>o.value>-1&&Gt(n.params,s.value.params))),l=(0,i.Fl)((()=>o.value>-1&&o.value===n.matched.length-1&&b(n.params,s.value.params)));function c(n={}){return Qt(n)?e[(0,r.SU)(t.replace)?"replace":"push"]((0,r.SU)(t.to)).catch(h):Promise.resolve()}return{route:s,href:(0,i.Fl)((()=>s.value.href)),isActive:a,isExactActive:l,navigate:c}}const qt=(0,i.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ut,setup(t,{slots:e}){const n=(0,r.qj)(Ut(t)),{options:s}=(0,i.f3)(jt),o=(0,i.Fl)((()=>({[Kt(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Kt(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:(0,i.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Jt=qt;function Qt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Gt(t,e){for(const n in e){const i=e[n],r=t[n];if("string"===typeof i){if(i!==r)return!1}else if(!c(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}function Yt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Kt=(t,e,n)=>null!=t?t:null!=e?e:n,Xt=(0,i.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=(0,i.f3)(zt),o=(0,i.Fl)((()=>t.route||s.value)),l=(0,i.f3)(Bt,0),h=(0,i.Fl)((()=>{let t=(0,r.SU)(l);const{matched:e}=o.value;let n;while((n=e[t])&&!n.components)t++;return t})),c=(0,i.Fl)((()=>o.value.matched[h.value]));(0,i.JJ)(Bt,(0,i.Fl)((()=>h.value+1))),(0,i.JJ)(Nt,c),(0,i.JJ)(zt,o);const u=(0,r.iH)();return(0,i.YP)((()=>[u.value,c.value,t.name]),(([t,e,n],[i,r,s])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&v(e,r)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=o.value,s=t.name,l=c.value,h=l&&l.components[s];if(!h)return Zt(n.default,{Component:h,route:r});const f=l.props[s],d=f?!0===f?r.params:"function"===typeof f?f(r):f:null,p=t=>{t.component.isUnmounted&&(l.instances[s]=null)},g=(0,i.h)(h,a({},d,e,{onVnodeUnmounted:p,ref:u}));return Zt(n.default,{Component:g,route:r})||g}}});function Zt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const te=Xt;function ee(t){const e=rt(t.routes,t),n=t.parseQuery||Rt,o=t.stringifyQuery||It,u=t.history;const f=Vt(),g=Vt(),v=Vt(),b=(0,r.XI)(W);let y=W;s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=l.bind(null,(t=>""+t)),x=l.bind(null,Dt),k=l.bind(null,Pt);function S(t,n){let i,r;return V(t)?(i=e.getRecordMatcher(t),r=n):r=t,e.addRoute(r,i)}function M(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function O(){return e.getRoutes().map((t=>t.record))}function C(t){return!!e.getRecordMatcher(t)}function D(t,i){if(i=a({},i||b.value),"string"===typeof t){const r=d(n,t,i.path),s=e.resolve({path:r.path},i),o=u.createHref(r.fullPath);return a(r,s,{params:k(s.params),hash:Pt(r.hash),redirectedFrom:void 0,href:o})}let r;if("path"in t)r=a({},t,{path:d(n,t.path,i.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];r=a({},t,{params:x(t.params)}),i.params=x(i.params)}const s=e.resolve(r,i),l=t.hash||"";s.params=w(k(s.params));const h=p(o,a({},t,{hash:Ct(l),path:s.path})),c=u.createHref(h);return a({fullPath:h,hash:l,query:o===It?Lt(t.query):t.query||{}},s,{redirectedFrom:void 0,href:c})}function I(t){return"string"===typeof t?d(n,t,b.value.path):a({},t)}function L(t,e){if(y!==t)return U(8,{from:e,to:t})}function N(t){return F(t)}function B(t){return N(a(I(t),{replace:!0}))}function j(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"===typeof n?n(t):n;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=I(i):{path:i},i.params={}),a({query:t.query,hash:t.hash,params:"path"in i?{}:t.params},i)}}function F(t,e){const n=y=D(t),i=b.value,r=t.state,s=t.force,l=!0===t.replace,h=j(n);if(h)return F(a(I(h),{state:r,force:s,replace:l}),e||n);const c=n;let u;return c.redirectedFrom=e,!s&&m(o,i,n)&&(u=U(16,{to:c,from:i}),nt(i,i,!0,!1)),(u?Promise.resolve(u):H(c,i)).catch((t=>q(t)?q(t,2)?t:et(t):Z(t,c,i))).then((t=>{if(t){if(q(t,2))return F(a({replace:l},I(t.to),{state:r,force:s}),e||c)}else t=J(c,i,!0,l,r);return $(c,i,t),t}))}function z(t,e){const n=L(t,e);return n?Promise.reject(n):Promise.resolve()}function H(t,e){let n;const[i,r,s]=ie(t,e);n=Ht(i.reverse(),"beforeRouteLeave",t,e);for(const a of i)a.leaveGuards.forEach((i=>{n.push(Wt(i,t,e))}));const o=z.bind(null,t,e);return n.push(o),ne(n).then((()=>{n=[];for(const i of f.list())n.push(Wt(i,t,e));return n.push(o),ne(n)})).then((()=>{n=Ht(r,"beforeRouteUpdate",t,e);for(const i of r)i.updateGuards.forEach((i=>{n.push(Wt(i,t,e))}));return n.push(o),ne(n)})).then((()=>{n=[];for(const i of t.matched)if(i.beforeEnter&&!e.matched.includes(i))if(c(i.beforeEnter))for(const r of i.beforeEnter)n.push(Wt(r,t,e));else n.push(Wt(i.beforeEnter,t,e));return n.push(o),ne(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Ht(s,"beforeRouteEnter",t,e),n.push(o),ne(n)))).then((()=>{n=[];for(const i of g.list())n.push(Wt(i,t,e));return n.push(o),ne(n)})).catch((t=>q(t,8)?t:Promise.reject(t)))}function $(t,e,n){for(const i of v.list())i(t,e,n)}function J(t,e,n,i,r){const o=L(t,e);if(o)return o;const l=e===W,h=s?history.state:{};n&&(i||l?u.replace(t.fullPath,a({scroll:l&&h&&h.scroll},r)):u.push(t.fullPath,r)),b.value=t,nt(t,e,n,l),et()}let Q;function G(){Q||(Q=u.listen(((t,e,n)=>{if(!at.listening)return;const i=D(t),r=j(i);if(r)return void F(a(r,{replace:!0}),i).catch(h);y=i;const o=b.value;s&&P(E(o.fullPath,n.delta),A()),H(i,o).catch((t=>q(t,12)?t:q(t,2)?(F(t.to,i).then((t=>{q(t,20)&&!n.delta&&n.type===_.pop&&u.go(-1,!1)})).catch(h),Promise.reject()):(n.delta&&u.go(-n.delta,!1),Z(t,i,o)))).then((t=>{t=t||J(i,o,!1),t&&(n.delta&&!q(t,8)?u.go(-n.delta,!1):n.type===_.pop&&q(t,20)&&u.go(-1,!1)),$(i,o,t)})).catch(h)})))}let Y,K=Vt(),X=Vt();function Z(t,e,n){et(t);const i=X.list();return i.length?i.forEach((i=>i(t,e,n))):console.error(t),Promise.reject(t)}function tt(){return Y&&b.value!==W?Promise.resolve():new Promise(((t,e)=>{K.add([t,e])}))}function et(t){return Y||(Y=!t,G(),K.list().forEach((([e,n])=>t?n(t):e())),K.reset()),t}function nt(e,n,r,o){const{scrollBehavior:a}=t;if(!s||!a)return Promise.resolve();const l=!r&&R(E(e.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return(0,i.Y3)().then((()=>a(e,n,l))).then((t=>t&&T(t))).catch((t=>Z(t,e,n)))}const it=t=>u.go(t);let st;const ot=new Set,at={currentRoute:b,listening:!0,addRoute:S,removeRoute:M,hasRoute:C,getRoutes:O,resolve:D,options:t,push:N,replace:B,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:f.add,beforeResolve:g.add,afterEach:v.add,onError:X.add,isReady:tt,install(t){const e=this;t.component("RouterLink",Jt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(b)}),s&&!st&&b.value===W&&(st=!0,N(u.location).catch((t=>{0})));const n={};for(const r in W)n[r]=(0,i.Fl)((()=>b.value[r]));t.provide(jt,e),t.provide(Ft,(0,r.qj)(n)),t.provide(zt,b);const o=t.unmount;ot.add(t),t.unmount=function(){ot.delete(t),ot.size<1&&(y=W,Q&&Q(),Q=null,b.value=W,st=!1,Y=!1),o()}}};return at}function ne(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function ie(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const s=e.matched[o];s&&(t.matched.find((t=>v(t,s)))?i.push(s):n.push(s));const a=t.matched[o];a&&(e.matched.find((t=>v(t,a)))||r.push(a))}return[n,i,r]}}}]);
//# sourceMappingURL=chunk-vendors.9d8964bf.js.map